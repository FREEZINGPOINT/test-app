{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import LocalBackGround from'./../commons/LocalBackGround';import{FetchDoGet,FetchDoPost,FetchDoUploadFile}from'./../commons/Utils';/**\n * 基本的公共的引入\n */import Bottom from'./../components/Bottom';import{withRouter}from'react-router-dom';import'antd/dist/antd.css';import{Layout,Card,Button,Divider,Tabs,PageHeader,Avatar,Upload,Row,Col,Input}from'antd';import{MenuUnfoldOutlined,MenuFoldOutlined,UploadOutlined}from'@ant-design/icons';//end\nvar itemCardStyle={width:\"50%\",float:\"left\"};var TabPane=Tabs.TabPane;/**\n * 我们的个人主页\n */var EditUserInfo=/*#__PURE__*/function(_React$Component){_inherits(EditUserInfo,_React$Component);function EditUserInfo(props){var _this;_classCallCheck(this,EditUserInfo);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditUserInfo).call(this,props));_this.state={userData:null,user:{},role:{},other:{},avater:null};return _this;}/**\n     * 初始化我们的数据\n     */_createClass(EditUserInfo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;/**\n         * 获取当前登陆的用户\n         */FetchDoGet(\"/block/v1/sys_user/getCurrentLoginUser\",function(response){_this.setState({userData:response,user:response.tbSystemUser,role:response.tbSystemRole,other:response.userOtherMessageInfo,avater:response.tbSystemUser.userPhoto});});}},{key:\"render\",value:function render(){var history=this.props.history;var _this=this;var span=18;var gutter=[8,15];return React.createElement(LocalBackGround,{onBack:function onBack(){history.go(-1);},content:React.createElement(\"div\",null,React.createElement(Card,{style:{width:\"100%\"}},React.createElement(Tabs,{tabPosition:\"left\",size:\"large\",type:\"line\"},React.createElement(TabPane,{tab:\"\\u57FA\\u672C\\u8BBE\\u7F6E\",key:\"1\"},React.createElement(PageHeader,{title:\"\"},React.createElement(Card,{style:{width:\"100%\"},bordered:false,title:\"基本设置\",extra:React.createElement(Button,{type:\"primary\"},\"\\u66F4\\u65B0\\u57FA\\u672C\\u4FE1\\u606F\")},React.createElement(Card,{style:{width:\"50%\",float:\"left\"},bordered:false},React.createElement(Row,{gutter:gutter},React.createElement(Col,{span:span},\"\\u7528\\u6237\\u540D\",React.createElement(Input,{disabled:true}))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{span:span},\"\\u6635\\u79F0\",React.createElement(Input,{id:\"nickName\",placeholder:\"\\u6635\\u79F0\"}))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{span:span},\"\\u624B\\u673A\",React.createElement(Input,{id:\"phone\",placeholder:\"\\u624B\\u673A\"}))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{span:span},\"\\u90AE\\u7BB1\",React.createElement(Input,{id:\"phone\",placeholder:\"\\u624B\\u673A\"}))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{span:span},\"\\u6027\\u522B\",React.createElement(Input,{id:\"phone\",placeholder:\"\\u624B\\u673A\"}))),React.createElement(Card.Meta,{title:\"*诺想更新其他信息*\",description:\"其他信息有管理员或者部门领导者更新\"})),React.createElement(Card,{style:{width:\"50%\",float:\"right\",textAlign:\"center\"},bordered:false},React.createElement(Avatar,{size:\"large\",style:{height:\"80px\",width:\"80px\",clear:\"both\"},src:this.state.avater}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Upload,{showUploadList:false,customRequest:function customRequest(option){var formData=new FormData();formData.append('file',option.file);//上传文件\nFetchDoUploadFile(null,formData,function(response){console.log(response);_this.setState({avater:response.fileName,oriFileName:response.oriFileName});});}},React.createElement(Button,null,React.createElement(UploadOutlined,null),\" \\u4E0A\\u4F20\\u5934\\u50CF\")))))),React.createElement(TabPane,{tab:\"\\u8BBE\\u7F6E\\u5BC6\\u7801\",key:\"2\"},React.createElement(PageHeader,{title:\"\"},React.createElement(Card,{style:{width:\"100%\"},bordered:false,title:\"设置密码\"},React.createElement(Row,{gutter:gutter},React.createElement(Col,{offset:8,span:8},\"\\u539F\\u5BC6\\u7801\",React.createElement(Input,null))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{offset:8,span:8},\"\\u65B0\\u5BC6\\u7801\",React.createElement(Input,null))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{offset:8,span:8},\"\\u786E\\u8BA4\\u65B0\\u5BC6\\u7801\",React.createElement(Input,null))),React.createElement(Row,{gutter:gutter},React.createElement(Col,{offset:8,span:8},React.createElement(Button,{type:\"primary\"},\"\\u786E\\u8BA4\\u66F4\\u65B0\\u4FE1\\u606F\")))))))))});}}]);return EditUserInfo;}(React.Component);export default withRouter(EditUserInfo);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/EditUserInfo.js"],"names":["React","LocalBackGround","FetchDoGet","FetchDoPost","FetchDoUploadFile","Bottom","withRouter","Layout","Card","Button","Divider","Tabs","PageHeader","Avatar","Upload","Row","Col","Input","MenuUnfoldOutlined","MenuFoldOutlined","UploadOutlined","itemCardStyle","width","float","TabPane","EditUserInfo","props","state","userData","user","role","other","avater","_this","response","setState","tbSystemUser","tbSystemRole","userOtherMessageInfo","userPhoto","history","span","gutter","go","textAlign","height","clear","option","formData","FormData","append","file","console","log","fileName","oriFileName","Component"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,OAAQC,UAAR,CAAmBC,WAAnB,CAA+BC,iBAA/B,KAAuD,oBAAvD,CACA;;GAGA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,oBAAP,CACA,OAASC,MAAT,CAAgBC,IAAhB,CAAqBC,MAArB,CAA4BC,OAA5B,CAAoCC,IAApC,CAA0CC,UAA1C,CAAqDC,MAArD,CAA4DC,MAA5D,CAAmEC,GAAnE,CAAwEC,GAAxE,CAA4EC,KAA5E,KAAwF,MAAxF,CACA,OACEC,kBADF,CAEEC,gBAFF,CAGEC,cAHF,KAIO,mBAJP,CAKA;AAGA,GAAMC,CAAAA,aAAa,CAAC,CAChBC,KAAK,CAAC,KADU,CAEhBC,KAAK,CAAC,MAFU,CAApB,C,GAKQC,CAAAA,O,CAAYb,I,CAAZa,O,CAER;;MAGMC,CAAAA,Y,kFACF,sBAAYC,KAAZ,CAAkB,8CACd,8EAAMA,KAAN,GACA,MAAKC,KAAL,CAAW,CACPC,QAAQ,CAAC,IADF,CAEPC,IAAI,CAAC,EAFE,CAGPC,IAAI,CAAC,EAHE,CAIPC,KAAK,CAAC,EAJC,CAKPC,MAAM,CAAC,IALA,CAAX,CAFc,aASjB,CAED;;6FAGmB,CACf,GAAMC,CAAAA,KAAK,CAAC,IAAZ,CACA;;WAGA/B,UAAU,CAAC,wCAAD,CAA0C,SAASgC,QAAT,CAAkB,CAClED,KAAK,CAACE,QAAN,CAAe,CACXP,QAAQ,CAACM,QADE,CAEXL,IAAI,CAACK,QAAQ,CAACE,YAFH,CAGXN,IAAI,CAACI,QAAQ,CAACG,YAHH,CAIXN,KAAK,CAACG,QAAQ,CAACI,oBAJJ,CAKXN,MAAM,CAACE,QAAQ,CAACE,YAAT,CAAsBG,SALlB,CAAf,EAOH,CARS,CAAV,CAUH,C,uCAEO,CACJ,GAAIC,CAAAA,OAAO,CAAC,KAAKd,KAAL,CAAWc,OAAvB,CACA,GAAMP,CAAAA,KAAK,CAAC,IAAZ,CACA,GAAIQ,CAAAA,IAAI,CAAC,EAAT,CACA,GAAIC,CAAAA,MAAM,CAAC,CAAC,CAAD,CAAG,EAAH,CAAX,CACA,MACI,qBAAC,eAAD,EACA,MAAM,CAAE,iBAAI,CAACF,OAAO,CAACG,EAAR,CAAW,CAAC,CAAZ,EAAe,CAD5B,CAEC,OAAO,CACJ,+BACI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACrB,KAAK,CAAC,MAAP,CAAb,EACI,oBAAC,IAAD,EAAM,WAAW,CAAC,MAAlB,CACA,IAAI,CAAC,OADL,CAEA,IAAI,CAAC,MAFL,EAII,oBAAC,OAAD,EAAS,GAAG,CAAC,0BAAb,CAAoB,GAAG,CAAC,GAAxB,EACI,oBAAC,UAAD,EAAY,KAAK,CAAE,EAAnB,EACI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACA,KAAK,CAAC,MAAP,CAAb,CACA,QAAQ,CAAE,KADV,CAEA,KAAK,CAAE,MAFP,CAGA,KAAK,CACD,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,yCAJJ,EAOI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACA,KAAK,CAAC,KAAP,CAAaC,KAAK,CAAC,MAAnB,CAAb,CACA,QAAQ,CAAE,KADV,EAGI,oBAAC,GAAD,EAAK,MAAM,CAAEmB,MAAb,EACI,oBAAC,GAAD,EAAM,IAAI,CAAED,IAAZ,uBAAqB,oBAAC,KAAD,EAAO,QAAQ,KAAf,EAArB,CADJ,CAHJ,CAMI,oBAAC,GAAD,EAAK,MAAM,CAAEC,MAAb,EACI,oBAAC,GAAD,EAAM,IAAI,CAAED,IAAZ,iBAAoB,oBAAC,KAAD,EAAO,EAAE,CAAC,UAAV,CAAqB,WAAW,CAAC,cAAjC,EAApB,CADJ,CANJ,CASI,oBAAC,GAAD,EAAK,MAAM,CAAEC,MAAb,EACI,oBAAC,GAAD,EAAM,IAAI,CAAED,IAAZ,iBAAoB,oBAAC,KAAD,EAAO,EAAE,CAAC,OAAV,CAAkB,WAAW,CAAC,cAA9B,EAApB,CADJ,CATJ,CAYI,oBAAC,GAAD,EAAK,MAAM,CAAEC,MAAb,EACI,oBAAC,GAAD,EAAM,IAAI,CAAED,IAAZ,iBAAoB,oBAAC,KAAD,EAAO,EAAE,CAAC,OAAV,CAAkB,WAAW,CAAC,cAA9B,EAApB,CADJ,CAZJ,CAeI,oBAAC,GAAD,EAAK,MAAM,CAAEC,MAAb,EACI,oBAAC,GAAD,EAAM,IAAI,CAAED,IAAZ,iBAAoB,oBAAC,KAAD,EAAO,EAAE,CAAC,OAAV,CAAkB,WAAW,CAAC,cAA9B,EAApB,CADJ,CAfJ,CAkBI,oBAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAE,YAAlB,CAAgC,WAAW,CAAE,mBAA7C,EAlBJ,CAPJ,CA2BI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACnB,KAAK,CAAC,KAAP,CAAaC,KAAK,CAAC,OAAnB,CAA2BqB,SAAS,CAAC,QAArC,CAAb,CACA,QAAQ,CAAE,KADV,EAGI,oBAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CACI,KAAK,CAAE,CAACC,MAAM,CAAC,MAAR,CAAevB,KAAK,CAAC,MAArB,CAA4BwB,KAAK,CAAC,MAAlC,CADX,CAEI,GAAG,CAAE,KAAKnB,KAAL,CAAWK,MAFpB,EAHJ,CAOI,8BAPJ,CAQI,8BARJ,CASI,oBAAC,MAAD,EACA,cAAc,CAAE,KADhB,CAEA,aAAa,CAAE,uBAACe,MAAD,CAAU,CACrB,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAuBH,MAAM,CAACI,IAA9B,EACA;AACA/C,iBAAiB,CAAC,IAAD,CAAM4C,QAAN,CAAe,SAASd,QAAT,CAAkB,CAC9CkB,OAAO,CAACC,GAAR,CAAYnB,QAAZ,EACAD,KAAK,CAACE,QAAN,CAAe,CACXH,MAAM,CAACE,QAAQ,CAACoB,QADL,CAEXC,WAAW,CAACrB,QAAQ,CAACqB,WAFV,CAAf,EAIH,CANgB,CAAjB,CAOH,CAbD,EAeI,oBAAC,MAAD,MACA,oBAAC,cAAD,MADA,6BAfJ,CATJ,CA3BJ,CADJ,CADJ,CAJJ,CAiEI,oBAAC,OAAD,EAAS,GAAG,CAAC,0BAAb,CAAoB,GAAG,CAAC,GAAxB,EACI,oBAAC,UAAD,EAAY,KAAK,CAAE,EAAnB,EACI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACjC,KAAK,CAAC,MAAP,CAAb,CACA,QAAQ,CAAE,KADV,CAEA,KAAK,CAAE,MAFP,EAII,oBAAC,GAAD,EAAK,MAAM,CAAEoB,MAAb,EACQ,oBAAC,GAAD,EAAM,MAAM,CAAE,CAAd,CAAiB,IAAI,CAAE,CAAvB,uBAA6B,oBAAC,KAAD,MAA7B,CADR,CAJJ,CAOI,oBAAC,GAAD,EAAK,MAAM,CAAEA,MAAb,EACQ,oBAAC,GAAD,EAAM,MAAM,CAAE,CAAd,CAAiB,IAAI,CAAE,CAAvB,uBAA6B,oBAAC,KAAD,MAA7B,CADR,CAPJ,CAUI,oBAAC,GAAD,EAAK,MAAM,CAAEA,MAAb,EACQ,oBAAC,GAAD,EAAM,MAAM,CAAE,CAAd,CAAiB,IAAI,CAAE,CAAvB,mCAA+B,oBAAC,KAAD,MAA/B,CADR,CAVJ,CAaI,oBAAC,GAAD,EAAK,MAAM,CAAEA,MAAb,EACQ,oBAAC,GAAD,EAAM,MAAM,CAAE,CAAd,CAAiB,IAAI,CAAE,CAAvB,EAA0B,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,yCAA1B,CADR,CAbJ,CADJ,CADJ,CAjEJ,CADJ,CADJ,CAHJ,EADJ,CAmGH,C,0BAxIsB1C,KAAK,CAACwD,S,EA2IjC,cAAgBlD,CAAAA,UAAU,CAACmB,YAAD,CAA1B","sourcesContent":["import React from 'react'\nimport LocalBackGround from './../commons/LocalBackGround'\nimport {FetchDoGet,FetchDoPost,FetchDoUploadFile} from './../commons/Utils'\n/**\n * 基本的公共的引入\n */\nimport Bottom from './../components/Bottom'\nimport { withRouter } from 'react-router-dom'\nimport 'antd/dist/antd.css';\nimport { Layout,Card,Button,Divider,Tabs, PageHeader,Avatar,Upload,Row, Col,Input} from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  UploadOutlined\n} from '@ant-design/icons';\n//end\n\n\nconst itemCardStyle={\n    width:\"50%\",\n    float:\"left\"\n}\n\nconst { TabPane } = Tabs;\n\n/**\n * 我们的个人主页\n */\nclass EditUserInfo extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            userData:null,\n            user:{},\n            role:{},\n            other:{},\n            avater:null\n        }\n    }\n\n    /**\n     * 初始化我们的数据\n     */\n    componentDidMount(){\n        const _this=this;\n        /**\n         * 获取当前登陆的用户\n         */\n        FetchDoGet(\"/block/v1/sys_user/getCurrentLoginUser\",function(response){\n            _this.setState({\n                userData:response,\n                user:response.tbSystemUser,\n                role:response.tbSystemRole,\n                other:response.userOtherMessageInfo,\n                avater:response.tbSystemUser.userPhoto\n            })\n        });\n        \n    }\n\n    render(){\n        let history=this.props.history;\n        const _this=this;\n        let span=18\n        let gutter=[8,15]\n        return( \n            <LocalBackGround\n            onBack={()=>{history.go(-1)}}\n             content={\n                <div>\n                    <Card style={{width:\"100%\"}}>\n                        <Tabs tabPosition=\"left\"\n                        size=\"large\"\n                        type=\"line\"\n                        >\n                            <TabPane tab=\"基本设置\" key=\"1\">\n                                <PageHeader title={\"\"}>\n                                    <Card style={{width:\"100%\"}}\n                                    bordered={false}\n                                    title={\"基本设置\"}\n                                    extra={\n                                        <Button type=\"primary\">更新基本信息</Button>\n                                    }\n                                    >\n                                        <Card style={{width:\"50%\",float:\"left\"}}\n                                        bordered={false}\n                                        >\n                                            <Row gutter={gutter}>\n                                                <Col  span={span}>用户名<Input disabled></Input></Col>\n                                            </Row>\n                                            <Row gutter={gutter}>\n                                                <Col  span={span}>昵称<Input id=\"nickName\" placeholder=\"昵称\"></Input></Col>\n                                            </Row>\n                                            <Row gutter={gutter}>\n                                                <Col  span={span}>手机<Input id=\"phone\" placeholder=\"手机\"></Input></Col>\n                                            </Row>\n                                            <Row gutter={gutter}>\n                                                <Col  span={span}>邮箱<Input id=\"phone\" placeholder=\"手机\"></Input></Col>\n                                            </Row>\n                                            <Row gutter={gutter}>\n                                                <Col  span={span}>性别<Input id=\"phone\" placeholder=\"手机\"></Input></Col>\n                                            </Row>\n                                            <Card.Meta title={\"*诺想更新其他信息*\"} description={\"其他信息有管理员或者部门领导者更新\"}/>\n                                        </Card>\n                                        <Card style={{width:\"50%\",float:\"right\",textAlign:\"center\"}}\n                                        bordered={false}\n                                        >\n                                            <Avatar size=\"large\"\n                                                style={{height:\"80px\",width:\"80px\",clear:\"both\"}}\n                                                src={this.state.avater}\n                                            />\n                                            <br/>\n                                            <br/>\n                                            <Upload \n                                            showUploadList={false}\n                                            customRequest={(option)=>{\n                                                const formData = new FormData();\n                                                formData.append('file',option.file);\n                                                //上传文件\n                                                FetchDoUploadFile(null,formData,function(response){\n                                                    console.log(response)\n                                                    _this.setState({\n                                                        avater:response.fileName,\n                                                        oriFileName:response.oriFileName\n                                                    })\n                                                })\n                                            }}\n                                            >\n                                                <Button>\n                                                <UploadOutlined /> 上传头像\n                                                </Button>\n                                            </Upload>\n                                        </Card>\n                                    </Card>\n                                </PageHeader>  \n                            </TabPane>\n                            <TabPane tab=\"设置密码\" key=\"2\">\n                                <PageHeader title={\"\"}>\n                                    <Card style={{width:\"100%\"}}\n                                    bordered={false}\n                                    title={\"设置密码\"}\n                                    >\n                                        <Row gutter={gutter}>\n                                                <Col  offset={8} span={8}>原密码<Input></Input></Col>\n                                        </Row>\n                                        <Row gutter={gutter}>\n                                                <Col  offset={8} span={8}>新密码<Input></Input></Col>\n                                        </Row>\n                                        <Row gutter={gutter}>\n                                                <Col  offset={8} span={8}>确认新密码<Input></Input></Col>\n                                        </Row>\n                                        <Row gutter={gutter}>\n                                                <Col  offset={8} span={8}><Button type=\"primary\">确认更新信息</Button></Col>\n                                        </Row>\n\n\n                                    </Card>\n                                </PageHeader>\n                            </TabPane>\n                        </Tabs>\n                    </Card>\n                </div>\n            }/>\n        )\n    }\n}\n\nexport default  withRouter(EditUserInfo)"]},"metadata":{},"sourceType":"module"}
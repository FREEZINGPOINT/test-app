{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Menu,Icon}from'antd';import'antd/dist/antd.css';//请求的基本操作\nimport{FetchDoGet,FetchDoPost}from'./../commons/Utils';import{Link,withRouter}from'react-router-dom';import{MenuUnfoldOutlined,MenuFoldOutlined,UserOutlined,VideoCameraOutlined,UploadOutlined}from'@ant-design/icons';import LocalIconFont from'./../components/LocalIconFont';var SubMenu=Menu.SubMenu;var MenuItemGroup=Menu.ItemGroup;/**\n * 我们的menu的组件\n */var MenuComponent=/*#__PURE__*/function(_React$Component){_inherits(MenuComponent,_React$Component);function MenuComponent(props){var _this;_classCallCheck(this,MenuComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(MenuComponent).call(this,props));_this.state={current:1,parentMenu:[],collapsed:null//菜单的展示问题\n};_this.menuOnOpenHandle=_this.menuOnOpenHandle.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.subMenuClick=_this.subMenuClick.bind(_assertThisInitialized(_this));return _this;}_createClass(MenuComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;this.setState({collapsed:this.props.collapsed});FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function(response){_this.setState({parentMenu:response});//console.log(response); \n});}},{key:\"getInitialState\",value:function getInitialState(){return{current:'1'};}},{key:\"handleClick\",value:function handleClick(e){console.log('click ',e);this.setState({current:e.key});}},{key:\"menuOnOpenHandle\",value:function menuOnOpenHandle(e){//console.log(\"menuOnOpenHandle\",e)\n}},{key:\"subMenuClick\",value:function subMenuClick(e){//console.log(\"subMenuClick\",e)\nvar _this=this;var parentMenu=_this.state.parentMenu;}},{key:\"render\",value:function render(){var _this2=this;var data=this.props.location.state;// console.log(\"data\",data);\n// this.props.setTitleCallBack(this.props.location.state)\n//console.log(\"this.props.collapsed\",this.props.collapsed)\nif(undefined==data||null==data){data={openKey:\"\",selectKey:\"\"};}var parentMenu=this.state.parentMenu;// console.log(parentMenu)\n// console.log(\"parentMenu\",parentMenu);\nreturn React.createElement(Menu,{theme:\"light\",onClick:this.handleClick,defaultOpenKeys:[data.openKey],selectedKeys:[data.selectKey],mode:\"inline\"},parentMenu.map(function(item,index){return item.menuUrl!=null&&item.menuUrl!=\"#\"?React.createElement(Menu.Item,{key:item.menuId},React.createElement(Link,{to:{pathname:item.menuUrl==null?\"#\":item.menuUrl,state:{selectKey:item.menuId,openKey:item.menuId,title:item.menuName,subTitle:\"\"}}},React.createElement(LocalIconFont,{type:item.mIcon}),React.createElement(\"span\",null,item.menuName))):React.createElement(SubMenu,{key:item.menuId,title:React.createElement(\"span\",null,React.createElement(LocalIconFont,{type:item.mIcon}),React.createElement(\"span\",null,item.menuName)),onTitleClick:_this2.subMenuClick},null!=item.childList&&undefined!=item.childList?item.childList.map(function(cItem){return React.createElement(Menu.Item,{key:cItem.menuId},React.createElement(Link,{to:{pathname:cItem.menuUrl==null?\"#\":cItem.menuUrl,state:{selectKey:cItem.menuId,openKey:item.menuId,title:item.menuName,subTitle:cItem.menuName}}},React.createElement(LocalIconFont,{type:cItem.mIcon}),cItem.menuName));}):\"\");}));}}]);return MenuComponent;}(React.Component);export default withRouter(MenuComponent);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/components/MenuCom.js"],"names":["React","Menu","Icon","FetchDoGet","FetchDoPost","Link","withRouter","MenuUnfoldOutlined","MenuFoldOutlined","UserOutlined","VideoCameraOutlined","UploadOutlined","LocalIconFont","SubMenu","MenuItemGroup","ItemGroup","MenuComponent","props","state","current","parentMenu","collapsed","menuOnOpenHandle","bind","handleClick","subMenuClick","_this","setState","response","e","console","log","key","data","location","undefined","openKey","selectKey","map","item","index","menuUrl","menuId","pathname","title","menuName","subTitle","mIcon","childList","cItem","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport {Menu,Icon} from 'antd';\nimport 'antd/dist/antd.css'; \n//请求的基本操作\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\nimport {Link, withRouter} from 'react-router-dom'\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  UserOutlined,\n  VideoCameraOutlined,\n  UploadOutlined,\n} from '@ant-design/icons';\n\nimport LocalIconFont from './../components/LocalIconFont'\n\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n\n\n/**\n * 我们的menu的组件\n */\nclass MenuComponent extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            current:1,\n            parentMenu:[],\n            collapsed:null//菜单的展示问题\n\n        }\n        this.menuOnOpenHandle=this.menuOnOpenHandle.bind(this)\n        this.handleClick=this.handleClick.bind(this)\n        this.subMenuClick=this.subMenuClick.bind(this)\n    }\n\n\n    componentDidMount(){\n        const _this=this;\n        this.setState({\n          collapsed:this.props.collapsed\n        })\n        FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function (response) {\n            _this.setState({\n                parentMenu:response\n            })\n            //console.log(response); \n        });\n    }\n\n    getInitialState() {\n        return {\n          current: '1',\n        };\n      }\n      handleClick(e) {\n        console.log('click ', e);\n        this.setState({\n          current: e.key,\n        });\n      }\n\n      menuOnOpenHandle(e){\n          //console.log(\"menuOnOpenHandle\",e)\n      }\n\n      subMenuClick(e){\n        //console.log(\"subMenuClick\",e)\n        const _this=this;\n        let {parentMenu}=_this.state;\n      }\n\n    render(){\n        let data = this.props.location.state; \n\n        // console.log(\"data\",data);\n        // this.props.setTitleCallBack(this.props.location.state)\n        //console.log(\"this.props.collapsed\",this.props.collapsed)\n        if(undefined==data||null==data){\n          data={\n            openKey:\"\",\n            selectKey:\"\"\n          }\n        }\n\n        let {parentMenu} =this.state;\n        // console.log(parentMenu)\n        // console.log(\"parentMenu\",parentMenu);\n        return(\n            <Menu theme=\"light\" onClick={this.handleClick}\n            defaultOpenKeys={[data.openKey]}\n            selectedKeys={[data.selectKey]}\n            mode=\"inline\"\n            >\n                {parentMenu.map((item,index)=>{\n                    return (\n                      (item.menuUrl!=null&&item.menuUrl!=\"#\")?(\n                        <Menu.Item key={item.menuId}>\n                          {/* <UserOutlined /> */}\n                          <Link to={\n                            {\n                              pathname:item.menuUrl==null?\"#\":item.menuUrl,\n                              state:{\n                                selectKey:item.menuId,\n                                openKey:item.menuId,\n                                title:item.menuName,\n                                subTitle:\"\",\n                                \n                              }\n                            }\n                          }>\n                          <LocalIconFont type={item.mIcon}/>\n                          <span>{item.menuName}</span>\n                          </Link>\n                      \n                          </Menu.Item>\n                      ):(\n                        <SubMenu key={item.menuId} title={<span><LocalIconFont type={item.mIcon}/><span>{item.menuName}</span></span>} \n                        onTitleClick={this.subMenuClick}>\n                          {(null!=item.childList&&undefined!=item.childList)?(\n                            item.childList.map((cItem)=>{\n                            return <Menu.Item key={cItem.menuId}>\n                              <Link to={{\n                                pathname:cItem.menuUrl==null?\"#\":cItem.menuUrl,\n                                state:{\n                                  selectKey:cItem.menuId,\n                                  openKey:item.menuId,\n                                  title:item.menuName,\n                                  subTitle:cItem.menuName,\n                                  \n                                }\n                              }}>\n                              <LocalIconFont type={cItem.mIcon}/>\n                              {cItem.menuName}\n                              </Link>\n                              </Menu.Item>\n                            })\n                          ):(\"\")}\n                    </SubMenu>\n                      )\n                    )\n                })}\n          </Menu>\n        )\n    }\n}\n\nexport default  withRouter(MenuComponent)"]},"metadata":{},"sourceType":"module"}
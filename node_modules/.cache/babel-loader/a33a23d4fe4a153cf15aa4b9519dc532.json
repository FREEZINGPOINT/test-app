{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./CommentSite.css';import{withRouter}from'react-router-dom';import{List,Card,Comment,Pagination,Tag,Row,Col,Form,Input,Button,Collapse}from'antd';import BlogCommonBackGround from'../../components/blog/BlogCommonBackGround';import{FetchDoGet,FetchDoPost,AjaxDoPost}from'../../commons/Utils';import moment from'moment';import{TextField,InputAdornment}from'@material-ui/core';import PorpularArticle from'../../components/blog/PorpularArticle';import CommentPanel from'../../components/blog/CommentPanel';/**\n * 我们的留言区域\n */var TextArea=Input.TextArea;/**\n * 我们的留言版本\n */var CommentSite=/*#__PURE__*/function(_React$Component){_inherits(CommentSite,_React$Component);/**\n     * 我们的表单的操作\n     */function CommentSite(props){var _this;_classCallCheck(this,CommentSite);_this=_possibleConstructorReturn(this,_getPrototypeOf(CommentSite).call(this,props));_this.formRef=React.createRef();_this.state={veryfyCode:\"\",verifyCodeKey:\"\",pictureUrl:\"http://file.breakpoint.vip/picture/blog/4d6fb840-b0b5-46ed-9db8-98084c585229.jpeg\",commentpanelkey:Math.random(),message:\"\",userName:\"\",veryfyCodeMsg:\"\"};return _this;}/**\n     * 初始化的数据\n     */_createClass(CommentSite,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;FetchDoGet(\"/blog/v1/image/getKaptcha\",function(response){_this.setState({veryfyCode:response.verifyCode,verifyCodeKey:response.verifyCodeKey});});}},{key:\"render\",value:function render(){var _this2=this;//console.log(\"this.formRef.current\",this.formRef.current)\nreturn React.createElement(BlogCommonBackGround,{left:React.createElement(Row,{gutter:[16,24]},React.createElement(Col,{span:24},React.createElement(Card,{title:\"感谢支持\"},React.createElement(\"h4\",null,\"\\u60A8\\u7684\\u652F\\u6301\\u662F\\u7ED9\\u6211\\u6700\\u5927\\u7684\\u9F13\\u52B1!!!!!\"))),React.createElement(Col,{span:24},React.createElement(PorpularArticle,{title:\"文章推荐\"}))),extra:React.createElement(Row,{gutter:[16,24]},React.createElement(Col,{span:24},React.createElement(Card,{cover:React.createElement(\"img\",{src:\"https://myblogadmin.breakpoint.vip/image/liuyan.jpg\"})},React.createElement(Collapse,{bordered:false,onChange:function onChange(){}},React.createElement(Collapse.Panel,{header:React.createElement(\"div\",null,React.createElement(\"span\",null,\"\\u70B9\\u51FB\\u6211\\uFF0C\\u7559\\u4E0B\\u5BF9\\u6211\\u60F3\\u8BF4\\u7684\\u8BDD\",React.createElement(Tag,{style:{marginLeft:\"10px\"},color:\"#fa541c\"},\"here\"))),key:\"1\"},React.createElement(\"div\",{className:\"comments-form-outer\"},React.createElement(\"div\",{className:\"comments-form-outer-item\"},React.createElement(TextField,{fullWidth:true,multiline:true,rowsMax:\"4\",variant:\"outlined\",label:\"\\u7559\\u8A00\\u4FE1\\u606F\",color:\"secondary\",placeholder:\"请输入留言信息\",value:this.state.message,onChange:function onChange(event){_this2.setState({message:event.target.value});}})),React.createElement(\"div\",{className:\"comments-form-outer-item\"},React.createElement(TextField,{fullWidth:true,variant:\"outlined\",label:\"\\u60A8\\u7684\\u79F0\\u547C\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u79F0\\u547C\",color:\"secondary\",value:this.state.userName,onChange:function onChange(event){_this2.setState({userName:event.target.value});}})),React.createElement(\"div\",{className:\"comments-form-outer-item\"},React.createElement(TextField,{fullWidth:true,variant:\"outlined\",label:\"\\u9A8C\\u8BC1\\u7801\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u9A8C\\u8BC1\\u7801\",color:\"secondary\",value:this.state.veryfyCodeMsg,onChange:function onChange(event){_this2.setState({veryfyCodeMsg:event.target.value});}}),React.createElement(\"div\",{className:\"comments-verifycode\"},React.createElement(\"img\",{style:{cursor:\"pointer\"},src:this.state.veryfyCode,onClick:function onClick(){var _this=_this2;FetchDoGet(\"/blog/v1/image/getKaptcha\",function(response){_this.setState({veryfyCode:response.verifyCode,veryfyCodeKey:response.verifyCodeKey});});}}))),React.createElement(\"div\",{className:\"comments-form-outer-item button\"},React.createElement(Button,{type:\"primary\",htmlType:\"submit\",onClick:function onClick(){var _this=_this2;var data={message:_this2.state.message,userName:_this2.state.userName,verifyCode:_this2.state.veryfyCodeMsg,verifyCodeKey:_this2.state.verifyCodeKey,pictureUrl:_this2.state.pictureUrl};AjaxDoPost(\"/v1/liuyan/save\",function(response){_this.setState({message:\"\",userName:\"\",veryfyCodeMsg:\"\",commentpanelkey:Math.random()});},data);}},\"\\u53D1\\u8868\"))))))),React.createElement(Col,{span:24},React.createElement(CommentPanel,{key:this.state.commentpanelkey})))});}}]);return CommentSite;}(React.Component);export default withRouter(CommentSite);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/blog/CommentSite.js"],"names":["React","withRouter","List","Card","Comment","Pagination","Tag","Row","Col","Form","Input","Button","Collapse","BlogCommonBackGround","FetchDoGet","FetchDoPost","AjaxDoPost","moment","TextField","InputAdornment","PorpularArticle","CommentPanel","TextArea","CommentSite","props","formRef","createRef","state","veryfyCode","verifyCodeKey","pictureUrl","commentpanelkey","Math","random","message","userName","veryfyCodeMsg","_this","response","setState","verifyCode","marginLeft","event","target","value","cursor","veryfyCodeKey","data","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './CommentSite.css'\nimport { withRouter } from 'react-router-dom'\nimport {List,Card,Comment,Pagination,Tag,Row,Col,Form,Input,Button,Collapse} from 'antd'\nimport BlogCommonBackGround from '../../components/blog/BlogCommonBackGround'\nimport { FetchDoGet, FetchDoPost, AjaxDoPost } from '../../commons/Utils'\nimport moment from 'moment';\nimport { TextField ,InputAdornment} from '@material-ui/core'\nimport PorpularArticle from '../../components/blog/PorpularArticle'\nimport CommentPanel from '../../components/blog/CommentPanel'\n\n\n/**\n * 我们的留言区域\n */\nconst { TextArea } = Input;\n/**\n * 我们的留言版本\n */\nclass CommentSite extends React.Component{\n\n    /**\n     * 我们的表单的操作\n     */\n    formRef = React.createRef();\n\n    constructor(props){\n        super(props)\n        this.state={\n            veryfyCode:\"\",\n            verifyCodeKey:\"\",\n            pictureUrl:\"http://file.breakpoint.vip/picture/blog/4d6fb840-b0b5-46ed-9db8-98084c585229.jpeg\",                   \n            commentpanelkey:Math.random(),\n            message:\"\",\n            userName:\"\", \n            veryfyCodeMsg:\"\"\n        }\n    }\n\n    /**\n     * 初始化的数据\n     */\n    componentDidMount(){\n        const _this=this;\n\n        FetchDoGet(\"/blog/v1/image/getKaptcha\",(response)=>{\n            _this.setState({\n                veryfyCode:response.verifyCode,\n                verifyCodeKey:response.verifyCodeKey\n            })\n        })\n\n    }\n\n    render(){\n        //console.log(\"this.formRef.current\",this.formRef.current)\n        return(\n            <BlogCommonBackGround\n            left={\n                <Row gutter={[16,24]}>\n                    <Col span={24}>\n                        <Card title={\"感谢支持\"}>\n                            <h4>您的支持是给我最大的鼓励!!!!!</h4>\n                        </Card>\n                    </Col>\n                    <Col span={24}>\n                        <PorpularArticle\n                        title={\"文章推荐\"}\n                        />\n                    </Col>\n                </Row>\n            }\n            extra={\n                <Row gutter={[16,24]}>\n                    <Col span={24}>\n                        <Card\n                        cover={\n                            <img src=\"https://myblogadmin.breakpoint.vip/image/liuyan.jpg\"/>\n                        }\n                        >\n                            <Collapse \n                            bordered={false}\n                            onChange={()=>{}}>\n                                <Collapse.Panel header={\n                                    <div>\n                                        <span>点击我，留下对我想说的话<Tag style={{marginLeft:\"10px\"}} color=\"#fa541c\">here</Tag></span>\n                                    </div>\n                                } key=\"1\">\n                                <div className=\"comments-form-outer\">\n                                    <div className=\"comments-form-outer-item\">\n                                        <TextField\n                                            fullWidth\n                                            multiline\n                                            rowsMax=\"4\"\n                                            variant=\"outlined\" \n                                            label=\"留言信息\"\n                                            color=\"secondary\"\n                                            placeholder={\"请输入留言信息\"}\n                                            value={this.state.message}\n                                            onChange={(event)=>{\n                                                this.setState({\n                                                    message:event.target.value\n                                                })\n                                            }}\n                                        />\n                                    </div>     \n\n                                    <div className=\"comments-form-outer-item\">\n                                        <TextField\n                                            fullWidth\n                                            variant=\"outlined\" \n                                            label=\"您的称呼\"\n                                            placeholder=\"请输入您的称呼\"\n                                            color=\"secondary\"\n                                            value={this.state.userName}\n                                            onChange={(event)=>{\n                                                this.setState({\n                                                    userName:event.target.value\n                                                })\n                                            }}\n                                        /> \n                                    </div>  \n\n                                    <div className=\"comments-form-outer-item\">\n                                        <TextField\n                                            fullWidth\n                                            variant=\"outlined\" \n                                            label=\"验证码\"\n                                            placeholder=\"请输入验证码\"\n                                            color=\"secondary\"\n                                            value={this.state.veryfyCodeMsg}\n                                            onChange={(event)=>{\n                                                this.setState({\n                                                    veryfyCodeMsg:event.target.value\n                                                })\n                                            }}\n                                            />\n                                            <div className=\"comments-verifycode\">\n                                                <img style={{cursor:\"pointer\"}} src={this.state.veryfyCode}\n                                                onClick={()=>{\n                                                    const _this=this;\n                                                    FetchDoGet(\"/blog/v1/image/getKaptcha\",(response)=>{\n                                                        _this.setState({\n                                                            veryfyCode:response.verifyCode,\n                                                            veryfyCodeKey:response.verifyCodeKey\n                                                        })\n                                                        })\n                                                    }}\n                                                />\n                                            </div>\n                                    </div>  \n                                    \n                                    <div className=\"comments-form-outer-item button\">\n                                        <Button type=\"primary\" htmlType=\"submit\"\n                                        onClick={()=>{\n                                            const _this=this;\n\n                                            let data={\n                                                message:this.state.message,\n                                                userName:this.state.userName, \n                                                verifyCode:this.state.veryfyCodeMsg,\n                                                verifyCodeKey:this.state.verifyCodeKey,\n                                                pictureUrl:this.state.pictureUrl,\n                                            }\n                                            AjaxDoPost(\"/v1/liuyan/save\",(response)=>{\n                                                _this.setState({\n                                                    message:\"\",\n                                                    userName:\"\", \n                                                    veryfyCodeMsg:\"\",\n                                                    commentpanelkey:Math.random()\n                                                })\n                                            },data)\n                                        }}\n                                        >\n                                                发表\n                                        </Button>\n                                    </div>\n                                </div>\n                                </Collapse.Panel>\n                            </Collapse>\n                            \n                        </Card>\n                    </Col>\n                    <Col span={24}>\n                        <CommentPanel\n                        key={this.state.commentpanelkey}\n                        />\n                    </Col>\n                </Row>\n                \n            }\n            />\n        )\n    }\n\n}\n\nexport default withRouter(CommentSite)"]},"metadata":{},"sourceType":"module"}
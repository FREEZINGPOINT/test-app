{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/components/TabbleUtils.js\";\nimport React from 'react';\nimport { Layout, Card, Button, Divider, Table, Pagination } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport { FetchDoGet, FetchDoPost } from './../commons/Utils';\n/**\n * 我们的图表的utils  整体性编辑我们的图表\n */\n\nclass TableUtils extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataSource: [],\n      pageInfo: {},\n      tableIsLoading: true,\n      queryParam: {}\n    };\n  }\n  /**\n   * 初始化我们的数据\n   */\n\n\n  componentDidMount() {\n    const _this = this;\n\n    const requestUrl = this.props.requestUrl;\n    let searchParams = this.props.searchParams;\n    searchParams[\"currentPage\"] = 1;\n    searchParams[\"pageSize\"] = 10;\n    FetchDoGet(requestUrl, function (response) {\n      console.log(\"selectAllUsers\", response);\n\n      _this.setState({\n        dataSource: response.data,\n        pageInfo: response,\n        tableIsLoading: false,\n        queryParam: searchParams\n      });\n    }, searchParams);\n  }\n\n  render() {\n    const _this = this;\n\n    const columns = this.props.columns; // const dataSource=this.props.dataSource;\n\n    const requestUrl = this.props.requestUrl;\n    const currentPage = this.props.currentPage;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Table, {\n      columns: columns,\n      dataSource: this.state.dataSource,\n      size: \"small\" // scroll={{ x: 1500, y: 440 }}\n      ,\n      pagination: false,\n      loading: this.state.tableIsLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(Pagination, {\n      showQuickJumper: true,\n      showSizeChanger: true,\n      pageSizeOptions: ['10', '20', '30', '40'],\n      style: {\n        float: \"right\",\n        marginRight: \"10px\",\n        marginTop: \"5px\"\n      },\n      total: this.state.pageInfo.totalCount,\n      current: this.state.pageInfo.currentPage // defaultPageSize={this.state.pageInfo.pageSize}\n      ,\n      pageSize: undefined == this.state.pageInfo.pageSize ? 10 : this.state.pageInfo.pageSize,\n      onChange: (page, pageSize) => {\n        //console.log(page,pageSize)\n        this.setState({\n          tableIsLoading: true\n        });\n        let queryParam = this.state.queryParam;\n        console.log(queryParam);\n        queryParam[\"currentPage\"] = page;\n        queryParam[\"pageSize\"] = pageSize;\n        FetchDoGet(requestUrl, function (response) {\n          console.log(\"selectAllUsers\", response);\n\n          _this.setState({\n            dataSource: response.data,\n            pageInfo: response,\n            tableIsLoading: false\n          });\n        }, queryParam);\n      },\n      onShowSizeChange: (current, size) => {\n        //console.log(page,pageSize)\n        this.setState({\n          tableIsLoading: true\n        });\n        let queryParam = this.state.queryParam;\n        console.log(queryParam);\n        queryParam[\"currentPage\"] = current;\n        queryParam[\"pageSize\"] = size;\n        FetchDoGet(requestUrl, function (response) {\n          console.log(\"selectAllUsers\", response);\n\n          _this.setState({\n            dataSource: response.data,\n            pageInfo: response,\n            tableIsLoading: false\n          });\n        }, queryParam);\n      },\n      showTotal: (total, range) => {\n        console.log(\"total\", total, range);\n        return React.createElement(\"div\", {\n          style: {\n            fontFamily: \"楷体\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          style: {\n            float: \"right\",\n            marginRight: \"10px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \"\\u5171\", total, \"\\u6761\"), React.createElement(\"span\", {\n          style: {\n            float: \"right\",\n            marginRight: \"10px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"\\u5F53\\u524D\\u663E\\u793A\\uFF1A\", range[0], \"-\", range[1], \" \\u6761\"));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })); //end return\n  } // end render\n\n\n}\n\nexport default withRouter(TableUtils);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/components/TabbleUtils.js"],"names":["React","Layout","Card","Button","Divider","Table","Pagination","withRouter","FetchDoGet","FetchDoPost","TableUtils","Component","constructor","props","state","dataSource","pageInfo","tableIsLoading","queryParam","componentDidMount","_this","requestUrl","searchParams","response","console","log","setState","data","render","columns","currentPage","float","marginRight","marginTop","totalCount","undefined","pageSize","page","current","size","total","range","fontFamily"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Layout,Card,Button,Divider,Table,Pagination} from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\n\n/**\n * 我们的图表的utils  整体性编辑我们的图表\n */\nclass TableUtils extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state={\n            dataSource:[],\n            pageInfo:{},\n            tableIsLoading:true,\n            queryParam:{}\n        }\n    }\n\n    /**\n     * 初始化我们的数据\n     */\n    componentDidMount(){\n        const _this=this;\n        const requestUrl=this.props.requestUrl;\n        let searchParams=this.props.searchParams;\n        searchParams[\"currentPage\"]=1\n        searchParams[\"pageSize\"]=10\n        FetchDoGet(requestUrl,function(response){\n            console.log(\"selectAllUsers\",response);\n            _this.setState({\n                dataSource:response.data,\n                pageInfo:response,\n                tableIsLoading:false,\n                queryParam:searchParams\n            })\n        },searchParams);\n\n    }\n\n\n    render(){\n        const _this=this;\n        const columns=this.props.columns;\n        // const dataSource=this.props.dataSource;\n        const requestUrl=this.props.requestUrl;\n        const currentPage=this.props.currentPage;\n        return(\n            <div>\n                <Table \n                columns={columns}\n                dataSource={this.state.dataSource}\n                size=\"small\"\n                // scroll={{ x: 1500, y: 440 }}\n                pagination={false}\n                loading={this.state.tableIsLoading}\n                />\n                <Pagination\n                showQuickJumper\n                showSizeChanger\n                pageSizeOptions={['10', '20', '30', '40']}\n                style={{float:\"right\",marginRight:\"10px\",marginTop:\"5px\"}}\n                total={this.state.pageInfo.totalCount}\n                current={this.state.pageInfo.currentPage}\n                // defaultPageSize={this.state.pageInfo.pageSize}\n                pageSize={undefined==this.state.pageInfo.pageSize?10:this.state.pageInfo.pageSize}\n                onChange={(page, pageSize)=>{\n                    //console.log(page,pageSize)\n                    this.setState({\n                        tableIsLoading:true\n                    })\n\n                    let queryParam=this.state.queryParam;\n                    console.log(queryParam)\n                    queryParam[\"currentPage\"]=page\n                    queryParam[\"pageSize\"]=pageSize\n                    FetchDoGet(requestUrl,function(response){\n                        console.log(\"selectAllUsers\",response);\n                        _this.setState({\n                            dataSource:response.data,\n                            pageInfo:response,\n                            tableIsLoading:false\n                        })\n                    },queryParam);\n\n                }}\n                onShowSizeChange={(current, size)=>{\n                        //console.log(page,pageSize)\n                        this.setState({\n                            tableIsLoading:true\n                        })\n\n                        let queryParam=this.state.queryParam;\n                        console.log(queryParam)\n                        queryParam[\"currentPage\"]=current\n                        queryParam[\"pageSize\"]=size\n                        FetchDoGet(requestUrl,function(response){\n                            console.log(\"selectAllUsers\",response);\n                            _this.setState({\n                                dataSource:response.data,\n                                pageInfo:response,\n                                tableIsLoading:false\n                            })\n                        },queryParam);\n                }}\n                showTotal={(total, range)=>{\n                    console.log(\"total\",total,range)\n                    return (\n                        <div style={{fontFamily:\"楷体\"}}>\n                            <span style={{float:\"right\",marginRight:\"10px\"}}>\n                            共{total}条\n                            </span>\n                            <span style={{float:\"right\",marginRight:\"10px\"}}>\n                            当前显示：{range[0]}-{range[1]} 条\n                            </span>\n                        </div>\n                    )\n                }}\n                />\n            </div>\n        )//end return\n    }// end render\n}\nexport default  withRouter(TableUtils)"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./ManageUsers.css';import LocalBackGround from'./../commons/LocalBackGround';import{FetchDoGet,FetchDoPost}from'./../commons/Utils';import{withRouter}from'react-router-dom';import'antd/dist/antd.css';import $ from'jquery';import{Layout,Card,Button,Divider,Table,Pagination,Input}from'antd';import LocalIconFont from'../components/LocalIconFont';import TableUtils from'./../components/TabbleUtils';import DepartSelect from'../commons/DepartSelect';var columns=[{title:'用户名',width:50,dataIndex:'userName',key:'userName',fixed:'left',align:\"tenter\"},{title:'昵称',width:50,dataIndex:'userNickName',key:'userNickName',align:\"tenter\"},{title:'手机号',width:50,dataIndex:'userPhone',key:'userPhone',align:\"tenter\"},{title:'邮箱',width:50,dataIndex:'userEmail',key:'userEmail',align:\"tenter\"},{title:'部门',width:70,dataIndex:'departName',key:'departName',align:\"tenter\"},{title:'角色',width:70,dataIndex:'roleName',key:'roleName',align:\"tenter\"},{title:'创建时间',width:100,dataIndex:'gmtCreate',key:'gmtCreate',align:\"tenter\"},{title:'状态',width:100,// dataIndex: 'isFreeze',\nkey:'isFreeze',align:\"tenter\",render:function render(text,record,index){return record.isFreeze==1?\"锁定\":\"未锁定\";}},{title:'操作',key:'operation',fixed:'right',align:\"tenter\",width:120,render:function render(text,record,index){console.log(\"row\",record);return React.createElement(\"div\",{style:{height:\"40px\"}},React.createElement(\"span\",{style:{float:\"left\",width:\"45%\",marginLeft:\"3px\"}},React.createElement(Button,{type:\"primary\",ghost:false,style:{backgroundColor:\"#389e0d\",border:\"none\",float:\"left\"},icon:React.createElement(LocalIconFont,{type:\"icon-edit\"})},\"\\u7F16\\u8F91\")));}}];var ManageUsers=/*#__PURE__*/function(_React$Component){_inherits(ManageUsers,_React$Component);function ManageUsers(props){var _this;_classCallCheck(this,ManageUsers);_this=_possibleConstructorReturn(this,_getPrototypeOf(ManageUsers).call(this,props));_this.state={users:{},requestUrl:\"/block/v1/sys_user/selectAllUsers\",//查询的数据 start\nuserName:\"\",nickName:\"\",phone:\"\",roleId:\"\",departId:\"\",tableKey:Math.random(),//查询的数据 end\nqueryData:{userName:\"\",nickName:\"\",phone:\"\",roleId:\"\",departId:\"\"}};return _this;}/**\n     * 初始化基本的信息\n     */_createClass(ManageUsers,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var _this=this;return React.createElement(LocalBackGround,{pageTitle:\"系统设置\",pageSubTitle:\"用户管理\",content:React.createElement(\"div\",null,React.createElement(Card,{style:{width:\"100%\"},bordered:false,hoverable:false,title:\"\\u7528\\u6237\\u4FE1\\u606F\\u5217\\u8868\",extra:React.createElement(\"div\",null,React.createElement(Button,{type:\"primary\",style:{float:\"right\",marginRight:\"4px\"}},\"\\u6DFB\\u52A0\\u7528\\u6237\"),React.createElement(Button,{type:\"primary\",style:{float:\"right\",marginRight:\"4px\"},onClick:function onClick(){//alert(1)\n_this.setState({queryData:{userName:_this.state.userName,nickName:_this.state.nickName,phone:_this.state.phone,roleId:_this.state.roleId,departId:_this.state.departId},tableKey:Math.random()});}},\"\\u67E5\\u8BE2\"),React.createElement(DepartSelect,{style:{float:\"right\",marginRight:\"4px\"},setDepartId:function setDepartId(val){_this2.setState({departId:val});}}),React.createElement(\"div\",{style:{float:\"right\",marginRight:\"4px\"}},React.createElement(Input,{id:\"phone\",placeholder:\"手机号\",onChange:function onChange(val){_this2.setState({phone:$(\"#phone\").val()});}})),React.createElement(\"div\",{style:{float:\"right\",marginRight:\"4px\"}},React.createElement(Input,{id:\"nickName\",placeholder:\"昵称\",onChange:function onChange(val){_this2.setState({nickName:$(\"#nickName\").val()});}})),React.createElement(\"div\",{style:{float:\"right\",marginRight:\"4px\"}},React.createElement(Input,{id:\"username\",placeholder:\"用户名\",onChange:function onChange(val){_this2.setState({userName:$(\"#username\").val()});}})))},React.createElement(TableUtils,{columns:columns,requestUrl:this.state.requestUrl,currentPage:1,searchParams:this.state.queryData// 每一次都是更新的\n,key:this.state.tableKey})))});}}]);return ManageUsers;}(React.Component);export default withRouter(ManageUsers);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/ManageUsers.js"],"names":["React","LocalBackGround","FetchDoGet","FetchDoPost","withRouter","$","Layout","Card","Button","Divider","Table","Pagination","Input","LocalIconFont","TableUtils","DepartSelect","columns","title","width","dataIndex","key","fixed","align","render","text","record","index","isFreeze","console","log","height","float","marginLeft","backgroundColor","border","ManageUsers","props","state","users","requestUrl","userName","nickName","phone","roleId","departId","tableKey","Math","random","queryData","_this","marginRight","setState","val","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './ManageUsers.css'\nimport LocalBackGround from './../commons/LocalBackGround'\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\nimport { withRouter } from 'react-router-dom'\nimport 'antd/dist/antd.css';\nimport $ from 'jquery'\n\nimport { Layout,Card,Button,Divider,Table,Pagination,Input} from 'antd';\nimport LocalIconFont from '../components/LocalIconFont'\n\nimport TableUtils from './../components/TabbleUtils'\nimport DepartSelect from '../commons/DepartSelect'\n\n\nconst columns = [\n    {\n        title: '用户名',\n        width: 50,\n        dataIndex: 'userName',\n        key: 'userName',\n        fixed: 'left',\n        align:\"tenter\"\n    },\n    {\n        title: '昵称',\n        width: 50,\n        dataIndex: 'userNickName',\n        key: 'userNickName',\n        align:\"tenter\"\n    },\n    {\n        title: '手机号',\n        width: 50,\n        dataIndex: 'userPhone',\n        key: 'userPhone',\n        align:\"tenter\"\n    },\n    {\n        title: '邮箱',\n        width: 50,\n        dataIndex: 'userEmail',\n        key: 'userEmail',\n        align:\"tenter\"\n    },\n    {\n        title: '部门',\n        width: 70,\n        dataIndex: 'departName',\n        key: 'departName',\n        align:\"tenter\"\n    },\n    {\n        title: '角色',\n        width: 70,\n        dataIndex: 'roleName',\n        key: 'roleName',\n        align:\"tenter\"\n    },\n    {\n        title: '创建时间',\n        width: 100,\n        dataIndex: 'gmtCreate',\n        key: 'gmtCreate',\n        align:\"tenter\"\n    },\n    {\n        title: '状态',\n        width: 100,\n        // dataIndex: 'isFreeze',\n        key: 'isFreeze',\n        align:\"tenter\",\n        render: (text, record, index) => {\n            return (record.isFreeze==1)?\"锁定\":\"未锁定\"\n        }\n    },\n    {\n        title: '操作',\n        key: 'operation',\n        fixed: 'right',\n        align:\"tenter\",\n        width: 120,\n        render: (text, record, index) => {\n            console.log(\"row\",record);\n            return (\n                <div style={{height:\"40px\"}}>\n                    <span style={{float:\"left\",width:\"45%\",marginLeft:\"3px\"}}>\n                        <Button type=\"primary\"\n                        ghost={false} \n                        style={{backgroundColor:\"#389e0d\",border:\"none\",float:\"left\"}}\n                        icon={<LocalIconFont type=\"icon-edit\" />}\n                        >\n                        编辑</Button>\n                        \n                    </span>\n                    {/* <span style={{float:\"left\",width:\"45%\",marginLeft:\"4px\"}}>\n                    <Button type=\"danger\"\n                        ghost={false} \n                        style={{backgroundColor:\"#f44336\",border:\"none\",float:\"left\"}}\n                        icon={<LocalIconFont type=\"icon-edit\" />}\n                        >\n                        冻结</Button>\n                    </span> */}\n                </div>\n            )\n        },\n    },\n];\n\n\nclass ManageUsers extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state={\n            users:{},\n            requestUrl:\"/block/v1/sys_user/selectAllUsers\",\n            //查询的数据 start\n            userName:\"\",\n            nickName:\"\",\n            phone:\"\",\n            roleId:\"\",\n            departId:\"\",\n            tableKey:Math.random(),\n            //查询的数据 end\n            queryData:{\n                userName:\"\",\n                nickName:\"\",\n                phone:\"\",\n                roleId:\"\",\n                departId:\"\"\n            }\n\n        }\n    }\n    /**\n     * 初始化基本的信息\n     */\n    componentDidMount(){\n    }\n\n    render(){\n        const _this=this;\n        return(\n            <LocalBackGround\n             pageTitle={\"系统设置\"}\n             pageSubTitle={\"用户管理\"}\n             content={\n                <div>\n                    <Card style={{width:\"100%\"}} \n                            bordered={false}\n                            hoverable={false}\n                            title=\"用户信息列表\"\n                            extra={\n                                <div>\n                                    {/* <Button type=\"danger\" \n                                    style={{float:\"right\",marginRight:\"4px\"}}>\n                                        批量冻结\n                                    </Button> */}\n                                    <Button type=\"primary\" style={{float:\"right\",marginRight:\"4px\"}}>添加用户</Button>\n                                    <Button type=\"primary\" style={{float:\"right\",marginRight:\"4px\"}}\n                                    onClick={()=>{\n                                        //alert(1)\n                                        _this.setState({\n                                            queryData:{\n                                                userName:_this.state.userName,\n                                                nickName:_this.state.nickName,\n                                                phone:_this.state.phone,\n                                                roleId:_this.state.roleId,\n                                                departId:_this.state.departId\n                                            },\n                                            tableKey:Math.random()\n                                        })\n                                    }}\n                                    >查询\n                                    </Button>\n                                    <DepartSelect style={{float:\"right\",marginRight:\"4px\"}}\n                                    setDepartId={(val)=>{\n                                        this.setState({\n                                            departId:val\n                                        })\n                                    }}/>\n                                    <div style={{float:\"right\",marginRight:\"4px\"}}>\n                                        <Input \n                                        id=\"phone\"\n                                        placeholder={\"手机号\"}\n                                        onChange={(val)=>{\n                                            this.setState({\n                                                phone:$(\"#phone\").val()\n                                            })\n                                        }}\n                                        />\n                                    </div>\n                                    <div style={{float:\"right\",marginRight:\"4px\"}}>\n                                        <Input \n                                        id=\"nickName\"\n                                        placeholder={\"昵称\"}\n                                        onChange={(val)=>{\n                                            this.setState({\n                                                nickName:$(\"#nickName\").val()\n                                            })\n                                        }}\n                                        />\n                                    </div>\n                                    <div style={{float:\"right\",marginRight:\"4px\"}}>\n                                        <Input\n                                        id=\"username\"\n                                        placeholder={\"用户名\"}\n                                        onChange={(val)=>{\n                                            this.setState({\n                                                userName:$(\"#username\").val()\n                                            })\n                                        }}\n                                        />\n                                    </div>\n                                </div>\n                            }\n                    >\n                        <TableUtils columns={columns}\n                        requestUrl={this.state.requestUrl}\n                        currentPage={1}\n                        searchParams={this.state.queryData}\n                        // 每一次都是更新的\n                        key={this.state.tableKey}\n                        />\n                     </Card>\n                </div>\n            }/>\n        )\n    }\n}\nexport default withRouter(ManageUsers)"]},"metadata":{},"sourceType":"module"}
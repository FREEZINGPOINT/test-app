{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';//基本的公共导入模块 start\nimport'./../commons/layoutcom.css';import HeaderPrivate from'./../components/HeaderPrivate';import Bottom from'./../components/Bottom';import{withRouter,Redirect}from'react-router-dom';import'antd/dist/antd.css';import{Layout,PageHeader,Divider,Breadcrumb}from'antd';import{MenuUnfoldOutlined,MenuFoldOutlined,ArrowLeft,LeftOutlined}from'@ant-design/icons';import MenuComponent from'./../components/MenuCom';import{FetchDoGet,FetchDoPost}from'./../commons/Utils';//基本的公共导入模块 end \n//定义常量\nvar Header=Layout.Header,Sider=Layout.Sider,Content=Layout.Content;/**\n * 我们后台的公共模板\n * 用于后台的所有的页面\n */var LocalBackGround=/*#__PURE__*/function(_React$Component){_inherits(LocalBackGround,_React$Component);//构造函数\nfunction LocalBackGround(props){var _this;_classCallCheck(this,LocalBackGround);_this=_possibleConstructorReturn(this,_getPrototypeOf(LocalBackGround).call(this,props));_this.toggle=function(){_this.setState({collapsed:!_this.state.collapsed});};_this.state={collapsed:false,user:{},role:{},other:{}};return _this;}_createClass(LocalBackGround,[{key:\"componentDidMount\",//初始化我们的数据\nvalue:function componentDidMount(){var _this=this;var user_info=localStorage.getItem(\"user_info\");//console.log(\"user_info\",user_info)\nif(\"null\"==user_info||null==user_info||undefined==user_info){//获取用户的登陆的信息\nFetchDoGet(\"/block/v1/sys_user/isLogin\",function(response){localStorage.setItem(\"user_info\",JSON.stringify(response));_this.setState({user:response.tbSystemUser,role:response.tbSystemRole,other:response.userOtherMessageInfo});});}else{var userinfo=JSON.parse(user_info);if(null!=userinfo){_this.setState({user:userinfo.tbSystemUser,role:userinfo.tbSystemRole,other:userinfo.userOtherMessageInfo});}}//end else\n}//执行渲染我们的组件\n},{key:\"render\",value:function render(){var _this$state=this.state,user=_this$state.user,role=_this$state.role,other=_this$state.other;var breadcrumb=this.props.breadcrumb;//console.log(\"breadcrumb\",breadcrumb)\nvar data=this.props.location.state;//console.log(\"this.props.location.state\",data)\nif(null==data||undefined==data){data={};//console.log(\"this.props.location.query\",this.props.location.query)\n}return React.createElement(\"div\",null,React.createElement(HeaderPrivate,{name:user.userName,callback:this.toggle,avatar:user.userPhoto// collapsed={collapsed}\n}),React.createElement(Layout,{className:\"layout-header\"},React.createElement(Sider,{theme:\"light\",trigger:null,collapsible:true,collapsed:this.state.collapsed},React.createElement(\"div\",{className:\"logo\"}),React.createElement(MenuComponent,{collapsed:this.state.collapsed})),React.createElement(Layout,{className:\"site-layout\"},React.createElement(Content,{className:\"site-layout-background\",style:{margin:'8px 8px 0px 8px',padding:\"0px\",minHeight:680,backgroundColor:\"inherit\"}},React.createElement(PageHeader,{title:data.title,subTitle:data.subTitle,style:{padding:\"15px\",backgroundColor:\"#ffffff\"}// footer={<Bottom/>}\n,backIcon:React.createElement(LeftOutlined,null),onBack:this.props.onBack// breadcrumb={{routes}}\n},this.props.content),React.createElement(Bottom,null)))));//end return\n}//end render\n}]);return LocalBackGround;}(React.Component);export default withRouter(LocalBackGround);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/commons/LocalBackGround.js"],"names":["React","HeaderPrivate","Bottom","withRouter","Redirect","Layout","PageHeader","Divider","Breadcrumb","MenuUnfoldOutlined","MenuFoldOutlined","ArrowLeft","LeftOutlined","MenuComponent","FetchDoGet","FetchDoPost","Header","Sider","Content","LocalBackGround","props","toggle","setState","collapsed","state","user","role","other","_this","user_info","localStorage","getItem","undefined","response","setItem","JSON","stringify","tbSystemUser","tbSystemRole","userOtherMessageInfo","userinfo","parse","breadcrumb","data","location","userName","userPhoto","margin","padding","minHeight","backgroundColor","title","subTitle","onBack","content","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\n//基本的公共导入模块 start\nimport './../commons/layoutcom.css'\nimport HeaderPrivate from './../components/HeaderPrivate'\nimport Bottom from './../components/Bottom'\nimport { withRouter, Redirect } from 'react-router-dom'\nimport 'antd/dist/antd.css';\nimport {Layout,PageHeader,Divider,Breadcrumb} from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  ArrowLeft,\n  LeftOutlined\n} from '@ant-design/icons';\nimport MenuComponent from './../components/MenuCom'\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\n\n\n//基本的公共导入模块 end \n\n//定义常量\nconst { Header, Sider, Content} = Layout;\n/**\n * 我们后台的公共模板\n * 用于后台的所有的页面\n */\nclass LocalBackGround extends React.Component{\n    //构造函数\n    constructor(props){\n        super(props)\n        this.state={\n            collapsed: false,\n            user:{},\n            role:{},\n            other:{},\n        }\n    }\n    toggle = () => {\n        this.setState({\n          collapsed: !this.state.collapsed,\n        });\n    };\n\n    //初始化我们的数据\n    componentDidMount(){\n        const _this=this;\n        let user_info=localStorage.getItem(\"user_info\");\n        //console.log(\"user_info\",user_info)\n        if(\"null\"==user_info||null==user_info||undefined==user_info){\n            //获取用户的登陆的信息\n            FetchDoGet(\"/block/v1/sys_user/isLogin\",function(response){\n                localStorage.setItem(\"user_info\",JSON.stringify(response))\n                _this.setState({\n                    user:response.tbSystemUser,\n                    role:response.tbSystemRole,\n                    other:response.userOtherMessageInfo\n                })\n            });  \n         }else{\n            let userinfo=JSON.parse(user_info);\n            if(null!=userinfo){\n                _this.setState({\n                    user:userinfo.tbSystemUser,\n                    role:userinfo.tbSystemRole,\n                    other:userinfo.userOtherMessageInfo\n                })\n            }\n        \n         }//end else\n       \n    }\n    //执行渲染我们的组件\n    render(){\n\n        let {user,role,other}=this.state;\n        const breadcrumb=this.props.breadcrumb;\n        //console.log(\"breadcrumb\",breadcrumb)\n\n        let data = this.props.location.state; \n        //console.log(\"this.props.location.state\",data)\n        if(null==data||undefined==data){\n            data={}\n            //console.log(\"this.props.location.query\",this.props.location.query)\n        }\n\n        return( \n            <div>\n                <HeaderPrivate name={user.userName} \n                callback={this.toggle} \n                avatar={user.userPhoto}\n                // collapsed={collapsed}\n                />\n                    <Layout className=\"layout-header\">\n                        <Sider theme=\"light\" trigger={null} collapsible collapsed={this.state.collapsed}>\n                        <div className=\"logo\" />\n                        <MenuComponent collapsed={this.state.collapsed}/>\n                        </Sider>\n                        <Layout className=\"site-layout\">\n                        {/* <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n                            {React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\n                            className: 'trigger',\n                            onClick: this.toggle,\n                            })}\n                        </Header> */}\n                        <Content\n                            className=\"site-layout-background\"\n                            style={{\n                                margin: '8px 8px 0px 8px',\n                                padding: \"0px\",\n                                minHeight: 680,\n                                backgroundColor: \"inherit\"\n                            }}\n                        >\n                            <PageHeader title={data.title}\n                            subTitle={data.subTitle}\n                            style={{padding:\"15px\",backgroundColor:\"#ffffff\"}}\n                            // footer={<Bottom/>}\n                            backIcon={<LeftOutlined />}\n                            onBack={this.props.onBack}\n                            // breadcrumb={{routes}}\n                            >\n                                {/* //定义我们自己的组件 */}\n                                {this.props.content}\n                            </PageHeader>\n                            <Bottom/>\n                        </Content>\n                        </Layout>\n                    </Layout>\n            </div>\n        )//end return\n\n    }//end render\n}\n\nexport default withRouter(LocalBackGround)"]},"metadata":{},"sourceType":"module"}
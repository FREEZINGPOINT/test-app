{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Layout,Card,Button,Divider,Table,Pagination}from'antd';import{withRouter}from'react-router-dom';import{FetchDoGet,FetchDoPost}from'./../commons/Utils';/**\n * 我们的图表的utils  整体性编辑我们的图表\n */var TableUtils=/*#__PURE__*/function(_React$Component){_inherits(TableUtils,_React$Component);function TableUtils(props){var _this;_classCallCheck(this,TableUtils);_this=_possibleConstructorReturn(this,_getPrototypeOf(TableUtils).call(this,props));_this.state={dataSource:[],pageInfo:{},tableIsLoading:true,queryParam:{}};return _this;}/**\n     * 初始化我们的数据\n     */_createClass(TableUtils,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;var requestUrl=this.props.requestUrl;var searchParams=this.props.searchParams||{};searchParams[\"currentPage\"]=1;searchParams[\"pageSize\"]=10;FetchDoGet(requestUrl,function(response){console.log(\"selectAllUsers\",response);_this.setState({dataSource:response.data,pageInfo:response,tableIsLoading:false,queryParam:searchParams});},searchParams);}},{key:\"render\",value:function render(){var _this2=this;var _this=this;var columns=this.props.columns;// const dataSource=this.props.dataSource;\nvar requestUrl=this.props.requestUrl;var currentPage=this.props.currentPage;return React.createElement(\"div\",{style:{clear:\"both\",marginBottom:\"30px\"},key:\"table1\"},React.createElement(Table,{columns:columns,dataSource:this.state.dataSource,size:\"small\"// scroll={{ x: 1500, y: 440 }}\n,pagination:false,loading:this.state.tableIsLoading}),React.createElement(Pagination,{showQuickJumper:true,showSizeChanger:true,pageSizeOptions:['10','20','30','40'],style:{float:\"right\",marginRight:\"10px\",marginTop:\"5px\"},total:this.state.pageInfo.totalCount,current:this.state.pageInfo.currentPage// defaultPageSize={this.state.pageInfo.pageSize}\n,pageSize:undefined==this.state.pageInfo.pageSize?10:this.state.pageInfo.pageSize,onChange:function onChange(page,pageSize){//console.log(page,pageSize)\n_this2.setState({tableIsLoading:true});var queryParam=_this2.state.queryParam;console.log(queryParam);queryParam[\"currentPage\"]=page;queryParam[\"pageSize\"]=pageSize;FetchDoGet(requestUrl,function(response){console.log(\"selectAllUsers\",response);_this.setState({dataSource:response.data,pageInfo:response,tableIsLoading:false});},queryParam);},onShowSizeChange:function onShowSizeChange(current,size){//console.log(page,pageSize)\n_this2.setState({tableIsLoading:true});var queryParam=_this2.state.queryParam;console.log(queryParam);queryParam[\"currentPage\"]=current;queryParam[\"pageSize\"]=size;FetchDoGet(requestUrl,function(response){console.log(\"selectAllUsers\",response);_this.setState({dataSource:response.data,pageInfo:response,tableIsLoading:false});},queryParam);},showTotal:function showTotal(total,range){console.log(\"total\",total,range);return React.createElement(\"div\",{style:{fontFamily:\"楷体\"}},React.createElement(\"span\",{style:{float:\"right\",marginRight:\"10px\"}},\"\\u5171\",total,\"\\u6761\"),React.createElement(\"span\",{style:{float:\"right\",marginRight:\"10px\"}},\"\\u5F53\\u524D\\u663E\\u793A\\uFF1A\",range[0],\"-\",range[1],\" \\u6761\"));}}));//end return\n}// end render\n}]);return TableUtils;}(React.Component);export default withRouter(TableUtils);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/components/TabbleUtils.js"],"names":["React","Layout","Card","Button","Divider","Table","Pagination","withRouter","FetchDoGet","FetchDoPost","TableUtils","props","state","dataSource","pageInfo","tableIsLoading","queryParam","_this","requestUrl","searchParams","response","console","log","setState","data","columns","currentPage","clear","marginBottom","float","marginRight","marginTop","totalCount","undefined","pageSize","page","current","size","total","range","fontFamily","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Layout,Card,Button,Divider,Table,Pagination} from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\n\n/**\n * 我们的图表的utils  整体性编辑我们的图表\n */\nclass TableUtils extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state={\n            dataSource:[],\n            pageInfo:{},\n            tableIsLoading:true,\n            queryParam:{}\n        }\n    }\n\n    /**\n     * 初始化我们的数据\n     */\n    componentDidMount(){\n        const _this=this;\n        const requestUrl=this.props.requestUrl;\n        let searchParams=this.props.searchParams||{};\n        searchParams[\"currentPage\"]=1\n        searchParams[\"pageSize\"]=10\n        FetchDoGet(requestUrl,function(response){\n            console.log(\"selectAllUsers\",response);\n            _this.setState({\n                dataSource:response.data,\n                pageInfo:response,\n                tableIsLoading:false,\n                queryParam:searchParams\n            })\n        },searchParams);\n\n    }\n\n\n    render(){\n        const _this=this;\n        const columns=this.props.columns;\n        // const dataSource=this.props.dataSource;\n        const requestUrl=this.props.requestUrl;\n        const currentPage=this.props.currentPage;\n        return(\n            <div style={{clear:\"both\",marginBottom:\"30px\"}} key=\"table1\">\n                <Table \n                columns={columns}\n                dataSource={this.state.dataSource}\n                size=\"small\"\n                // scroll={{ x: 1500, y: 440 }}\n                pagination={false}\n                loading={this.state.tableIsLoading}\n                />\n                <Pagination\n                showQuickJumper\n                showSizeChanger\n                pageSizeOptions={['10', '20', '30', '40']}\n                style={{float:\"right\",marginRight:\"10px\",marginTop:\"5px\"}}\n                total={this.state.pageInfo.totalCount}\n                current={this.state.pageInfo.currentPage}\n                // defaultPageSize={this.state.pageInfo.pageSize}\n                pageSize={undefined==this.state.pageInfo.pageSize?10:this.state.pageInfo.pageSize}\n                onChange={(page, pageSize)=>{\n                    //console.log(page,pageSize)\n                    this.setState({\n                        tableIsLoading:true\n                    })\n\n                    let queryParam=this.state.queryParam;\n                    console.log(queryParam)\n                    queryParam[\"currentPage\"]=page\n                    queryParam[\"pageSize\"]=pageSize\n                    FetchDoGet(requestUrl,function(response){\n                        console.log(\"selectAllUsers\",response);\n                        _this.setState({\n                            dataSource:response.data,\n                            pageInfo:response,\n                            tableIsLoading:false\n                        })\n                    },queryParam);\n\n                }}\n                onShowSizeChange={(current, size)=>{\n                        //console.log(page,pageSize)\n                        this.setState({\n                            tableIsLoading:true\n                        })\n\n                        let queryParam=this.state.queryParam;\n                        console.log(queryParam)\n                        queryParam[\"currentPage\"]=current\n                        queryParam[\"pageSize\"]=size\n                        FetchDoGet(requestUrl,function(response){\n                            console.log(\"selectAllUsers\",response);\n                            _this.setState({\n                                dataSource:response.data,\n                                pageInfo:response,\n                                tableIsLoading:false\n                            })\n                        },queryParam);\n                }}\n                showTotal={(total, range)=>{\n                    console.log(\"total\",total,range)\n                    return (\n                        <div style={{fontFamily:\"楷体\"}}>\n                            <span style={{float:\"right\",marginRight:\"10px\"}}>\n                            共{total}条\n                            </span>\n                            <span style={{float:\"right\",marginRight:\"10px\"}}>\n                            当前显示：{range[0]}-{range[1]} 条\n                            </span>\n                        </div>\n                    )\n                }}\n                />\n            </div>\n        )//end return\n    }// end render\n}\nexport default  withRouter(TableUtils)"]},"metadata":{},"sourceType":"module"}
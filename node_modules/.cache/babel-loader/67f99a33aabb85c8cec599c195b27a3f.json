{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./CommentSite.css';import{withRouter}from'react-router-dom';import{List,Card,Comment,Pagination,Tag,Row}from'antd';import BlogCommonBackGround from'../../components/blog/BlogCommonBackGround';import{FetchDoGet}from'../../commons/Utils';import moment from'moment';/**\n * 我们的留言版本\n */var CommentSite=/*#__PURE__*/function(_React$Component){_inherits(CommentSite,_React$Component);function CommentSite(props){var _this;_classCallCheck(this,CommentSite);_this=_possibleConstructorReturn(this,_getPrototypeOf(CommentSite).call(this,props));_this.state={requestUrl:\"/v1/liuyan/getYouLiuYanList\",comments:[],pageInfo:{}};return _this;}/**\n     * 初始化的数据\n     */_createClass(CommentSite,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;FetchDoGet(this.state.requestUrl,function(response){_this.setState({comments:response.data,pageInfo:response});});}},{key:\"render\",value:function render(){var _this2=this;console.log(this.state.pageInfo);return React.createElement(BlogCommonBackGround,{extra:React.createElement(Card,{title:\"留言板\"},React.createElement(List,{className:\"comment-list\"// header={`${this.state.comments.length} replies`}\n,itemLayout:\"horizontal\",dataSource:this.state.comments,pagination:false,footer:React.createElement(Pagination,{showQuickJumper:true,showTotal:function showTotal(total,range){return\"\\u5F53\\u524D\\u663E\\u793A\\uFF1A\".concat(range[0],\"-\").concat(range[1],\" \\u6587\\u7AE0 \\u603B\\u8BA1 \").concat(total,\" \\u7BC7\\u6587\\u7AE0\");},current:this.state.pageInfo.currentPage,defaultPageSize:this.state.pageInfo.pageSize,defaultCurrent:this.state.pageInfo.currentPage,total:this.state.pageInfo.totalCount,onChange:function onChange(page,pageSize){var _this=_this2;FetchDoGet(_this2.state.requestUrl,function(response){console.log(response);_this.setState({comments:response.data,pageInfo:response});},{currentPage:page,pageSize:pageSize});}}),renderItem:function renderItem(item){return React.createElement(\"li\",null,React.createElement(Comment// actions={item.actions}\n,{author:React.createElement(\"span\",{style:{fontSize:\"14px\",fontWeight:\"bold\"}},item.userName),avatar:item.pitureUrl,content:React.createElement(\"span\",{style:{fontSize:\"14px\"}},item.message),datetime:React.createElement(\"span\",{style:{fontSize:\"14px\",fontWeight:\"bold\"}},\"(\",item.gmtUpdate,\")\")}));}}))});}}]);return CommentSite;}(React.Component);export default withRouter(CommentSite);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/blog/CommentSite.js"],"names":["React","withRouter","List","Card","Comment","Pagination","Tag","Row","BlogCommonBackGround","FetchDoGet","moment","CommentSite","props","state","requestUrl","comments","pageInfo","_this","response","setState","data","console","log","total","range","currentPage","pageSize","totalCount","page","item","fontSize","fontWeight","userName","pitureUrl","message","gmtUpdate","Component"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,mBAAP,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAAQC,IAAR,CAAaC,IAAb,CAAkBC,OAAlB,CAA0BC,UAA1B,CAAqCC,GAArC,CAAyCC,GAAzC,KAAmD,MAAnD,CACA,MAAOC,CAAAA,oBAAP,KAAiC,4CAAjC,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA;;MAGMC,CAAAA,W,iFAEF,qBAAYC,KAAZ,CAAkB,6CACd,6EAAMA,KAAN,GACA,MAAKC,KAAL,CAAW,CACPC,UAAU,CAAC,6BADJ,CAEPC,QAAQ,CAAC,EAFF,CAGPC,QAAQ,CAAC,EAHF,CAAX,CAFc,aAQjB,CAED;;4FAGmB,CACf,GAAMC,CAAAA,KAAK,CAAC,IAAZ,CACAR,UAAU,CAAC,KAAKI,KAAL,CAAWC,UAAZ,CAAuB,SAACI,QAAD,CAAY,CACzCD,KAAK,CAACE,QAAN,CAAe,CACXJ,QAAQ,CAACG,QAAQ,CAACE,IADP,CAEXJ,QAAQ,CAACE,QAFE,CAAf,EAIH,CALS,CAAV,CAOH,C,uCAEO,iBAEJG,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWG,QAAvB,EAEA,MACI,qBAAC,oBAAD,EACA,KAAK,CACD,oBAAC,IAAD,EACA,KAAK,CAAE,KADP,EAGI,oBAAC,IAAD,EACI,SAAS,CAAC,cACV;AAFJ,CAGI,UAAU,CAAC,YAHf,CAII,UAAU,CAAE,KAAKH,KAAL,CAAWE,QAJ3B,CAKI,UAAU,CAAE,KALhB,CAMI,MAAM,CACF,oBAAC,UAAD,EACA,eAAe,KADf,CAEA,SAAS,CAAE,mBAACQ,KAAD,CAAQC,KAAR,CAAgB,CACvB,8CAAeA,KAAK,CAAC,CAAD,CAApB,aAA2BA,KAAK,CAAC,CAAD,CAAhC,uCAA6CD,KAA7C,wBACH,CAJD,CAKA,OAAO,CAAE,KAAKV,KAAL,CAAWG,QAAX,CAAoBS,WAL7B,CAMA,eAAe,CAAE,KAAKZ,KAAL,CAAWG,QAAX,CAAoBU,QANrC,CAOA,cAAc,CAAE,KAAKb,KAAL,CAAWG,QAAX,CAAoBS,WAPpC,CAQA,KAAK,CAAE,KAAKZ,KAAL,CAAWG,QAAX,CAAoBW,UAR3B,CASA,QAAQ,CAAE,kBAACC,IAAD,CAAOF,QAAP,CAAkB,CACxB,GAAMT,CAAAA,KAAK,CAAC,MAAZ,CACAR,UAAU,CAAC,MAAI,CAACI,KAAL,CAAWC,UAAZ,CAAuB,SAASI,QAAT,CAAkB,CAC/CG,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EACAD,KAAK,CAACE,QAAN,CAAe,CACXJ,QAAQ,CAACG,QAAQ,CAACE,IADP,CAEXJ,QAAQ,CAACE,QAFE,CAAf,EAIH,CANS,CAMR,CACEO,WAAW,CAACG,IADd,CAEEF,QAAQ,CAACA,QAFX,CANQ,CAAV,CAUH,CArBD,EAPR,CA8BI,UAAU,CAAE,oBAAAG,IAAI,QAChB,+BACI,oBAAC,OACD;AADA,EAEA,MAAM,CACF,4BAAM,KAAK,CAAE,CAACC,QAAQ,CAAC,MAAV,CAAiBC,UAAU,CAAC,MAA5B,CAAb,EACKF,IAAI,CAACG,QADV,CAHJ,CAOA,MAAM,CAAEH,IAAI,CAACI,SAPb,CAQA,OAAO,CACP,4BAAM,KAAK,CAAE,CAACH,QAAQ,CAAC,MAAV,CAAb,EAAiCD,IAAI,CAACK,OAAtC,CATA,CAWA,QAAQ,CACJ,4BAAM,KAAK,CAAE,CAACJ,QAAQ,CAAC,MAAV,CAAiBC,UAAU,CAAC,MAA5B,CAAb,MACMF,IAAI,CAACM,SADX,KAZJ,EADJ,CADgB,EA9BpB,EAHJ,CAFJ,EADJ,CA+DH,C,yBA7FqBnC,KAAK,CAACoC,S,EAiGhC,cAAenC,CAAAA,UAAU,CAACU,WAAD,CAAzB","sourcesContent":["import React from 'react'\nimport './CommentSite.css'\nimport { withRouter } from 'react-router-dom'\nimport {List,Card,Comment,Pagination,Tag,Row} from 'antd'\nimport BlogCommonBackGround from '../../components/blog/BlogCommonBackGround'\nimport { FetchDoGet } from '../../commons/Utils'\nimport moment from 'moment';\n\n/**\n * 我们的留言版本\n */\nclass CommentSite extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state={\n            requestUrl:\"/v1/liuyan/getYouLiuYanList\",\n            comments:[],\n            pageInfo:{}\n\n        }\n    }\n\n    /**\n     * 初始化的数据\n     */\n    componentDidMount(){\n        const _this=this;\n        FetchDoGet(this.state.requestUrl,(response)=>{\n            _this.setState({\n                comments:response.data,\n                pageInfo:response\n            })\n        })\n\n    }\n\n    render(){\n\n        console.log(this.state.pageInfo)\n\n        return(\n            <BlogCommonBackGround\n            extra={\n                <Card\n                title={\"留言板\"}\n                >\n                    <List\n                        className=\"comment-list\"\n                        // header={`${this.state.comments.length} replies`}\n                        itemLayout=\"horizontal\"\n                        dataSource={this.state.comments}\n                        pagination={false}\n                        footer={\n                            <Pagination \n                            showQuickJumper\n                            showTotal={(total, range)=>{\n                                return `当前显示：${range[0]}-${range[1]} 文章 总计 ${total} 篇文章`\n                            }}\n                            current={this.state.pageInfo.currentPage}\n                            defaultPageSize={this.state.pageInfo.pageSize}\n                            defaultCurrent={this.state.pageInfo.currentPage} \n                            total={this.state.pageInfo.totalCount} \n                            onChange={(page, pageSize)=>{\n                                const _this=this;\n                                FetchDoGet(this.state.requestUrl,function(response){\n                                    console.log(response)\n                                    _this.setState({\n                                        comments:response.data,\n                                        pageInfo:response\n                                    })\n                                },{\n                                    currentPage:page,\n                                    pageSize:pageSize\n                                });\n                            }} />\n                        }\n                        renderItem={item => (\n                        <li>\n                            <Comment\n                            // actions={item.actions}\n                            author={\n                                <span style={{fontSize:\"14px\",fontWeight:\"bold\"}}>\n                                    {item.userName}\n                                </span>\n                            }\n                            avatar={item.pitureUrl}\n                            content={\n                            <span style={{fontSize:\"14px\"}}>{item.message}</span>\n                            }\n                            datetime={\n                                <span style={{fontSize:\"14px\",fontWeight:\"bold\"}}>\n                                    ({item.gmtUpdate})\n                                </span>\n                                \n                            }\n                            />\n                        </li>\n                        )}\n                    />\n                </Card>\n            }\n            />\n        )\n    }\n\n}\n\nexport default withRouter(CommentSite)"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/commons/Utils.js\";\nimport React from 'react';\nimport { fetch as fetchPolyfill } from 'whatwg-fetch';\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nimport LoginMod from './../login/Signin';\nimport $ from 'jquery';\nimport 'antd/dist/antd.css';\nimport { Button, notification, message, Modal } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport store from './../store/store';\nconst {\n  confirm\n} = Modal;\n/**\n * 我们的基本的工具\n */\n\nconst prefix = \"https://myblogadmin.breakpoint.vip/\"; //const prefix=\"http://localhost:8084/\";\n//export const Prefix =\"http://localhost:8090/\";\n\nconst openNotificationWithIcon = type => {\n  notification[type]({\n    message: 'Notification Title',\n    description: 'This is the content of the notification. This is the content of the notification. This is the content of the notification.'\n  });\n};\n/**\n * 我们的基本的提示操作\n * @param {string} type \n * @param {string} content \n */\n\n\nexport function MessageAlter(type, content) {\n  if (\"success\" == type) {\n    message.success(content, 2);\n  } else if (\"error\" == type) {\n    message.error(content, 2);\n  } else {\n    message.warning(content, 2);\n  }\n}\n\nconst showConfirm = function (title, content) {\n  confirm({\n    title: title,\n    icon: React.createElement(ExclamationCircleOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }),\n    content: content,\n    cancelButtonProps: {\n      disabled: true\n    },\n\n    onOk() {\n      console.log('OK');\n      window.location.href = \"/login\";\n    },\n\n    onCancel() {\n      console.log('Cancel');\n    }\n\n  });\n};\n\nfunction showDeleteConfirm() {\n  confirm({\n    title: 'Are you sure delete this task?',\n    icon: React.createElement(ExclamationCircleOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }),\n    content: 'Some descriptions',\n    okText: 'Yes',\n    okType: 'danger',\n    cancelText: 'No',\n\n    onOk() {\n      console.log('OK');\n    },\n\n    onCancel() {\n      console.log('Cancel');\n    }\n\n  });\n}\n/**\n * \n * @param {string} url  请求的url\n * @param {function} callback  回掉函数\n * @param {{}} paramMap  请求参数\n *  * @param {boolean isAlert  是否直接返回\n */\n\n\nexport function FetchDoGet(url, callback, paramMap, isAlert, isHaveToken) {\n  let moreStr = \"?\";\n\n  if (null != paramMap && undefined != paramMap) {\n    const keys = Object.keys(paramMap);\n\n    for (var index in keys) {\n      {\n        moreStr = moreStr + \"&\" + keys[index] + \"=\" + paramMap[keys[index]];\n      }\n    }\n  }\n\n  if (undefined == isHaveToken || null == isHaveToken || isHaveToken) {\n    const token = localStorage.getItem(\"user_token\");\n    moreStr = moreStr + \"&token=\" + token;\n  }\n\n  let request = null;\n\n  if (url.indexOf(\"http\") >= 0) {\n    request = url;\n  } else {\n    request = prefix + url;\n  }\n\n  fetch(request + moreStr, {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    if (undefined == isAlert || null == isAlert || isAlert) {\n      if (json.respCode === 200) {\n        if (null != callback && undefined != callback) {\n          callback(json.data);\n        }\n      } else if (json.respCode === 300) {\n        localStorage.setItem(\"user_token\", null);\n        store.setState({\n          token: null\n        });\n        message.error(json.data);\n      } else {\n        message.warning(json.data);\n      }\n    } else {\n      callback(json);\n    }\n  });\n}\n\nfunction getkey(obj) {\n  var arr = [];\n  var str = '';\n\n  for (const key in obj) {\n    arr.push(key + \"=\" + obj[key]);\n  }\n\n  str = arr.join('&');\n}\n/**\n * post 的请求操作\n * @param {*} url  请求的路径\n * @param {*} callback  回掉的函数\n * @param {*} paramMap  请求的参数\n */\n\n\nexport function FetchDoPost(url, callback, paramMap) {\n  //console.log(\"prefx\",prefix)\n  let data = {};\n\n  if (null != paramMap && undefined != paramMap) {\n    data = paramMap;\n  }\n\n  let moreStr = \"\";\n\n  if (null != paramMap && undefined != paramMap) {\n    const keys = Object.keys(paramMap);\n    console.log(keys);\n\n    for (var index in keys) {\n      moreStr = moreStr + \"&\" + keys[index] + \"=\" + encodeURI(paramMap[keys[index]]);\n      console.log(\"paramMap[keys[index]]\", paramMap[keys[index]]);\n    }\n  }\n\n  const token = localStorage.getItem(\"user_token\");\n  moreStr = moreStr + \"&token=\" + token;\n  let requestUrl = prefix + url + moreStr;\n  fetch(prefix + url, {\n    method: \"POST\",\n    mode: 'cors',\n    // credentials: 'include',\n    headers: {\n      // 'Accept': 'application/json', \n      // 'Content-Type': 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n    },\n    // body:JSON.stringify(requestData)\n    body: moreStr\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    if (json.respCode == 200) {\n      if (null != callback && undefined != callback) {\n        callback(json.data);\n      }\n    } else if (json.respCode == 300) {\n      localStorage.setItem(\"user_token\", null);\n      store.setState({\n        token: null\n      });\n      message.error(json.data);\n    } else {\n      message.warning(json.data);\n    } //console.log(json)\n\n  });\n}\nexport const UploadFileUrl = \"/block/v1/oss/uploadFileToOss\";\n/**\n * \n * 上传我们的文件的操作\n * @param {string} postUrl 请求接口\n * @param {FormData} formData new FormData();\n * @param {function} callBack 回掉函数\n */\n\nexport function FetchDoUploadFile(postUrl, formData, callBack) {\n  if (null == postUrl) {\n    postUrl = UploadFileUrl;\n  }\n\n  const token = localStorage.getItem(\"user_token\");\n  let requestUrl = prefix + postUrl + \"?token=\" + token;\n  /**\n   * 执行上传的操作\n   */\n\n  fetch(requestUrl, {\n    method: \"POST\",\n    body: formData\n  }).then(function (response) {\n    console.log(response);\n    return response.json();\n  }).then(json => {\n    if (json.respCode == 200) {\n      message.success(\"文件上传成功\");\n\n      if (null != callBack && undefined != callBack) {\n        callBack(json.data);\n      }\n    } else if (json.respCode == 300) {\n      localStorage.setItem(\"user_token\", null);\n      store.setState({\n        token: null\n      });\n      message.error(json.data); //MessageAlter(\"系统提示\",\"您没有登陆\")    \n    } else {\n      message.warning(json.data); //alert(json.data)\n    }\n  });\n}\nexport function GetQueryVariable(variable) {\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n\n    if (pair[0] == variable) {\n      return pair[1];\n    }\n  }\n\n  return false;\n} //ajax的基本操作\n\n/**\n * ajax的请求\n * @param {string} url \n * @param {function} callback \n * @param {{}} paramMap \n */\n\nexport function AjaxDoGet(url, callback, paramMap) {\n  let moreStr = \"?\";\n\n  if (null != paramMap && undefined != paramMap) {\n    const keys = Object.keys(paramMap);\n\n    for (var index in keys) {\n      moreStr = moreStr + \"&\" + keys[index] + \"=\" + paramMap[keys[index]];\n    }\n  }\n\n  const token = localStorage.getItem(\"user_token\");\n  moreStr = moreStr + \"&token=\" + token;\n  let request = null;\n\n  if (url.indexOf(\"http\") >= 0) {\n    request = url;\n  } else {\n    request = prefix + url;\n  }\n\n  $.get(request + moreStr, function (response) {\n    if (response.respCode === 200) {\n      if (null != callback && undefined != callback) {\n        callback(response.data);\n      }\n    } else if (response.respCode === 300) {\n      localStorage.setItem(\"user_token\", null);\n      store.setState({\n        token: null\n      });\n      message.error(response.data);\n    } else {\n      message.warning(response.data);\n    }\n  });\n} //end AjaxDoGet\n\n/**\n * ajax的请求\n * @param {string} url \n * @param {function} callback \n * @param {{}} paramMap \n */\n\nexport function AjaxDoPost(url, callback, paramMap) {\n  let moreStr = \"?\";\n\n  if (null != paramMap && undefined != paramMap) {\n    const keys = Object.keys(paramMap);\n\n    for (var index in keys) {\n      moreStr = moreStr + \"&\" + keys[index] + \"=\" + paramMap[keys[index]];\n    }\n  }\n\n  let request = null;\n\n  if (url.indexOf(\"http\") >= 0) {\n    request = url;\n  } else {\n    request = prefix + url;\n  }\n\n  let data = { ...paramMap,\n    token: localStorage.getItem(\"user_token\")\n  };\n  $.post(request, data, function (response) {\n    if (response.respCode === 200) {\n      if (null != callback && undefined != callback) {\n        callback(response.data);\n      }\n    } else if (response.respCode === 300) {\n      localStorage.setItem(\"user_token\", null);\n      store.setState({\n        token: null\n      });\n      message.error(response.data);\n    } else {\n      message.warning(response.data);\n    }\n  });\n} //end AjaxDoPost","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/commons/Utils.js"],"names":["React","fetch","fetchPolyfill","BrowserRouter","Router","Route","Link","Redirect","withRouter","LoginMod","$","Button","notification","message","Modal","ExclamationCircleOutlined","store","confirm","prefix","openNotificationWithIcon","type","description","MessageAlter","content","success","error","warning","showConfirm","title","icon","cancelButtonProps","disabled","onOk","console","log","window","location","href","onCancel","showDeleteConfirm","okText","okType","cancelText","FetchDoGet","url","callback","paramMap","isAlert","isHaveToken","moreStr","undefined","keys","Object","index","token","localStorage","getItem","request","indexOf","method","then","response","json","respCode","data","setItem","setState","getkey","obj","arr","str","key","push","join","FetchDoPost","encodeURI","requestUrl","mode","headers","body","UploadFileUrl","FetchDoUploadFile","postUrl","formData","callBack","GetQueryVariable","variable","query","search","substring","vars","split","i","length","pair","AjaxDoGet","get","AjaxDoPost","post"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {fetch as fetchPolyfill} from 'whatwg-fetch'\nimport { BrowserRouter as Router,Route,Link,Redirect, withRouter} from \"react-router-dom\";\nimport LoginMod from './../login/Signin'\n\nimport $ from 'jquery'\n\nimport 'antd/dist/antd.css';\nimport { Button, notification,message,Modal } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nimport store from './../store/store';\n\nconst { confirm } = Modal;\n\n/**\n * 我们的基本的工具\n */\nconst prefix=\"https://myblogadmin.breakpoint.vip/\";\n//const prefix=\"http://localhost:8084/\";\n\n//export const Prefix =\"http://localhost:8090/\";\n\n\n\nconst openNotificationWithIcon = type => {\n    notification[type]({\n      message: 'Notification Title',\n      description:\n        'This is the content of the notification. This is the content of the notification. This is the content of the notification.',\n    });\n};\n\n/**\n * 我们的基本的提示操作\n * @param {string} type \n * @param {string} content \n */\nexport function MessageAlter(type,content){\n    if(\"success\"==type){\n        message.success(content,2);\n    }else if(\"error\"==type){\n        message.error(content,2)\n    }else{\n        message.warning(content,2);\n    }\n}\n\n\nconst  showConfirm=function(title,content) {\n    confirm({\n      title: title,\n      icon: <ExclamationCircleOutlined />,\n      content: content,\n      cancelButtonProps: {\n        disabled: true,\n      },\n      onOk() {\n        console.log('OK');\n        window.location.href=\"/login\"\n      },\n      onCancel() {\n        console.log('Cancel');\n      },\n    });\n  }\n  \n  function showDeleteConfirm() {\n    confirm({\n      title: 'Are you sure delete this task?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Some descriptions',\n      okText: 'Yes',\n      okType: 'danger',\n      cancelText: 'No',\n      onOk() {\n        console.log('OK');\n      },\n      onCancel() {\n        console.log('Cancel');\n      },\n    });\n  }\n\n\n\n/**\n * \n * @param {string} url  请求的url\n * @param {function} callback  回掉函数\n * @param {{}} paramMap  请求参数\n *  * @param {boolean isAlert  是否直接返回\n */\nexport function FetchDoGet(url,callback,paramMap,isAlert,isHaveToken){\n\n    let moreStr=\"?\"\n    if(null!=paramMap&&undefined!=paramMap){\n        const keys=Object.keys(paramMap);\n        for(var index in keys){\n            {moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]]}\n        }\n    }\n\n    if(undefined==isHaveToken||null==isHaveToken||isHaveToken){\n        const token=localStorage.getItem(\"user_token\");\n        moreStr=moreStr+\"&token=\"+token\n    }\n\n    let request=null;\n    if(url.indexOf(\"http\")>=0){\n        request=url;\n    }else{\n        request=prefix+url\n    }\n\n    fetch(request+moreStr,{\n        method:\"GET\",\n    }).then(function(response){\n        return response.json()\n    }).then(function(json){\n  \n        if(undefined==isAlert||null==isAlert||isAlert){\n            if(json.respCode===200){\n                if(null!=callback&&undefined!=callback){\n                    callback(json.data) \n                }\n            }else if(json.respCode===300){\n                localStorage.setItem(\"user_token\",null)\n                store.setState({\n                    token:null\n                })\n                message.error(json.data);\n            }else{\n                message.warning(json.data);\n            }\n        }else{\n            callback(json) \n        }\n    });\n}\n\nfunction getkey(obj) {\n    var arr = []\n    var str = ''\n    for (const key in obj) {\n        arr.push(key + \"=\" + obj[key])\n    }\n    str = arr.join('&')\n}\n\n/**\n * post 的请求操作\n * @param {*} url  请求的路径\n * @param {*} callback  回掉的函数\n * @param {*} paramMap  请求的参数\n */\nexport function FetchDoPost(url,callback,paramMap){\n    //console.log(\"prefx\",prefix)\n    let data={}\n    if(null!=paramMap&&undefined!=paramMap){\n        data=paramMap\n    }\n\n    let moreStr=\"\"\n    if(null!=paramMap&&undefined!=paramMap){\n        const keys=Object.keys(paramMap);\n        console.log(keys)\n        for(var index in keys){\n            moreStr=moreStr+\"&\"+keys[index]+\"=\"+encodeURI(paramMap[keys[index]])\n            console.log(\"paramMap[keys[index]]\",paramMap[keys[index]])\n        }\n    }\n\n    const token=localStorage.getItem(\"user_token\");\n    moreStr=moreStr+\"&token=\"+token\n    let requestUrl=prefix+url+moreStr;\n    fetch(prefix+url,{\n        method:\"POST\",\n        mode: 'cors',\n        // credentials: 'include',\n        headers: {\n            // 'Accept': 'application/json', \n            // 'Content-Type': 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n          },\n        // body:JSON.stringify(requestData)\n        body:moreStr\n    }).then(function(response){\n        return response.json()\n    }).then(function(json){\n        if(json.respCode==200){\n            if(null!=callback&&undefined!=callback){\n                callback(json.data)   \n            }\n        }else if(json.respCode==300){\n            localStorage.setItem(\"user_token\",null)\n            store.setState({\n                token:null\n            })\n            message.error(json.data);\n            \n        }else{\n            message.warning(json.data);\n        }\n       //console.log(json)\n    });\n\n}\n\nexport const UploadFileUrl=\"/block/v1/oss/uploadFileToOss\"\n/**\n * \n * 上传我们的文件的操作\n * @param {string} postUrl 请求接口\n * @param {FormData} formData new FormData();\n * @param {function} callBack 回掉函数\n */\nexport function FetchDoUploadFile(postUrl,formData,callBack){\n    if(null==postUrl){\n        postUrl=UploadFileUrl\n    }\n    const token=localStorage.getItem(\"user_token\");\n    let requestUrl=prefix+postUrl+ \"?token=\"+token;\n    /**\n     * 执行上传的操作\n     */\n     fetch(requestUrl,{\n         method:\"POST\",\n         body:formData\n     }).then(function(response){\n         console.log(response)\n         return response.json()\n     }).then((json)=>{\n        if(json.respCode==200){\n            message.success(\"文件上传成功\")\n            if(null!=callBack&&undefined!=callBack){\n                callBack(json.data)\n            }\n        }else if(json.respCode==300){\n            localStorage.setItem(\"user_token\",null)\n            store.setState({\n                token:null\n            })\n            message.error(json.data);\n            //MessageAlter(\"系统提示\",\"您没有登陆\")    \n        }else{\n            message.warning(json.data);\n            //alert(json.data)\n        }\n     })\n}\n\nexport function GetQueryVariable(variable)\n{\n       var query = window.location.search.substring(1);\n       var vars = query.split(\"&\");\n       for (var i=0;i<vars.length;i++) {\n               var pair = vars[i].split(\"=\");\n               if(pair[0] == variable){return pair[1];}\n       }\n       return(false);\n}\n\n//ajax的基本操作\n\n/**\n * ajax的请求\n * @param {string} url \n * @param {function} callback \n * @param {{}} paramMap \n */\nexport function AjaxDoGet(url,callback,paramMap){\n\n    let moreStr=\"?\"\n    if(null!=paramMap&&undefined!=paramMap){\n        const keys=Object.keys(paramMap);\n        for(var index in keys){\n            moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]]\n        }\n    }\n\n    const token=localStorage.getItem(\"user_token\");\n    moreStr=moreStr+\"&token=\"+token\n\n    let request=null;\n    if(url.indexOf(\"http\")>=0){\n        request=url;\n    }else{\n        request=prefix+url\n    }\n\n    $.get(request+moreStr,function(response){\n        if(response.respCode===200){\n            if(null!=callback&&undefined!=callback){\n                callback(response.data) \n            }\n        }else if(response.respCode===300){\n            localStorage.setItem(\"user_token\",null)\n            store.setState({\n                token:null\n            })\n            message.error(response.data);\n        }else{\n            message.warning(response.data);\n        }\n    })\n}//end AjaxDoGet\n\n/**\n * ajax的请求\n * @param {string} url \n * @param {function} callback \n * @param {{}} paramMap \n */\nexport function AjaxDoPost(url,callback,paramMap){\n\n    let moreStr=\"?\"\n    if(null!=paramMap&&undefined!=paramMap){\n        const keys=Object.keys(paramMap);\n        for(var index in keys){\n            moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]]\n        }\n    }\n\n    let request=null;\n    if(url.indexOf(\"http\")>=0){\n        request=url;\n    }else{\n        request=prefix+url\n    }\n\n    let data={\n        ...paramMap,\n        token:localStorage.getItem(\"user_token\")\n    }\n\n    $.post(request,data,function(response){\n        if(response.respCode===200){\n            if(null!=callback&&undefined!=callback){\n                callback(response.data) \n            }\n        }else if(response.respCode===300){\n            localStorage.setItem(\"user_token\",null)\n            store.setState({\n                token:null\n            })\n            message.error(response.data);\n        }else{\n            message.warning(response.data);\n        }\n    })\n}//end AjaxDoPost\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/components/MenuCom.js\";\nimport React from 'react';\nimport { Menu, Icon } from 'antd';\nimport 'antd/dist/antd.css'; //请求的基本操作\n\nimport { FetchDoGet, FetchDoPost } from './../commons/Utils';\nimport { Link, withRouter } from 'react-router-dom';\nimport { MenuUnfoldOutlined, MenuFoldOutlined, UserOutlined, VideoCameraOutlined, UploadOutlined } from '@ant-design/icons';\nimport LocalIconFont from './../components/LocalIconFont';\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n/**\n * 我们的menu的组件\n */\n\nclass MenuComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: 1,\n      parentMenu: [],\n      collapsed: null //菜单的展示问题\n\n    };\n    this.menuOnOpenHandle = this.menuOnOpenHandle.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.subMenuClick = this.subMenuClick.bind(this);\n  }\n\n  componentDidMount() {\n    const _this = this;\n\n    this.setState({\n      collapsed: this.props.collapsed\n    });\n    FetchDoGet(\"block/v1/menu/getMenuByLoginUser\", function (response) {\n      _this.setState({\n        parentMenu: response\n      }); //console.log(response); \n\n    });\n  }\n\n  getInitialState() {\n    return {\n      current: '1'\n    };\n  }\n\n  handleClick(e) {\n    console.log('click ', e);\n    this.setState({\n      current: e.key\n    });\n  }\n\n  menuOnOpenHandle(e) {//console.log(\"menuOnOpenHandle\",e)\n  }\n\n  subMenuClick(e) {\n    //console.log(\"subMenuClick\",e)\n    const _this = this;\n\n    let {\n      parentMenu\n    } = _this.state;\n  }\n\n  render() {\n    let data = this.props.location.state; // console.log(\"data\",data);\n    // this.props.setTitleCallBack(this.props.location.state)\n\n    if (undefined == data || null == data) {\n      data = {\n        openKey: \"\",\n        selectKey: \"\"\n      };\n    }\n\n    let {\n      parentMenu\n    } = this.state; // console.log(parentMenu)\n    // console.log(\"parentMenu\",parentMenu);\n\n    return React.createElement(Menu, {\n      theme: \"light\",\n      onClick: this.handleClick,\n      defaultOpenKeys: [data.openKey],\n      selectedKeys: [data.selectKey],\n      mode: \"inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, parentMenu.map((item, index) => {\n      return item.menuUrl != null && item.menuUrl != \"#\" ? React.createElement(Menu.Item, {\n        key: item.menuId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: item.menuUrl == null ? \"#\" : item.menuUrl,\n          state: {\n            selectKey: item.menuId,\n            openKey: item.menuId,\n            title: item.menuName,\n            subTitle: \"\"\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(LocalIconFont, {\n        type: item.mIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, item.menuName))) : React.createElement(SubMenu, {\n        key: item.menuId,\n        title: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(LocalIconFont, {\n          type: item.mIcon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, item.menuName)),\n        onTitleClick: this.subMenuClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, null != item.childList && undefined != item.childList ? item.childList.map(cItem => {\n        return React.createElement(Menu.Item, {\n          key: cItem.menuId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: {\n            pathname: cItem.menuUrl == null ? \"#\" : cItem.menuUrl,\n            state: {\n              selectKey: cItem.menuId,\n              openKey: item.menuId,\n              title: item.menuName,\n              subTitle: cItem.menuName\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(LocalIconFont, {\n          type: cItem.mIcon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }), cItem.menuName));\n      }) : \"\");\n    }));\n  }\n\n}\n\nexport default withRouter(MenuComponent);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/components/MenuCom.js"],"names":["React","Menu","Icon","FetchDoGet","FetchDoPost","Link","withRouter","MenuUnfoldOutlined","MenuFoldOutlined","UserOutlined","VideoCameraOutlined","UploadOutlined","LocalIconFont","SubMenu","MenuItemGroup","ItemGroup","MenuComponent","Component","constructor","props","state","current","parentMenu","collapsed","menuOnOpenHandle","bind","handleClick","subMenuClick","componentDidMount","_this","setState","response","getInitialState","e","console","log","key","render","data","location","undefined","openKey","selectKey","map","item","index","menuUrl","menuId","pathname","title","menuName","subTitle","mIcon","childList","cItem"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport {Menu,Icon} from 'antd';\nimport 'antd/dist/antd.css'; \n//请求的基本操作\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\nimport {Link, withRouter} from 'react-router-dom'\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  UserOutlined,\n  VideoCameraOutlined,\n  UploadOutlined,\n} from '@ant-design/icons';\n\nimport LocalIconFont from './../components/LocalIconFont'\n\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n\n\n/**\n * 我们的menu的组件\n */\nclass MenuComponent extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            current:1,\n            parentMenu:[],\n            collapsed:null//菜单的展示问题\n\n        }\n        this.menuOnOpenHandle=this.menuOnOpenHandle.bind(this)\n        this.handleClick=this.handleClick.bind(this)\n        this.subMenuClick=this.subMenuClick.bind(this)\n    }\n\n\n    componentDidMount(){\n        const _this=this;\n        this.setState({\n          collapsed:this.props.collapsed\n        })\n        FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function (response) {\n            _this.setState({\n                parentMenu:response\n            })\n            //console.log(response); \n        });\n    }\n\n    getInitialState() {\n        return {\n          current: '1',\n        };\n      }\n      handleClick(e) {\n        console.log('click ', e);\n        this.setState({\n          current: e.key,\n        });\n      }\n\n      menuOnOpenHandle(e){\n          //console.log(\"menuOnOpenHandle\",e)\n      }\n\n      subMenuClick(e){\n        //console.log(\"subMenuClick\",e)\n        const _this=this;\n        let {parentMenu}=_this.state;\n      }\n\n    render(){\n        let data = this.props.location.state; \n\n        // console.log(\"data\",data);\n        // this.props.setTitleCallBack(this.props.location.state)\n\n        if(undefined==data||null==data){\n          data={\n            openKey:\"\",\n            selectKey:\"\"\n          }\n        }\n\n        let {parentMenu} =this.state;\n        // console.log(parentMenu)\n        // console.log(\"parentMenu\",parentMenu);\n        return(\n            <Menu theme=\"light\" onClick={this.handleClick}\n            defaultOpenKeys={[data.openKey]}\n            selectedKeys={[data.selectKey]}\n            mode=\"inline\"\n            >\n                {parentMenu.map((item,index)=>{\n                    return (\n                      (item.menuUrl!=null&&item.menuUrl!=\"#\")?(\n                        <Menu.Item key={item.menuId}>\n                          {/* <UserOutlined /> */}\n                          <Link to={\n                            {\n                              pathname:item.menuUrl==null?\"#\":item.menuUrl,\n                              state:{\n                                selectKey:item.menuId,\n                                openKey:item.menuId,\n                                title:item.menuName,\n                                subTitle:\"\"\n                              }\n                            }\n                          }>\n                          <LocalIconFont type={item.mIcon}/>\n                          <span>{item.menuName}</span>\n                          </Link>\n                      \n                          </Menu.Item>\n                      ):(\n                        <SubMenu key={item.menuId} title={<span><LocalIconFont type={item.mIcon}/><span>{item.menuName}</span></span>} \n                        onTitleClick={this.subMenuClick}>\n                          {(null!=item.childList&&undefined!=item.childList)?(\n                            item.childList.map((cItem)=>{\n                            return <Menu.Item key={cItem.menuId}>\n                              <Link to={{\n                                pathname:cItem.menuUrl==null?\"#\":cItem.menuUrl,\n                                state:{\n                                  selectKey:cItem.menuId,\n                                  openKey:item.menuId,\n                                  title:item.menuName,\n                                  subTitle:cItem.menuName\n                                }\n                              }}>\n                              <LocalIconFont type={cItem.mIcon}/>\n                              {cItem.menuName}\n                              </Link>\n                              </Menu.Item>\n                            })\n                          ):(\"\")}\n                    </SubMenu>\n                      )\n                    )\n                })}\n          </Menu>\n        )\n    }\n}\n\nexport default  withRouter(MenuComponent)"]},"metadata":{},"sourceType":"module"}
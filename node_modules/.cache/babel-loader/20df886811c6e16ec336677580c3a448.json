{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';// import logo from './logo.svg';\nimport'./App.css';// import {BrowserRouter, Route} from 'react-router-dom'\nimport{BrowserRouter as Router,Route,Switch,Link,Redirect,withRouter}from\"react-router-dom\";import{connect,Provider}from'react-redux';import Routers from'./router/routers';import FileNotFound from'./router/blog/FileNotFound';// import store from './redux/store'\nimport zhCN from'antd/es/locale/zh_CN';import{ConfigProvider}from'antd';import{FetchDoGet}from'./commons/Utils';import store from'./store/store';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){}/**\n   * 添加预加载的动画\n   */},{key:\"componentWillMount\",value:function componentWillMount(){var loading=document.getElementById('i-loading');if(loading){loading.setAttribute('class','i-loading-out');setTimeout(function(){loading.style.display='none';},1000);}}},{key:\"render\",value:function render(){var token=this.props.token;var islogin=token==null||'null'==token?false:true;console.log(\"islogin\",islogin);// console.log(\"this.props\",this.props)\n//this.this.props.changeActive(token)\nreturn React.createElement(ConfigProvider,{locale:zhCN},React.createElement(Router,null,React.createElement(\"div\",null,React.createElement(Switch,null,Routers.map(function(item,index){return React.createElement(Route,{key:index,path:item.path,exact:true,render:function render(props){//console.log(\"props\",props)\nreturn!item.auth?React.createElement(item.component,props):islogin?React.createElement(item.component,props):React.createElement(Redirect,{to:{pathname:'/login',state:{from:props.location}}});// return ((!item.auth )? (<item.component {...props} />) : ((token!=null)? <item.component {...props} /> :\n//   <Redirect to={{\n//  pathname: '/login',\n//  state: { from: props.location }\n//  }} />)\n// )\n}});//end Route\n}),\"// \\u6240\\u6709\\u9519\\u8BEF\\u8DEF\\u7531\\u8DF3\\u8F6C\\u9875\\u9762\",React.createElement(Route,{component:FileNotFound})))));}}]);return App;}(React.Component);// function App() {\n//     // return <Redirect to={{ pathname: \"/\" }} />;\n//   return (\n//     <Router>\n//             <Route path={`/private`} component={PrivateZone}></Route>\n//             <Route path={`/login`} component={LoginMod}></Route>\n//      </Router>\n//   );\n// }\nvar mapStateToProps=function mapStateToProps(state,ownProps){//console.log(\"mapStateToProps\",state)\nreturn{token:state.token};};// connect(mapStateToProps)\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/App.js"],"names":["React","BrowserRouter","Router","Route","Switch","Link","Redirect","withRouter","connect","Provider","Routers","FileNotFound","zhCN","ConfigProvider","FetchDoGet","store","App","props","state","loading","document","getElementById","setAttribute","setTimeout","style","display","token","islogin","console","log","map","item","index","path","auth","pathname","from","location","Component","mapStateToProps","ownProps"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAO,WAAP,CAEA;AACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAiCC,KAAjC,CAAuCC,MAAvC,CAA8CC,IAA9C,CAAmDC,QAAnD,CAA6DC,UAA7D,KAA8E,kBAA9E,CACA,OAASC,OAAT,CAAkBC,QAAlB,KAAkC,aAAlC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA;AAEA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,OAASC,cAAT,KAA+B,MAA/B,CACA,OAASC,UAAT,KAA2B,iBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,C,GAGMC,CAAAA,G,yEACJ,aAAYC,KAAZ,CAAkB,qCAChB,qEAAMA,KAAN,GACA,MAAKC,KAAL,CAAW,EAAX,CAFgB,aAKjB,C,6EAEkB,CAElB,CAED;;oEAGoB,CAClB,GAAIC,CAAAA,OAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd,CACA,GAAIF,OAAJ,CAAa,CACXA,OAAO,CAACG,YAAR,CAAqB,OAArB,CAA8B,eAA9B,EACAC,UAAU,CAAC,UAAM,CACfJ,OAAO,CAACK,KAAR,CAAcC,OAAd,CAAwB,MAAxB,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CACF,C,uCAEO,CACN,GAAIC,CAAAA,KAAK,CAAG,KAAKT,KAAL,CAAWS,KAAvB,CAEA,GAAIC,CAAAA,OAAO,CAAED,KAAK,EAAE,IAAP,EAAa,QAAQA,KAAtB,CAA6B,KAA7B,CAAmC,IAA/C,CACAE,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBF,OAAtB,EACA;AACA;AACA,MACE,qBAAC,cAAD,EAAgB,MAAM,CAAEf,IAAxB,EAEE,oBAAC,MAAD,MACE,+BACE,oBAAC,MAAD,MACGF,OAAO,CAACoB,GAAR,CAAY,SAACC,IAAD,CAAMC,KAAN,CAAc,CAC3B,MACE,qBAAC,KAAD,EAAO,GAAG,CAAEA,KAAZ,CACA,IAAI,CAAED,IAAI,CAACE,IADX,CAEA,KAAK,KAFL,CAGA,MAAM,CAAE,gBAAChB,KAAD,CAAU,CAChB;AACA,MAAS,CAACc,IAAI,CAACG,IAAP,CAAgB,oBAAC,IAAD,CAAM,SAAN,CAAoBjB,KAApB,CAAhB,CAAmDU,OAAD,CAAW,oBAAC,IAAD,CAAM,SAAN,CAAoBV,KAApB,CAAX,CACxD,oBAAC,QAAD,EAAU,EAAE,CAAE,CACfkB,QAAQ,CAAE,QADK,CAEfjB,KAAK,CAAE,CAAEkB,IAAI,CAAEnB,KAAK,CAACoB,QAAd,CAFQ,CAAd,EADF,CAMA;AACA;AACA;AACA;AACA;AACA;AACD,CAjBD,EADF,CAoBE;AAED,CAvBA,CADH,mEA0BA,oBAAC,KAAD,EAAO,SAAS,CAAE1B,YAAlB,EA1BA,CADF,CADF,CAFF,CADF,CA0CD,C,iBA1EeX,KAAK,CAACsC,S,EA6ExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACrB,KAAD,CAAQsB,QAAR,CAAqB,CAC3C;AACA,MAAO,CAAEd,KAAK,CAAER,KAAK,CAACQ,KAAf,CAAP,CACD,CAHD,CAIA;AACA,cAAelB,CAAAA,OAAO,CAAC+B,eAAD,CAAP,CAAyBvB,GAAzB,CAAf","sourcesContent":["import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\n\n// import {BrowserRouter, Route} from 'react-router-dom'\nimport { BrowserRouter as Router,Route,Switch,Link,Redirect, withRouter} from \"react-router-dom\";\nimport { connect, Provider } from 'react-redux'\n\nimport Routers from './router/routers'\n\nimport FileNotFound from './router/blog/FileNotFound'\n// import store from './redux/store'\n\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { ConfigProvider } from 'antd';\nimport { FetchDoGet } from './commons/Utils';\nimport store from './store/store'\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props)\n    this.state={\n      \n    }\n  }\n\n  componentDidMount(){\n    \n  }\n\n  /**\n   * 添加预加载的动画\n   */\n  componentWillMount(){\n    let loading = document.getElementById('i-loading')\n    if (loading) {\n      loading.setAttribute('class', 'i-loading-out')\n      setTimeout(() => {\n        loading.style.display = 'none'\n      }, 1000)\n    }\n  }\n\n  render(){\n    let token = this.props.token\n\n    let islogin=(token==null||'null'==token)?false:true\n    console.log(\"islogin\",islogin)\n    // console.log(\"this.props\",this.props)\n    //this.this.props.changeActive(token)\n    return(\n      <ConfigProvider locale={zhCN}>\n        {/* <Provider store={this.store}> */}\n        <Router>\n          <div>\n            <Switch>\n              {Routers.map((item,index)=>{\n              return (\n                <Route key={index} \n                path={item.path} \n                exact \n                render={(props) =>{\n                  //console.log(\"props\",props)\n                  return ((!item.auth )? (<item.component {...props} />) : ((islogin)? <item.component {...props} /> :\n                    <Redirect to={{\n                   pathname: '/login',\n                   state: { from: props.location }\n                   }} />)\n                  )\n                  // return ((!item.auth )? (<item.component {...props} />) : ((token!=null)? <item.component {...props} /> :\n                  //   <Redirect to={{\n                  //  pathname: '/login',\n                  //  state: { from: props.location }\n                  //  }} />)\n                  // )\n                }\n                }/>\n               )//end Route\n\n              })}\n            // 所有错误路由跳转页面\n            <Route component={FileNotFound} />\n           \n           </Switch>\n        </div>\n{/*         \n            <Route path={`/private`} component={PrivateZone}></Route>\n            <Route path={`/login`} component={LoginMod}></Route> */}\n        </Router>\n        {/* </Provider> */}\n      </ConfigProvider>\n    )\n  }\n}\n\n// function App() {\n//     // return <Redirect to={{ pathname: \"/\" }} />;\n//   return (\n//     <Router>\n//             <Route path={`/private`} component={PrivateZone}></Route>\n//             <Route path={`/login`} component={LoginMod}></Route>\n//      </Router>\n//   );\n// }\n\n\nconst mapStateToProps = (state, ownProps) => {\n  //console.log(\"mapStateToProps\",state)\n  return { token: state.token }\n}\n// connect(mapStateToProps)\nexport default connect(mapStateToProps)(App);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/components/HeaderPrivate.js\";\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport \"antd/dist/antd.css\";\nimport { Menu, Tooltip } from \"antd\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { FetchDoPost, FetchDoGet, MessageAlter } from './../commons/Utils';\nimport { MailOutlined, AppstoreOutlined, SettingOutlined, MenuUnfoldOutlined, MenuFoldOutlined, HomeOutlined } from \"@ant-design/icons\";\nimport './../commons/commons.css';\nconst {\n  SubMenu\n} = Menu;\n/**\n * 我们顶部的基本操作\n */\n\nclass HeaderPrivate extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = e => {\n      console.log(\"click \", e);\n      this.setState({\n        current: e.key\n      });\n    };\n\n    this.clickExit = e => {\n      console.log(e); //this.props.callback();\n\n      FetchDoPost(\"/block/v1/sys_user/exit\", function (response) {\n        console.log(\"exit\", response);\n        localStorage.setItem(\"user_info\", null);\n        MessageAlter(\"success\", \"退出成功\");\n        window.location.href = \"/login\";\n      });\n    };\n\n    this.state = {\n      open: false,\n      collapsed: null\n    };\n    this.propsCallBack = this.propsCallBack.bind(this);\n  }\n\n  componentDidMount() {\n    //const _this=this;\n\n    /**\n     * 设置初始的状态\n     */\n    this.setState({\n      collapsed: this.props.collapsed\n    }); //FetchDoGet();\n  }\n  /**\n   * 回掉我们的操作\n   */\n\n\n  propsCallBack() {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n    this.props.callback();\n    let state = this.props.location.state;\n    state.collapsed = !this.state.collapsed;\n    this.props.location.state = state;\n  }\n\n  render() {\n    let {\n      avatar,\n      name,\n      collapsed\n    } = this.props;\n    console.log(\"name\", name);\n    console.log(\"header collapsed\", collapsed);\n    let {\n      open\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"header-class\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-trigger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\n      className: 'trigger',\n      onClick: this.propsCallBack\n    })), React.createElement(\"div\", {\n      className: \"header-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u57FA\\u4E8E\\u533A\\u5757\\u94FE\\u7684\\u5149\\u7F51\\u7EDC\\u5EFA\\u8BBE\\u7BA1\\u7406\\u5E73\\u53F0\"), React.createElement(\"div\", {\n      className: \"header-avater-private\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      onClick: this.handleClick,\n      selectedKeys: [this.state.current],\n      mode: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(SubMenu, {\n      title: React.createElement(\"span\", {\n        className: \"submenu-title-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        variant: \"circle\",\n        alt: name,\n        style: {\n          color: '#f56a00',\n          backgroundColor: '#fde3cf',\n          fontSize: \"24px\",\n          lineHeight: \"64px\",\n          width: \"30px\",\n          height: \"30px\"\n        },\n        src: this.props.avatar,\n        alt: \"N\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"setting:4\",\n      onClick: this.clickExit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"\\u9000\\u51FA\")))), React.createElement(\"div\", {\n      style: {\n        float: \"right\",\n        marginRight: \"7px\",\n        fontSize: \"24px\",\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      placement: \"bottom\",\n      title: \"\\u8DF3\\u8F6C\\u5230\\u9996\\u9875\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Link, {\n      style: {\n        color: \"white\"\n      },\n      to: {\n        pathname: \"/\",\n        state: {\n          selectKey: \"\",\n          openKey: \"\",\n          title: \"\",\n          subTitle: \"\"\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(HomeOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default withRouter(HeaderPrivate);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/components/HeaderPrivate.js"],"names":["React","Avatar","Menu","Tooltip","Link","withRouter","FetchDoPost","FetchDoGet","MessageAlter","MailOutlined","AppstoreOutlined","SettingOutlined","MenuUnfoldOutlined","MenuFoldOutlined","HomeOutlined","SubMenu","HeaderPrivate","Component","constructor","props","handleClick","e","console","log","setState","current","key","clickExit","response","localStorage","setItem","window","location","href","state","open","collapsed","propsCallBack","bind","componentDidMount","callback","render","avatar","name","createElement","className","onClick","color","backgroundColor","fontSize","lineHeight","width","height","float","marginRight","cursor","pathname","selectKey","openKey","title","subTitle"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport \"antd/dist/antd.css\";\nimport { Menu,Tooltip } from \"antd\";\nimport {Link, withRouter} from \"react-router-dom\"\nimport {FetchDoPost,FetchDoGet,MessageAlter} from './../commons/Utils'\n\nimport {\n    MailOutlined,\n    AppstoreOutlined,\n    SettingOutlined,\n    MenuUnfoldOutlined,\n    MenuFoldOutlined,\n    HomeOutlined\n  } from \"@ant-design/icons\";\n\nimport './../commons/commons.css'\n\n\nconst { SubMenu } = Menu;\n\n/**\n * 我们顶部的基本操作\n */\nclass HeaderPrivate extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            open:false,\n            collapsed: null,\n\n        }\n\n        this.propsCallBack=this.propsCallBack.bind(this)\n    }\n\n    handleClick = e => {\n        console.log(\"click \", e);\n        this.setState({\n          current: e.key\n        });\n    };\n\n    clickExit=e=>{\n        console.log(e)\n        //this.props.callback();\n        FetchDoPost(\"/block/v1/sys_user/exit\",function(response){\n            console.log(\"exit\",response)\n            localStorage.setItem(\"user_info\",null)\n            MessageAlter(\"success\",\"退出成功\");\n            window.location.href=\"/login\"\n        })\n    }\n\n    componentDidMount(){\n        //const _this=this;\n        /**\n         * 设置初始的状态\n         */\n        this.setState({\n            collapsed:this.props.collapsed\n        })\n        //FetchDoGet();\n    }\n\n    /**\n     * 回掉我们的操作\n     */\n    propsCallBack(){\n        this.setState({\n            collapsed: !this.state.collapsed,\n          });\n        this.props.callback();\n        let state=this.props.location.state;\n        state.collapsed=!this.state.collapsed\n        this.props.location.state=state\n    }\n    \n    render(){\n        let {avatar,name,collapsed}=this.props;\n\n        console.log(\"name\",name)\n\n\n        console.log(\"header collapsed\",collapsed)\n        let {open} =this.state;\n\n        return(\n            <div className=\"header-class\">\n                <div className=\"header-trigger\">\n                {React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\n                            className: 'trigger',\n                            onClick: this.propsCallBack,\n                })}\n                </div>\n                <div className=\"header-title\">基于区块链的光网络建设管理平台</div>\n                <div className=\"header-avater-private\">\n                    <Menu\n                        onClick={this.handleClick}\n                        selectedKeys={[this.state.current]}\n                        mode=\"horizontal\"\n                        >\n                            <SubMenu\n                            title={\n                                <span className=\"submenu-title-wrapper\">\n                                {/* <SettingOutlined /> */}\n                                <Avatar variant=\"circle\" alt={name}\n                                    style={{\n                                        color: '#f56a00',\n                                        backgroundColor: '#fde3cf',\n                                        fontSize:\"24px\",\n                                        lineHeight:\"64px\",\n                                        width:\"30px\",\n                                        height:\"30px\"\n                                    }}\n                                    src={this.props.avatar}\n                                    alt=\"N\"\n                                    >\n                                    {/* {name} */}\n                                </Avatar>\n                                </span>\n                            }\n                            >\n                            {/* <Menu.ItemGroup title=\"Item 1\">\n                                <Menu.Item key=\"setting:1\">Option 1</Menu.Item>\n                                <Menu.Item key=\"setting:2\">Option 2</Menu.Item>\n                            </Menu.ItemGroup> */}\n                           {/* <Menu.Item key=\"setting:3\">\n                               <Link to=\"/user_info\">\n                                个人信息\n                               </Link>\n                            </Menu.Item> */}\n                            <Menu.Item key=\"setting:4\" onClick={this.clickExit}>退出</Menu.Item>\n                            </SubMenu>\n                    </Menu>\n           \n\n                </div>\n\n                <div style={{float:\"right\",marginRight:\"7px\",fontSize:\"24px\",cursor:\"pointer\"}}>\n                    <Tooltip placement=\"bottom\" title=\"跳转到首页\">\n                        <Link \n                            style={{color:\"white\"}}\n                            to={{\n                            pathname:\"/\",\n                            state:{\n                              selectKey:\"\",\n                              openKey:\"\",\n                              title:\"\",\n                              subTitle:\"\"\n                            }\n                        }}>\n                            <HomeOutlined />\n                        </Link>\n                    </Tooltip>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(HeaderPrivate) "]},"metadata":{},"sourceType":"module"}
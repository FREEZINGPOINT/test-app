{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/router/EditUserInfo.js\";\nimport React from 'react';\nimport LocalBackGround from './../commons/LocalBackGround';\nimport { FetchDoGet, FetchDoPost, Prefix, FetchDoUploadFile } from './../commons/Utils';\n/**\n * 基本的公共的引入\n */\n\nimport Bottom from './../components/Bottom';\nimport { withRouter } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { Layout, Card, Button, Divider, Tabs, PageHeader, Avatar, Upload, Row, Col, Input } from 'antd';\nimport { MenuUnfoldOutlined, MenuFoldOutlined, UploadOutlined } from '@ant-design/icons'; //end\n\nconst itemCardStyle = {\n  width: \"50%\",\n  float: \"left\"\n};\nconst {\n  TabPane\n} = Tabs;\nconst requestUrl = Prefix + '/block/v1/oss/uploadFileToOss';\n/**\n * 我们的个人主页\n */\n\nclass EditUserInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userData: null,\n      user: {},\n      role: {},\n      other: {},\n      avater: null\n    };\n  }\n  /**\n   * 初始化我们的数据\n   */\n\n\n  componentDidMount() {\n    const _this = this;\n    /**\n     * 获取当前登陆的用户\n     */\n\n\n    FetchDoGet(\"/block/v1/sys_user/getCurrentLoginUser\", function (response) {\n      _this.setState({\n        userData: response,\n        user: response.tbSystemUser,\n        role: response.tbSystemRole,\n        other: response.userOtherMessageInfo,\n        avater: response.tbSystemUser.userPhoto\n      });\n    });\n  }\n\n  render() {\n    let history = this.props.history;\n\n    const _this = this;\n\n    return React.createElement(LocalBackGround, {\n      onBack: () => {\n        history.go(-1);\n      },\n      content: React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        tabPosition: \"left\",\n        size: \"large\",\n        type: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: \"\\u57FA\\u672C\\u8BBE\\u7F6E\",\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(PageHeader, {\n        title: \"基本设置\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: \"100%\"\n        },\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: \"50%\",\n          float: \"left\"\n        },\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Col, {\n        offset: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u540D:\"), React.createElement(Col, {\n        offset: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })))), React.createElement(Card, {\n        style: {\n          width: \"50%\",\n          float: \"right\",\n          textAlign: \"center\"\n        },\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        size: \"large\",\n        style: {\n          height: \"80px\",\n          width: \"80px\",\n          clear: \"both\"\n        },\n        src: this.state.avater,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(Upload, {\n        showUploadList: false,\n        customRequest: option => {\n          const formData = new FormData();\n          formData.append('file', option.file); //上传文件\n\n          FetchDoUploadFile(null, formData, function (response) {\n            console.log(response);\n\n            _this.setState({\n              avater: response.fileName,\n              oriFileName: response.oriFileName\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(UploadOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), \" \\u4E0A\\u4F20\\u5934\\u50CF\")))))), React.createElement(TabPane, {\n        tab: \"\\u5B89\\u5168\\u8BBE\\u7F6E\",\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(PageHeader, {\n        title: \"安全设置\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }))))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default withRouter(EditUserInfo);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/EditUserInfo.js"],"names":["React","LocalBackGround","FetchDoGet","FetchDoPost","Prefix","FetchDoUploadFile","Bottom","withRouter","Layout","Card","Button","Divider","Tabs","PageHeader","Avatar","Upload","Row","Col","Input","MenuUnfoldOutlined","MenuFoldOutlined","UploadOutlined","itemCardStyle","width","float","TabPane","requestUrl","EditUserInfo","Component","constructor","props","state","userData","user","role","other","avater","componentDidMount","_this","response","setState","tbSystemUser","tbSystemRole","userOtherMessageInfo","userPhoto","render","history","go","textAlign","height","clear","option","formData","FormData","append","file","console","log","fileName","oriFileName"],"mappings":"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","sourcesContent":["import React from 'react'\nimport LocalBackGround from './../commons/LocalBackGround'\nimport {FetchDoGet,FetchDoPost,Prefix, FetchDoUploadFile} from './../commons/Utils'\n/**\n * 基本的公共的引入\n */\nimport Bottom from './../components/Bottom'\nimport { withRouter } from 'react-router-dom'\nimport 'antd/dist/antd.css';\nimport { Layout,Card,Button,Divider,Tabs, PageHeader,Avatar,Upload,Row, Col,Input} from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  UploadOutlined\n} from '@ant-design/icons';\n//end\n\n\nconst itemCardStyle={\n    width:\"50%\",\n    float:\"left\"\n}\n\nconst { TabPane } = Tabs;\n\nconst requestUrl=Prefix+'/block/v1/oss/uploadFileToOss'\n\n/**\n * 我们的个人主页\n */\nclass EditUserInfo extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            userData:null,\n            user:{},\n            role:{},\n            other:{},\n            avater:null\n        }\n    }\n\n    /**\n     * 初始化我们的数据\n     */\n    componentDidMount(){\n        const _this=this;\n        /**\n         * 获取当前登陆的用户\n         */\n        FetchDoGet(\"/block/v1/sys_user/getCurrentLoginUser\",function(response){\n            _this.setState({\n                userData:response,\n                user:response.tbSystemUser,\n                role:response.tbSystemRole,\n                other:response.userOtherMessageInfo,\n                avater:response.tbSystemUser.userPhoto\n            })\n        });\n        \n    }\n\n    render(){\n        let history=this.props.history;\n        const _this=this;\n        return(\n            <LocalBackGround\n            onBack={()=>{history.go(-1)}}\n             content={\n                <div>\n                    <Card style={{width:\"100%\"}}>\n                        <Tabs tabPosition=\"left\"\n                        size=\"large\"\n                        type=\"line\"\n                        >\n                            <TabPane tab=\"基本设置\" key=\"1\">\n                                <PageHeader title={\"基本设置\"}>\n                                    <Card style={{width:\"100%\"}}\n                                    bordered={false}\n                                    >\n                                        <Card style={{width:\"50%\",float:\"left\"}}\n                                        bordered={false}\n                                        >\n                                            <Row>\n                                                <Col offset={3}>用户名:</Col>\n                                                <Col offset={3}><Input></Input></Col>\n                                            </Row>\n\n\n\n                                        \n                                        </Card>\n                                        <Card style={{width:\"50%\",float:\"right\",textAlign:\"center\"}}\n                                        bordered={false}\n                                        >\n                                            <Avatar size=\"large\"\n                                                style={{height:\"80px\",width:\"80px\",clear:\"both\"}}\n                                                src={this.state.avater}\n                                            />\n                                            <br/>\n                                            <br/>\n                                            <Upload \n                                            showUploadList={false}\n                                            customRequest={(option)=>{\n                                                const formData = new FormData();\n                                                formData.append('file',option.file);\n                                                //上传文件\n                                                FetchDoUploadFile(null,formData,function(response){\n                                                    console.log(response)\n                                                    _this.setState({\n                                                        avater:response.fileName,\n                                                        oriFileName:response.oriFileName\n                                                    })\n                                                })\n                                            }}\n                                            >\n                                                <Button>\n                                                <UploadOutlined /> 上传头像\n                                                </Button>\n                                            </Upload>\n\n                                        </Card>\n                                    </Card>\n                                </PageHeader>  \n                            </TabPane>\n                            <TabPane tab=\"安全设置\" key=\"2\">\n                                <PageHeader title={\"安全设置\"}>\n\n                                </PageHeader>\n                            </TabPane>\n                        </Tabs>\n                    </Card>\n                </div>\n            }/>\n        )\n    }\n}\n\nexport default  withRouter(EditUserInfo)"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{withRouter,Link}from'react-router-dom';import LocalBackGround from'./../commons/LocalBackGround';import{FetchDoGet,FetchDoPost}from'./../commons/Utils';import{Layout,Card,Button,Divider,Tabs,Tag,Input}from'antd';import{MenuUnfoldOutlined,MenuFoldOutlined,PlusSquareOutlined,StopOutlined,FormOutlined,SearchOutlined}from'@ant-design/icons';import TabbleUtils from'../components/TabbleUtils';import LocalIconFont from'../components/LocalIconFont';import ProjectTypeSelect from'../components/ProjectTypeSelect';import SearchUserSelect from'../components/SearchUserSelect';import $ from'jquery';var TabPane=Tabs.TabPane;var optcolumns=[{title:'操作流ID',width:50,dataIndex:'optId',key:'optId',fixed:'left',ellipsis:true,align:\"tenter\"},{title:'操作流名称',width:50,dataIndex:'optName',align:\"tenter\"},{title:'创建者',width:50,dataIndex:'creatorName',align:\"tenter\"},{title:'版本',width:50,dataIndex:'optVersion',align:\"tenter\",ellipsis:true},{title:'操作流类别',width:50,dataIndex:'optTypename',align:\"tenter\"},{title:'创建时间',width:50,dataIndex:'gmtCreate',align:\"tenter\"},{title:'修改时间',width:50,dataIndex:'gmtModified',align:\"tenter\"},{title:'是否可用',width:50,align:\"tenter\",render:function render(text,record,index){return record.optEnable==0?React.createElement(Tag,{color:\"green\"},\"\\u53EF\\u7528\"):React.createElement(Tag,{color:\"red\"},\"\\u4E0D\\u53EF\\u7528\");}},{title:'操作',key:\"operation\",width:50,fixed:'right',align:\"tenter\",render:function render(text,record,index){return React.createElement(Link,{to:{pathname:\"/opt_stream_detail\",state:{title:\"操作流详情\",subTitle:\"ID:\"+record.optId,optStreamRecord:record}}},React.createElement(Button,{type:\"primary\",ghost:false,style:{backgroundColor:\"#389e0d\",border:\"none\",float:\"left\"},icon:React.createElement(SearchOutlined,null)},\"\\u67E5\\u770B\\u8BE6\\u60C5\"));//end return\n}}];var ManageOptStream=/*#__PURE__*/function(_React$Component){_inherits(ManageOptStream,_React$Component);function ManageOptStream(props){var _this;_classCallCheck(this,ManageOptStream);_this=_possibleConstructorReturn(this,_getPrototypeOf(ManageOptStream).call(this,props));_this.state={requestUrl:\"/block/v1/opt_stream/selectOptStreams\",queryData:{},tableKey:Math.random(),optName:\"\",optTypeId:\"\",optCreatorId:\"\"};return _this;}/**\n     * 初始化我们的变量\n     */_createClass(ManageOptStream,[{key:\"componentDidMount\",value:function componentDidMount(){var opt_stream_queryData=localStorage.getItem(\"opt_stream_queryData\");console.log(\"opt_stream_queryData\",opt_stream_queryData);if(null!=opt_stream_queryData&&undefined!=opt_stream_queryData){// let queryData=JSON.parse(opt_stream_queryData)\n// this.setState({\n//     queryDa ta:queryData,\n//     //tableKey:Math.random(),\n// })\n}}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(LocalBackGround,{content:React.createElement(Tabs,{tabPosition:\"top\",tabBarGutter:18},React.createElement(TabPane,{key:\"tabs1\",tab:\"操作流的管理\"},React.createElement(Card,{key:\"card111\",style:{width:\"100%\"},bordered:false,hoverable:false,title:\"\\u64CD\\u4F5C\\u6D41\\u5217\\u8868\",extra:React.createElement(\"div\",null,React.createElement(Input,{placeholder:\"\\u64CD\\u4F5C\\u6D41\\u540D\\u79F0\",id:\"opt_name\",style:{width:200,marginRight:\"8px\"},onChange:function onChange(e){console.log($(\"#opt_name\").val());_this2.setState({optName:$(\"#opt_name\").val()});}}),React.createElement(SearchUserSelect,{placeholder:\"创建者\",onChange:function onChange(value){console.log(value);_this2.setState({optCreatorId:value.value});}}),React.createElement(ProjectTypeSelect,{onChange:function onChange(value){console.log(value);_this2.setState({optTypeId:value});}}),React.createElement(Button,{type:\"primary\",style:{marginRight:\"10px\"},onClick:function onClick(){var queryData={optName:_this2.state.optName,optTypeId:_this2.state.optTypeId,optCreatorId:_this2.state.optCreatorId};localStorage.setItem(\"opt_stream_queryData\",JSON.stringify(queryData));_this2.setState({queryData:queryData,tableKey:Math.random()});}},React.createElement(SearchOutlined,null),\"\\u67E5\\u8BE2\"),React.createElement(Button,{type:\"primary\"},React.createElement(PlusSquareOutlined,null),\"\\u65B0\\u5EFA\"))},React.createElement(TabbleUtils,{columns:optcolumns,requestUrl:this.state.requestUrl,currentPage:1,searchParams:this.state.queryData// 每一次都是更新的\n,key:this.state.tableKey}))),React.createElement(TabPane,{key:\"tabs2\",tab:\"操作流类别的管理\"}))});}}]);return ManageOptStream;}(React.Component);export default withRouter(ManageOptStream);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/ManageOptStream.js"],"names":["React","withRouter","Link","LocalBackGround","FetchDoGet","FetchDoPost","Layout","Card","Button","Divider","Tabs","Tag","Input","MenuUnfoldOutlined","MenuFoldOutlined","PlusSquareOutlined","StopOutlined","FormOutlined","SearchOutlined","TabbleUtils","LocalIconFont","ProjectTypeSelect","SearchUserSelect","$","TabPane","optcolumns","title","width","dataIndex","key","fixed","ellipsis","align","render","text","record","index","optEnable","pathname","state","subTitle","optId","optStreamRecord","backgroundColor","border","float","ManageOptStream","props","requestUrl","queryData","tableKey","Math","random","optName","optTypeId","optCreatorId","opt_stream_queryData","localStorage","getItem","console","log","undefined","marginRight","e","val","setState","value","setItem","JSON","stringify","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withRouter,Link } from 'react-router-dom'\nimport LocalBackGround from './../commons/LocalBackGround'\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\nimport { Layout,Card,Button,Divider,Tabs,Tag,Input} from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  PlusSquareOutlined,\n  StopOutlined,\n  FormOutlined,\n  SearchOutlined\n} from '@ant-design/icons';\nimport TabbleUtils from '../components/TabbleUtils';\nimport LocalIconFont from '../components/LocalIconFont';\nimport ProjectTypeSelect from '../components/ProjectTypeSelect';\nimport SearchUserSelect from '../components/SearchUserSelect';\nimport $ from 'jquery'\n\nconst { TabPane } = Tabs;\n\nconst optcolumns=[\n    {\n        title: '操作流ID',\n        width: 50,\n        dataIndex: 'optId',\n        key: 'optId',\n        fixed: 'left',\n        ellipsis:true,\n        align:\"tenter\"\n    },\n    {\n        title: '操作流名称',\n        width: 50,\n        dataIndex: 'optName',\n        align:\"tenter\"\n    },\n    {\n        title: '创建者',\n        width: 50,\n        dataIndex: 'creatorName',\n        align:\"tenter\"\n    },\n    {\n        title: '版本',\n        width: 50,\n        dataIndex: 'optVersion',\n        align:\"tenter\",\n        ellipsis:true\n    },\n    {\n        title: '操作流类别',\n        width: 50,\n        dataIndex: 'optTypename',\n        align:\"tenter\"\n    },\n    {\n        title: '创建时间',\n        width: 50,\n        dataIndex: 'gmtCreate',\n        align:\"tenter\"\n    },\n    {\n        title: '修改时间',\n        width: 50,\n        dataIndex: 'gmtModified',\n        align:\"tenter\"\n    },\n    {\n        title: '是否可用',\n        width: 50,\n        align:\"tenter\",\n        render: (text, record, index) => {\n            return (record.optEnable==0)?(\n                <Tag color=\"green\">可用</Tag>\n            ):(\n                <Tag color=\"red\">不可用</Tag>\n            )\n        }\n    },\n    {\n        title: '操作',\n        key:\"operation\",\n        width: 50,\n        fixed: 'right',\n        align:\"tenter\",\n        render: (text, record, index) => {\n\n            return(\n                <Link to={{\n                    pathname:\"/opt_stream_detail\",\n                    state:{\n                        title:\"操作流详情\",\n                        subTitle:\"ID:\"+record.optId,\n                        optStreamRecord:record\n                    },\n                }}>\n                    <Button type=\"primary\"\n                    ghost={false} \n                    style={{backgroundColor:\"#389e0d\",border:\"none\",float:\"left\"}}\n                    icon={<SearchOutlined />}\n                    >\n                    查看详情</Button>\n                </Link>\n                \n            )//end return\n        }\n    },\n];\n\n\nclass ManageOptStream extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            requestUrl:\"/block/v1/opt_stream/selectOptStreams\",\n            queryData:{},\n            tableKey:Math.random(),\n            optName:\"\",\n            optTypeId:\"\",\n            optCreatorId:\"\"\n        }\n    }\n\n    /**\n     * 初始化我们的变量\n     */\n    componentDidMount(){\n\n        let opt_stream_queryData=localStorage.getItem(\"opt_stream_queryData\")\n        console.log(\"opt_stream_queryData\",opt_stream_queryData)\n        if(null!=opt_stream_queryData&&undefined!=opt_stream_queryData){\n            // let queryData=JSON.parse(opt_stream_queryData)\n            // this.setState({\n            //     queryDa ta:queryData,\n            //     //tableKey:Math.random(),\n            // })\n        }\n    }\n\n    render(){\n\n\n        return(\n            <LocalBackGround content={\n                <Tabs tabPosition=\"top\"\n                tabBarGutter={18}\n                >\n                    <TabPane key=\"tabs1\" tab={\"操作流的管理\"}>\n                        <Card key={\"card111\"} style={{width:\"100%\"}} \n                        bordered={false}\n                        hoverable={false}\n                        title=\"操作流列表\"\n                        extra={\n                            <div>\n                                <Input placeholder=\"操作流名称\"\n                                id=\"opt_name\"\n                                style={{width:200,marginRight:\"8px\"}}\n                                onChange={(e)=>{\n                                    console.log($(\"#opt_name\").val())\n                                    this.setState({\n                                        optName:$(\"#opt_name\").val(),\n                                    })\n                                }}\n                                />\n                                <SearchUserSelect \n                                placeholder={\"创建者\"}\n                                onChange={(value)=>{\n                                    console.log(value)\n                                    this.setState({\n                                        optCreatorId:value.value\n                                    })\n\n                                }}\n                                />\n                                <ProjectTypeSelect\n                                onChange={(value)=>{\n                                    console.log(value)\n                                    this.setState({\n                                        optTypeId:value\n                                    })\n                                }}\n                                />\n                                <Button type=\"primary\"\n                                style={{marginRight:\"10px\"}}\n                                onClick={()=>{\n                                    let queryData={\n                                        optName:this.state.optName,\n                                        optTypeId:this.state.optTypeId,\n                                        optCreatorId:this.state.optCreatorId\n                                    };\n\n                                    localStorage.setItem(\"opt_stream_queryData\",JSON.stringify(queryData))\n                                    this.setState({\n                                        queryData:queryData,\n                                        tableKey:Math.random(),\n                                    })\n                                }}\n                                >\n                                <SearchOutlined />\n                                查询\n                                </Button>\n                                <Button type=\"primary\">\n                                <PlusSquareOutlined />\n                                新建\n                                </Button>\n                            </div>\n                        }\n                        >\n                            <TabbleUtils\n                            columns={optcolumns}\n                            requestUrl={this.state.requestUrl}\n                            currentPage={1}\n                            searchParams={this.state.queryData}\n                            // 每一次都是更新的\n                            key={this.state.tableKey}/>\n                        </Card>\n                    </TabPane>\n                    <TabPane key=\"tabs2\" tab={\"操作流类别的管理\"}>\n\n                    </TabPane>\n                </Tabs>\n            }/>\n        )\n    }\n\n}\n\nexport default withRouter(ManageOptStream)"]},"metadata":{},"sourceType":"module"}
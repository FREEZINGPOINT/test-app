{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{withStyles}from'@material-ui/core/styles';import $ from'jquery';// import {HashRouter as Router , Route , Switch,withRouter} from 'react-router-dom'\nimport{BrowserRouter,Route,Redirect,withRouter}from\"react-router-dom\";import{createBrowserHistory}from\"history\";import CopyRight from'./../components/CopyRight';import{Tooltip}from'antd';import{FetchDoGet,FetchDoPost,MessageAlter}from'./../commons/Utils';import Dialog from'./../commons/DialogUtils';import PrivateZone from'./../router/privateZone';import store from'./../store/store';var style={paper:{marginTop:\"20%\",display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:\"2px\",backgroundColor:\"#fff\"},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:\"10px\"},submit:{margin:\"8px\",height:\"50px\"},title:{fontSize:\"36px\",color:\"#64b5f6\",margin:\"10px auto\",textAlign:\"center\"},verifyCodeDiv:{height:\"50px\"},verifyCode:{cursor:\"pointer\",position:\"relative\",right:\"-60%\",bottom:\"50px\",margin:\"2px 9px\",textAlign:\"left\"}};function veryfyCode(options){console.log(options);}/**\n * 我们的登陆的基本操作\n */var LoginMod=/*#__PURE__*/function(_React$Component){_inherits(LoginMod,_React$Component);function LoginMod(props){var _this;_classCallCheck(this,LoginMod);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginMod).call(this,props));_this.state={src:_this.props.src?_this.props.src:'',verifyCodeKey:'',open:false,message:'测试',severity:\"success\"};_this.refreshVerifyCode=_this.refreshVerifyCode.bind(_assertThisInitialized(_this));_this.preSubmit=_this.preSubmit.bind(_assertThisInitialized(_this));_this.callBackExe=_this.callBackExe.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginMod,[{key:\"refreshVerifyCode\",value:function refreshVerifyCode(){var _this=this;FetchDoGet(\"/blog/v1/image/getKaptcha\",function(response){_this.setState({src:response.verifyCode,verifyCodeKey:response.verifyCodeKey,isLogin:false});//console.log(\"response\",response);\n});}},{key:\"preSubmit\",value:function preSubmit(e){var _this=this;var requestData={verifyCodeKey:this.state.verifyCodeKey,verifyCode:$(\"#verifyCode\").val()};var username=$(\"#username\").val();var password=$(\"#password\").val();console.log(\"password\",password);if(undefined==username||null==username||username.length==0){MessageAlter(\"warning\",\"请求输人用户名\");//alert(\"请求输人用户名\");\n//e.preventDefault();\ne.preventDefault();return;}if(undefined==password||null==password||password.length==0){MessageAlter(\"warning\",\"请求输人密码\");//alert(\"请求输人密码\");\ne.preventDefault();return;}FetchDoPost(\"/blog/v1/login/login/\"+username+\"/\"+password,function(response){localStorage.setItem(\"user_token\",response);store.setState({token:response});MessageAlter(\"success\",\"登陆成功\");_this.props.history.push('/private-zone');console.log(response);},requestData);e.preventDefault();}},{key:\"componentDidMount\",value:function componentDidMount(){//localStorage.setItem(\"user_token\",null)\n/**\n     * 存储我们一些的基本的信息\n     */var _this=this;/**\n     * 获取我们的验证码\n     */ // FetchDoGet(\"/block/v1/sys_user/isLogin\",function(response) {\n//   if(response.respCode===300){\n//     _this.setState({\n//       isLogin:false\n//     }) \n//   }else if(response.respCode==200){\n//     //跳转到首页\n//     _this.props.history.push(\"/\")\n//   }else{\n//     MessageAlter(\"warning\",response.data);\n//   }\n//   console.log(\"sss\",response);\n//  },{},false);\n/**\n     * 获取我们的验证码\n     */FetchDoGet(\"/blog/v1/image/getKaptcha\",function(response){_this.setState({src:response.verifyCode,verifyCodeKey:response.verifyCodeKey});//console.log(\"response\",response);\n},{'key1':'value',\"verifyCodeKey\":\"ssddd\"});}},{key:\"callBackExe\",value:function callBackExe(param){this.setState({open:false,message:''});//console.log(param);\n}},{key:\"render\",value:function render(){//return <Redirect to='/' />;\nvar classes=this.props.classes;var _this$state=this.state,src=_this$state.src,open=_this$state.open,message=_this$state.message,severity=_this$state.severity;return React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},React.createElement(CssBaseline,null),React.createElement(\"div\",{className:classes.paper},React.createElement(\"div\",{className:classes.title},\"\\u83DC\\u9E1F\\u7684\\u540E\\u53F0\\u7BA1\\u7406\"),React.createElement(\"form\",{className:classes.form,noValidate:true,onSubmit:this.preSubmit},React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"\\u7528\\u6237\\u540D\",name:\"username\",autoComplete:\"username\",autoFocus:true}),React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"\\u5BC6\\u7801\",type:\"password\",id:\"password\",autoComplete:\"current-password\"}),React.createElement(\"div\",null,React.createElement(TextField,{id:\"verifyCode\",label:\"\\u9A8C\\u8BC1\\u7801\",required:true,fullWidth:true,variant:\"outlined\"}),React.createElement(Tooltip,{placement:\"bottom\",title:\"\\u70B9\\u51FB\\u6211\\uFF0C\\u66F4\\u65B0\\u9A8C\\u8BC1\\u7801\"},React.createElement(\"img\",{id:\"\",alt:\"点击我，更新验证码\",src:src,style:{width:\"130px\",height:\"40px\"},className:classes.verifyCode,onClick:this.refreshVerifyCode}))),React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"\\u767B\\u9646\"))),React.createElement(Box,{mt:8},React.createElement(CopyRight,null)),React.createElement(Dialog,{open:open,message:message,severity:severity,callBack:this.callBackExe}));}}]);return LoginMod;}(React.Component);export default withStyles(style)(withRouter(LoginMod));","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/login/Signin.js"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","withStyles","$","BrowserRouter","Route","Redirect","withRouter","createBrowserHistory","CopyRight","Tooltip","FetchDoGet","FetchDoPost","MessageAlter","Dialog","PrivateZone","store","style","paper","marginTop","display","flexDirection","alignItems","avatar","margin","backgroundColor","form","width","submit","height","title","fontSize","color","textAlign","verifyCodeDiv","verifyCode","cursor","position","right","bottom","veryfyCode","options","console","log","LoginMod","props","state","src","verifyCodeKey","open","message","severity","refreshVerifyCode","bind","preSubmit","callBackExe","_this","response","setState","isLogin","e","requestData","val","username","password","undefined","length","preventDefault","localStorage","setItem","token","history","push","param","classes","Component"],"mappings":"kuBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CAEA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA;AACA,OAASC,aAAT,CAAuBC,KAAvB,CAA6BC,QAA7B,CAAuCC,UAAvC,KAAwD,kBAAxD,CACA,OAASC,oBAAT,KAAqC,SAArC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,OAASC,OAAT,KAAwB,MAAxB,CAEA,OAAQC,UAAR,CAAmBC,WAAnB,CAA+BC,YAA/B,KAAkD,oBAAlD,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CAGA,GAAMC,CAAAA,KAAK,CAAE,CACXC,KAAK,CAAE,CACLC,SAAS,CAAE,KADN,CAELC,OAAO,CAAE,MAFJ,CAGLC,aAAa,CAAE,QAHV,CAILC,UAAU,CAAE,QAJP,CADI,CAOXC,MAAM,CAAE,CACNC,MAAM,CAAE,KADF,CAENC,eAAe,CAAE,MAFX,CAPG,CAWXC,IAAI,CAAE,CACJC,KAAK,CAAE,MADH,CACW;AACfR,SAAS,CAAE,MAFP,CAXK,CAeXS,MAAM,CAAE,CACNJ,MAAM,CAAE,KADF,CAENK,MAAM,CAAC,MAFD,CAfG,CAoBXC,KAAK,CAAC,CACFC,QAAQ,CAAC,MADP,CAEFC,KAAK,CAAC,SAFJ,CAGFR,MAAM,CAAC,WAHL,CAIFS,SAAS,CAAC,QAJR,CApBK,CA0BXC,aAAa,CAAC,CACZL,MAAM,CAAC,MADK,CA1BH,CA8BXM,UAAU,CAAC,CACTC,MAAM,CAAC,SADE,CAETC,QAAQ,CAAC,UAFA,CAGTC,KAAK,CAAC,MAHG,CAITC,MAAM,CAAC,MAJE,CAKTf,MAAM,CAAC,SALE,CAMTS,SAAS,CAAC,MAND,CA9BA,CAAb,CAwCA,QAASO,CAAAA,UAAT,CAAoBC,OAApB,CAA4B,CAC1BC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACD,CAED;;MAGMG,CAAAA,Q,8EACJ,kBAAYC,KAAZ,CAAkB,0CAChB,0EAAMA,KAAN,GACA,MAAKC,KAAL,CAAW,CACTC,GAAG,CAAE,MAAKF,KAAL,CAAWE,GAAX,CAAiB,MAAKF,KAAL,CAAWE,GAA5B,CAAkC,EAD9B,CAETC,aAAa,CAAC,EAFL,CAGTC,IAAI,CAAC,KAHI,CAITC,OAAO,CAAC,IAJC,CAKTC,QAAQ,CAAC,SALA,CAAX,CAOA,MAAKC,iBAAL,CAAuB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAvB,CACA,MAAKC,SAAL,CAAe,MAAKA,SAAL,CAAeD,IAAf,+BAAf,CACA,MAAKE,WAAL,CAAiB,MAAKA,WAAL,CAAiBF,IAAjB,+BAAjB,CAXgB,aAYjB,C,kFAEkB,CACjB,GAAMG,CAAAA,KAAK,CAAC,IAAZ,CACA7C,UAAU,CAAC,2BAAD,CAA6B,SAAS8C,QAAT,CAAkB,CACvDD,KAAK,CAACE,QAAN,CAAe,CACbX,GAAG,CAAEU,QAAQ,CAACtB,UADD,CAEba,aAAa,CAACS,QAAQ,CAACT,aAFV,CAGbW,OAAO,CAAC,KAHK,CAAf,EAKA;AACD,CAPS,CAAV,CAQD,C,4CAESC,C,CAAG,CAEX,GAAMJ,CAAAA,KAAK,CAAC,IAAZ,CACA,GAAIK,CAAAA,WAAW,CAAC,CACdb,aAAa,CAAC,KAAKF,KAAL,CAAWE,aADX,CAEdb,UAAU,CAAChC,CAAC,CAAC,aAAD,CAAD,CAAiB2D,GAAjB,EAFG,CAAhB,CAKA,GAAMC,CAAAA,QAAQ,CAAC5D,CAAC,CAAC,WAAD,CAAD,CAAe2D,GAAf,EAAf,CACA,GAAME,CAAAA,QAAQ,CAAC7D,CAAC,CAAC,WAAD,CAAD,CAAe2D,GAAf,EAAf,CACApB,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuBqB,QAAvB,EAEA,GAAGC,SAAS,EAAEF,QAAX,EAAqB,MAAMA,QAA3B,EAAqCA,QAAQ,CAACG,MAAT,EAAiB,CAAzD,CAA2D,CACzDrD,YAAY,CAAC,SAAD,CAAW,SAAX,CAAZ,CACA;AACA;AACA+C,CAAC,CAACO,cAAF,GACA,OAED,CAED,GAAGF,SAAS,EAAED,QAAX,EAAqB,MAAMA,QAA3B,EAAqCA,QAAQ,CAACE,MAAT,EAAiB,CAAzD,CAA2D,CACzDrD,YAAY,CAAC,SAAD,CAAW,QAAX,CAAZ,CACA;AACA+C,CAAC,CAACO,cAAF,GACA,OAED,CAEDvD,WAAW,CAAC,wBAAwBmD,QAAxB,CAAiC,GAAjC,CAAqCC,QAAtC,CAA+C,SAASP,QAAT,CAAmB,CAC3EW,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAkCZ,QAAlC,EACAzC,KAAK,CAAC0C,QAAN,CAAe,CACbY,KAAK,CAACb,QADO,CAAf,EAGA5C,YAAY,CAAC,SAAD,CAAW,MAAX,CAAZ,CACA2C,KAAK,CAACX,KAAN,CAAY0B,OAAZ,CAAoBC,IAApB,CAAyB,eAAzB,EACA9B,OAAO,CAACC,GAAR,CAAYc,QAAZ,EACD,CARU,CAQTI,WARS,CAAX,CASAD,CAAC,CAACO,cAAF,GACD,C,6DAEkB,CAEjB;AACA;;OAGA,GAAMX,CAAAA,KAAK,CAAC,IAAZ,CACA;;OAPiB,CAUjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;OAGA7C,UAAU,CAAC,2BAAD,CAA6B,SAAS8C,QAAT,CAAkB,CACvDD,KAAK,CAACE,QAAN,CAAe,CACbX,GAAG,CAAEU,QAAQ,CAACtB,UADD,CAEba,aAAa,CAACS,QAAQ,CAACT,aAFV,CAAf,EAIF;AACC,CANS,CAMR,CAAC,OAAO,OAAR,CAAgB,gBAAgB,OAAhC,CANQ,CAAV,CAOD,C,gDAEWyB,K,CAAM,CAChB,KAAKf,QAAL,CAAc,CACZT,IAAI,CAAC,KADO,CAEZC,OAAO,CAAC,EAFI,CAAd,EAIA;AACD,C,uCAEO,CAEN;AAFM,GAICwB,CAAAA,OAJD,CAIY,KAAK7B,KAJjB,CAIC6B,OAJD,iBAM4B,KAAK5B,KANjC,CAMDC,GANC,aAMDA,GANC,CAMGE,IANH,aAMGA,IANH,CAMQC,OANR,aAMQA,OANR,CAMgBC,QANhB,aAMgBA,QANhB,CAQN,MACJ,qBAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,EACM,oBAAC,WAAD,MADN,CAEM,2BAAK,SAAS,CAAEuB,OAAO,CAACxD,KAAxB,EACA,2BAAK,SAAS,CAAEwD,OAAO,CAAC5C,KAAxB,+CADA,CAQE,4BAAM,SAAS,CAAE4C,OAAO,CAAChD,IAAzB,CAA+B,UAAU,KAAzC,CAA0C,QAAQ,CAAE,KAAK4B,SAAzD,EACE,oBAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,MAAM,CAAC,QAFT,CAGE,QAAQ,KAHV,CAIE,SAAS,KAJX,CAKE,EAAE,CAAC,UALL,CAME,KAAK,CAAC,oBANR,CAOE,IAAI,CAAC,UAPP,CAQE,YAAY,CAAC,UARf,CASE,SAAS,KATX,EADF,CAYE,oBAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,MAAM,CAAC,QAFT,CAGE,QAAQ,KAHV,CAIE,SAAS,KAJX,CAKE,IAAI,CAAC,UALP,CAME,KAAK,CAAC,cANR,CAOE,IAAI,CAAC,UAPP,CAQE,EAAE,CAAC,UARL,CASE,YAAY,CAAC,kBATf,EAZF,CAuBE,+BACA,oBAAC,SAAD,EAAW,EAAE,CAAC,YAAd,CACC,KAAK,CAAC,oBADP,CAEC,QAAQ,KAFT,CAGC,SAAS,KAHV,CAIE,OAAO,CAAC,UAJV,EADA,CAME,oBAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,KAAK,CAAC,wDAAlC,EACE,2BAAK,EAAE,CAAC,EAAR,CACA,GAAG,CAAE,WADL,CAEA,GAAG,CAAEP,GAFL,CAGA,KAAK,CAAE,CAACpB,KAAK,CAAC,OAAP,CAAeE,MAAM,CAAC,MAAtB,CAHP,CAIA,SAAS,CAAE6C,OAAO,CAACvC,UAJnB,CAKA,OAAO,CAAE,KAAKiB,iBALd,EADF,CANF,CAvBF,CA2CE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,SAAS,KAFX,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,SAJR,CAKE,SAAS,CAAEsB,OAAO,CAAC9C,MALrB,iBA3CF,CARF,CAFN,CA4EM,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,oBAAC,SAAD,MADF,CA5EN,CA+EM,oBAAC,MAAD,EAAQ,IAAI,CAAEqB,IAAd,CAAoB,OAAO,CAAEC,OAA7B,CAAsC,QAAQ,CAAEC,QAAhD,CAA0D,QAAQ,CAAE,KAAKI,WAAzE,EA/EN,CADI,CAmFD,C,sBA3MoBnE,KAAK,CAACuF,S,EA8M7B,cAAezE,CAAAA,UAAU,CAACe,KAAD,CAAV,CAAkBV,UAAU,CAACqC,QAAD,CAA5B,CAAf","sourcesContent":["import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport $ from 'jquery'\n// import {HashRouter as Router , Route , Switch,withRouter} from 'react-router-dom'\nimport { BrowserRouter,Route,Redirect, withRouter} from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport CopyRight from './../components/CopyRight'\nimport { Tooltip } from 'antd';\n\nimport {FetchDoGet,FetchDoPost,MessageAlter} from './../commons/Utils'\nimport Dialog from './../commons/DialogUtils'\n\nimport PrivateZone from './../router/privateZone'\n\nimport store from './../store/store'\n\n\nconst style ={\n  paper: {\n    marginTop: \"20%\",\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: \"2px\",\n    backgroundColor: \"#fff\",\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: \"10px\",\n  },\n  submit: {\n    margin: \"8px\",\n    height:\"50px\"\n\n  },\n  title:{\n      fontSize:\"36px\",\n      color:\"#64b5f6\",\n      margin:\"10px auto\",\n      textAlign:\"center\"\n  },\n  verifyCodeDiv:{\n    height:\"50px\"\n  }\n  ,\n  verifyCode:{\n    cursor:\"pointer\",\n    position:\"relative\",\n    right:\"-60%\", \n    bottom:\"50px\",\n    margin:\"2px 9px\",\n    textAlign:\"left\"\n  }\n};\n\nfunction veryfyCode(options){\n  console.log(options);\n}\n\n/**\n * 我们的登陆的基本操作\n */\nclass LoginMod extends React.Component{\n  constructor(props){\n    super(props)\n    this.state={\n      src: this.props.src ? this.props.src : '',\n      verifyCodeKey:'',\n      open:false,\n      message:'测试',\n      severity:\"success\"\n    }\n    this.refreshVerifyCode=this.refreshVerifyCode.bind(this)\n    this.preSubmit=this.preSubmit.bind(this)\n    this.callBackExe=this.callBackExe.bind(this)\n  }\n\n  refreshVerifyCode(){\n    const _this=this;\n    FetchDoGet(\"/blog/v1/image/getKaptcha\",function(response){\n      _this.setState({\n        src: response.verifyCode,\n        verifyCodeKey:response.verifyCodeKey,\n        isLogin:false\n    })\n      //console.log(\"response\",response);\n    });\n  }\n\n  preSubmit(e) {  \n \n    const _this=this;\n    let requestData={\n      verifyCodeKey:this.state.verifyCodeKey,\n      verifyCode:$(\"#verifyCode\").val()\n    }\n\n    const username=$(\"#username\").val();\n    const password=$(\"#password\").val();\n    console.log(\"password\",password)\n\n    if(undefined==username||null==username||username.length==0){\n      MessageAlter(\"warning\",\"请求输人用户名\")\n      //alert(\"请求输人用户名\");\n      //e.preventDefault();\n      e.preventDefault();\n      return;\n      \n    }\n\n    if(undefined==password||null==password||password.length==0){\n      MessageAlter(\"warning\",\"请求输人密码\")\n      //alert(\"请求输人密码\");\n      e.preventDefault();\n      return;\n      \n    }\n\n    FetchDoPost(\"/blog/v1/login/login/\"+username+\"/\"+password,function(response) {\n      localStorage.setItem(\"user_token\",response)\n      store.setState({\n        token:response\n        })\n      MessageAlter(\"success\",\"登陆成功\")\n      _this.props.history.push('/private-zone');\n      console.log(response);\n    },requestData);\n    e.preventDefault();\n  }\n\n  componentDidMount(){\n\n    //localStorage.setItem(\"user_token\",null)\n    /**\n     * 存储我们一些的基本的信息\n     */\n    const _this=this;\n    /**\n     * 获取我们的验证码\n     */\n    // FetchDoGet(\"/block/v1/sys_user/isLogin\",function(response) {\n    //   if(response.respCode===300){\n    //     _this.setState({\n    //       isLogin:false\n    //     }) \n    //   }else if(response.respCode==200){\n    //     //跳转到首页\n    //     _this.props.history.push(\"/\")\n    //   }else{\n    //     MessageAlter(\"warning\",response.data);\n    //   }\n    //   console.log(\"sss\",response);\n    //  },{},false);\n\n    /**\n     * 获取我们的验证码\n     */\n    FetchDoGet(\"/blog/v1/image/getKaptcha\",function(response){\n      _this.setState({\n        src: response.verifyCode,\n        verifyCodeKey:response.verifyCodeKey,\n    })\n    //console.log(\"response\",response);\n    },{'key1':'value',\"verifyCodeKey\":\"ssddd\"});\n  }\n\n  callBackExe(param){\n    this.setState({\n      open:false,\n      message:'',\n    })\n    //console.log(param);\n  }\n\n  render(){\n\n    //return <Redirect to='/' />;\n\n    const {classes} = this.props;\n\n    let {src,open,message,severity} = this.state;\n\n    return(\n<Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n      <div className={classes.title}>菜鸟的后台管理</div>\n        {/* <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar> */}\n        {/* <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography> */}\n        <form className={classes.form} noValidate onSubmit={this.preSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"用户名\"\n            name=\"username\"\n            autoComplete=\"username\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"密码\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n          <div>\n          <TextField id=\"verifyCode\"\n           label=\"验证码\"\n           required\n           fullWidth\n            variant=\"outlined\" />\n            <Tooltip placement=\"bottom\" title=\"点击我，更新验证码\">\n              <img id=\"\" \n              alt={\"点击我，更新验证码\"}\n              src={src} \n              style={{width:\"130px\",height:\"40px\"}}\n              className={classes.verifyCode} \n              onClick={this.refreshVerifyCode}/>\n            </Tooltip>\n          </div>\n          \n          {/* <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          /> */}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            登陆\n          </Button>\n          {/* <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"#\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid> */}\n        </form>\n      </div>\n      <Box mt={8}>\n        <CopyRight />\n      </Box>\n      <Dialog open={open} message={message} severity={severity} callBack={this.callBackExe}/>\n    </Container>\n    )\n  }\n}\n\nexport default withStyles(style)(withRouter(LoginMod));"]},"metadata":{},"sourceType":"module"}
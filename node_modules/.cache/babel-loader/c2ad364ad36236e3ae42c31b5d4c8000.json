{"ast":null,"code":"import _classCallCheck from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/breakpoint/npm_work/test-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';// import logo from './logo.svg';\nimport'./App.css';// import {BrowserRouter, Route} from 'react-router-dom'\nimport{BrowserRouter as Router,Route,Switch,Link,Redirect,withRouter}from\"react-router-dom\";import{connect,Provider}from'react-redux';import Routers from'./router/routers';import FileNotFound from'./router/blog/FileNotFound';import zhCN from'antd/es/locale/zh_CN';import{ConfigProvider}from'antd';import{FetchDoGet}from'./commons/Utils';var themeList={theme1:{}};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){}/**\n   * 添加预加载的动画\n   */},{key:\"componentWillMount\",value:function componentWillMount(){var loading=document.getElementById('i-loading');if(loading){loading.setAttribute('class','i-loading-out');setTimeout(function(){loading.style.display='none';},1000);}}},{key:\"render\",value:function render(){var token=localStorage.getItem(\"user_token\");console.log(token);return React.createElement(ConfigProvider,{locale:zhCN},React.createElement(Router,null,React.createElement(\"div\",null,React.createElement(Switch,null,Routers.map(function(item,index){return React.createElement(Route,{key:index,path:item.path,exact:true,render:function render(props){console.log(\"props\",props);return!item.auth?React.createElement(item.component,props):token?React.createElement(item.component,props):React.createElement(Redirect,{to:{pathname:'/login',state:{from:props.location}}});}});//end Route\n}),\"// \\u6240\\u6709\\u9519\\u8BEF\\u8DEF\\u7531\\u8DF3\\u8F6C\\u9875\\u9762\",React.createElement(Route,{component:FileNotFound})))));}}]);return App;}(React.Component);// function App() {\n//     // return <Redirect to={{ pathname: \"/\" }} />;\n//   return (\n//     <Router>\n//             <Route path={`/private`} component={PrivateZone}></Route>\n//             <Route path={`/login`} component={LoginMod}></Route>\n//      </Router>\n//   );\n// }\nvar mapStateToProps=function mapStateToProps(state,ownProps){return{token:state.token};};// connect(mapStateToProps)\nexport default App;","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/App.js"],"names":["React","BrowserRouter","Router","Route","Switch","Link","Redirect","withRouter","connect","Provider","Routers","FileNotFound","zhCN","ConfigProvider","FetchDoGet","themeList","theme1","App","props","state","loading","document","getElementById","setAttribute","setTimeout","style","display","token","localStorage","getItem","console","log","map","item","index","path","auth","pathname","from","location","Component","mapStateToProps","ownProps"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAO,WAAP,CAEA;AACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAiCC,KAAjC,CAAuCC,MAAvC,CAA8CC,IAA9C,CAAmDC,QAAnD,CAA6DC,UAA7D,KAA8E,kBAA9E,CACA,OAASC,OAAT,CAAkBC,QAAlB,KAAkC,aAAlC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CAGA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,OAASC,cAAT,KAA+B,MAA/B,CACA,OAASC,UAAT,KAA2B,iBAA3B,CACA,GAAMC,CAAAA,SAAS,CAAC,CACdC,MAAM,CAAC,EADO,CAAhB,C,GAOMC,CAAAA,G,yEACJ,aAAYC,KAAZ,CAAkB,qCAChB,qEAAMA,KAAN,GACA,MAAKC,KAAL,CAAW,EAAX,CAFgB,aAKjB,C,6EAEkB,CAClB,CAED;;oEAGoB,CAClB,GAAIC,CAAAA,OAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd,CACA,GAAIF,OAAJ,CAAa,CACXA,OAAO,CAACG,YAAR,CAAqB,OAArB,CAA8B,eAA9B,EACAC,UAAU,CAAC,UAAM,CACfJ,OAAO,CAACK,KAAR,CAAcC,OAAd,CAAwB,MAAxB,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CACF,C,uCAEO,CACN,GAAIC,CAAAA,KAAK,CAACC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACA,MACE,qBAAC,cAAD,EAAgB,MAAM,CAAEf,IAAxB,EAEE,oBAAC,MAAD,MACE,+BACE,oBAAC,MAAD,MACGF,OAAO,CAACsB,GAAR,CAAY,SAACC,IAAD,CAAMC,KAAN,CAAc,CAC3B,MACE,qBAAC,KAAD,EAAO,GAAG,CAAEA,KAAZ,CACA,IAAI,CAAED,IAAI,CAACE,IADX,CAEA,KAAK,KAFL,CAGA,MAAM,CAAE,gBAACjB,KAAD,CAAU,CAChBY,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAoBb,KAApB,EACA,MAAQ,CAACe,IAAI,CAACG,IAAN,CAAc,oBAAC,IAAD,CAAM,SAAN,CAAoBlB,KAApB,CAAd,CAAgDS,KAAK,CAAG,oBAAC,IAAD,CAAM,SAAN,CAAoBT,KAApB,CAAH,CAC3D,oBAAC,QAAD,EAAU,EAAE,CAAE,CACfmB,QAAQ,CAAE,QADK,CAEflB,KAAK,CAAE,CAAEmB,IAAI,CAAEpB,KAAK,CAACqB,QAAd,CAFQ,CAAd,EADF,CAMD,CAXD,EADF,CAcE;AAED,CAjBA,CADH,mEAoBA,oBAAC,KAAD,EAAO,SAAS,CAAE5B,YAAlB,EApBA,CADF,CADF,CAFF,CADF,CAoCD,C,iBA/DeX,KAAK,CAACwC,S,EAkExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACtB,KAAD,CAAQuB,QAAR,CAAqB,CAC3C,MAAO,CAAEf,KAAK,CAAER,KAAK,CAACQ,KAAf,CAAP,CACD,CAFD,CAGA;AACA,cAAgBV,CAAAA,GAAhB","sourcesContent":["import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\n\n// import {BrowserRouter, Route} from 'react-router-dom'\nimport { BrowserRouter as Router,Route,Switch,Link,Redirect, withRouter} from \"react-router-dom\";\nimport { connect, Provider } from 'react-redux'\n\nimport Routers from './router/routers'\n\nimport FileNotFound from './router/blog/FileNotFound'\n\n\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { ConfigProvider } from 'antd';\nimport { FetchDoGet } from './commons/Utils';\nconst themeList={\n  theme1:{\n\n  }\n}\n\n\nclass App extends React.Component{\n  constructor(props){\n    super(props)\n    this.state={\n\n    }\n  }\n\n  componentDidMount(){\n  }\n\n  /**\n   * 添加预加载的动画\n   */\n  componentWillMount(){\n    let loading = document.getElementById('i-loading')\n    if (loading) {\n      loading.setAttribute('class', 'i-loading-out')\n      setTimeout(() => {\n        loading.style.display = 'none'\n      }, 1000)\n    }\n  }\n\n  render(){\n    let token=localStorage.getItem(\"user_token\");\n    console.log(token)\n    return(\n      <ConfigProvider locale={zhCN}>\n        {/* <Provider store={store}> */}\n        <Router>\n          <div>\n            <Switch>\n              {Routers.map((item,index)=>{\n              return (\n                <Route key={index} \n                path={item.path} \n                exact \n                render={(props) =>{\n                  console.log(\"props\",props)\n                  return (!item.auth ? (<item.component {...props} />) : (token ? <item.component {...props} /> :\n                    <Redirect to={{\n                   pathname: '/login',\n                   state: { from: props.location }\n                   }} />)\n                  )\n                }\n                }/>\n               )//end Route\n\n              })}\n            // 所有错误路由跳转页面\n            <Route component={FileNotFound} />\n           \n           </Switch>\n        </div>\n{/*         \n            <Route path={`/private`} component={PrivateZone}></Route>\n            <Route path={`/login`} component={LoginMod}></Route> */}\n        </Router>\n        {/* </Provider> */}\n      </ConfigProvider>\n    )\n  }\n}\n\n// function App() {\n//     // return <Redirect to={{ pathname: \"/\" }} />;\n//   return (\n//     <Router>\n//             <Route path={`/private`} component={PrivateZone}></Route>\n//             <Route path={`/login`} component={LoginMod}></Route>\n//      </Router>\n//   );\n// }\n\n\nconst mapStateToProps = (state, ownProps) => {\n  return { token: state.token }\n}\n// connect(mapStateToProps)\nexport default (App);\n"]},"metadata":{},"sourceType":"module"}
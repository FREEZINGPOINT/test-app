{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/login/Signin.js\";\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withStyles } from '@material-ui/core/styles';\nimport $ from 'jquery'; // import {HashRouter as Router , Route , Switch,withRouter} from 'react-router-dom'\n\nimport { BrowserRouter, Route, Redirect, withRouter } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport CopyRight from './../components/CopyRight';\nimport { Tooltip } from 'antd';\nimport { FetchDoGet, FetchDoPost, MessageAlter } from './../commons/Utils';\nimport Dialog from './../commons/DialogUtils';\nimport PrivateZone from './../router/privateZone';\nconst style = {\n  paper: {\n    marginTop: \"23%\",\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: \"2px\",\n    backgroundColor: \"#fff\"\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: \"10px\"\n  },\n  submit: {\n    margin: \"8px\",\n    height: \"50px\"\n  },\n  title: {\n    fontSize: \"36px\",\n    color: \"#64b5f6\",\n    margin: \"10px auto\",\n    textAlign: \"center\"\n  },\n  verifyCodeDiv: {\n    height: \"50px\"\n  },\n  verifyCode: {\n    cursor: \"pointer\",\n    position: \"relative\",\n    right: \"-60%\",\n    bottom: \"50px\",\n    margin: \"2px 9px\",\n    textAlign: \"left\"\n  }\n};\n\nfunction veryfyCode(options) {\n  console.log(options);\n}\n/**\n * 我们的登陆的基本操作\n */\n\n\nclass LoginMod extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      src: this.props.src ? this.props.src : '',\n      verifyCodeKey: '',\n      open: false,\n      message: '测试',\n      severity: \"success\"\n    };\n    this.refreshVerifyCode = this.refreshVerifyCode.bind(this);\n    this.preSubmit = this.preSubmit.bind(this);\n    this.callBackExe = this.callBackExe.bind(this);\n  }\n\n  refreshVerifyCode() {\n    const _this = this;\n\n    FetchDoGet(\"/block/v1/image/getVerifyCode\", function (response) {\n      _this.setState({\n        src: response.verifyCode,\n        verifyCodeKey: response.verifyCodeKey,\n        isLogin: false\n      });\n\n      console.log(\"response\", response);\n    });\n  }\n\n  preSubmit(e) {\n    const _this = this;\n\n    console.log(e); //e.target;\n\n    console.log(e.target);\n    let requestData = {\n      verifyCodeKey: this.state.verifyCodeKey,\n      verifyCode: $(\"#verifyCode\").val()\n    };\n    const username = $(\"#username\").val();\n    const password = $(\"#password\").val();\n    console.log(\"password\", password);\n\n    if (undefined == username || null == username || username.length == 0) {\n      MessageAlter(\"warning\", \"请求输人用户名\"); //alert(\"请求输人用户名\");\n      //e.preventDefault();\n\n      e.preventDefault();\n      return;\n    }\n\n    if (undefined == password || null == password || password.length == 0) {\n      MessageAlter(\"warning\", \"请求输人密码\"); //alert(\"请求输人密码\");\n\n      e.preventDefault();\n      return;\n    }\n\n    FetchDoPost(\"/block/v1/sys_user/login/\" + username + \"/\" + password, function (response) {\n      localStorage.setItem(\"user_token\", response.token);\n      MessageAlter(\"success\", \"登陆成功\"); // {<Redirect to={{\n      //   pathname:\"/\",\n      //   state:{\n      //     title:\"首页\"\n      //   }\n      // }}/>}\n\n      _this.props.history.push('/');\n\n      console.log(response);\n    }, requestData);\n    /**\n     * 阻止提交我们的提交\n     */\n\n    e.preventDefault();\n  }\n\n  componentDidMount() {\n    //localStorage.setItem(\"user_token\",null)\n\n    /**\n     * 存储我们一些的基本的信息\n     */\n    const _this = this;\n    /**\n     * 获取我们的验证码\n     */\n\n\n    FetchDoGet(\"/block/v1/sys_user/isLogin\", function (response) {\n      if (response.respCode === 300) {\n        _this.setState({\n          isLogin: false\n        });\n      } else if (response.respCode == 200) {\n        //跳转到首页\n        _this.props.history.push(\"/\");\n      } else {\n        MessageAlter(\"warning\", response.data);\n      }\n\n      console.log(\"sss\", response);\n    }, {}, false);\n    /**\n     * 获取我们的验证码\n     */\n\n    FetchDoGet(\"/block/v1/image/getVerifyCode\", function (response) {\n      _this.setState({\n        src: response.verifyCode,\n        verifyCodeKey: response.verifyCodeKey\n      });\n\n      console.log(\"response\", response);\n    }, {\n      'key1': 'value',\n      \"verifyCodeKey\": \"ssddd\"\n    });\n  }\n\n  callBackExe(param) {\n    this.setState({\n      open: false,\n      message: ''\n    });\n    console.log(param);\n  }\n\n  render() {\n    //return <Redirect to='/' />;\n    const {\n      classes\n    } = this.props;\n    let {\n      src,\n      open,\n      message,\n      severity\n    } = this.state;\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"\\u5149\\u7F51\\u7EDC\\u5EFA\\u8BBE\\u7BA1\\u7406\\u5E73\\u53F0\"), React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      onSubmit: this.preSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"username\",\n      label: \"\\u7528\\u6237\\u540D\",\n      name: \"username\",\n      autoComplete: \"username\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"\\u5BC6\\u7801\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"verifyCode\",\n      label: \"\\u9A8C\\u8BC1\\u7801\",\n      required: true,\n      fullWidth: true,\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }), React.createElement(Tooltip, {\n      placement: \"bottom\",\n      title: \"\\u70B9\\u51FB\\u6211\\uFF0C\\u66F4\\u65B0\\u9A8C\\u8BC1\\u7801\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"\",\n      alt: \"点击我，更新验证码\",\n      src: src,\n      style: {\n        width: \"130px\",\n        height: \"40px\"\n      },\n      className: classes.verifyCode,\n      onClick: this.refreshVerifyCode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"\\u767B\\u9646\"), React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"#\",\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Forgot password?\")), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"#\",\n      variant: \"body2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"Don't have an account? Sign Up\"))))), React.createElement(Box, {\n      mt: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(CopyRight, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    })), React.createElement(Dialog, {\n      open: open,\n      message: message,\n      severity: severity,\n      callBack: this.callBackExe,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withStyles(style)(withRouter(LoginMod));","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/login/Signin.js"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","withStyles","$","BrowserRouter","Route","Redirect","withRouter","createBrowserHistory","CopyRight","Tooltip","FetchDoGet","FetchDoPost","MessageAlter","Dialog","PrivateZone","style","paper","marginTop","display","flexDirection","alignItems","avatar","margin","backgroundColor","form","width","submit","height","title","fontSize","color","textAlign","verifyCodeDiv","verifyCode","cursor","position","right","bottom","veryfyCode","options","console","log","LoginMod","Component","constructor","props","state","src","verifyCodeKey","open","message","severity","refreshVerifyCode","bind","preSubmit","callBackExe","_this","response","setState","isLogin","e","target","requestData","val","username","password","undefined","length","preventDefault","localStorage","setItem","token","history","push","componentDidMount","respCode","data","param","render","classes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport $ from 'jquery'\n// import {HashRouter as Router , Route , Switch,withRouter} from 'react-router-dom'\nimport { BrowserRouter,Route,Redirect, withRouter} from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport CopyRight from './../components/CopyRight'\nimport { Tooltip } from 'antd';\n\nimport {FetchDoGet,FetchDoPost,MessageAlter} from './../commons/Utils'\nimport Dialog from './../commons/DialogUtils'\n\nimport PrivateZone from './../router/privateZone'\n\n\nconst style ={\n  paper: {\n    marginTop: \"23%\",\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: \"2px\",\n    backgroundColor: \"#fff\",\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: \"10px\",\n  },\n  submit: {\n    margin: \"8px\",\n    height:\"50px\"\n\n  },\n  title:{\n      fontSize:\"36px\",\n      color:\"#64b5f6\",\n      margin:\"10px auto\",\n      textAlign:\"center\"\n  },\n  verifyCodeDiv:{\n    height:\"50px\"\n  }\n  ,\n  verifyCode:{\n    cursor:\"pointer\",\n    position:\"relative\",\n    right:\"-60%\", \n    bottom:\"50px\",\n    margin:\"2px 9px\",\n    textAlign:\"left\"\n  }\n};\n\nfunction veryfyCode(options){\n  console.log(options);\n}\n\n/**\n * 我们的登陆的基本操作\n */\nclass LoginMod extends React.Component{\n  constructor(props){\n    super(props)\n    this.state={\n      src: this.props.src ? this.props.src : '',\n      verifyCodeKey:'',\n      open:false,\n      message:'测试',\n      severity:\"success\"\n    }\n    this.refreshVerifyCode=this.refreshVerifyCode.bind(this)\n    this.preSubmit=this.preSubmit.bind(this)\n    this.callBackExe=this.callBackExe.bind(this)\n  }\n\n  refreshVerifyCode(){\n    const _this=this;\n    FetchDoGet(\"/block/v1/image/getVerifyCode\",function(response){\n      _this.setState({\n        src: response.verifyCode,\n        verifyCodeKey:response.verifyCodeKey,\n        isLogin:false\n    })\n      console.log(\"response\",response);\n    });\n  }\n\n  preSubmit(e) {  \n \n    const _this=this;\n    console.log(e)\n    //e.target;\n    console.log(e.target);\n\n    let requestData={\n      verifyCodeKey:this.state.verifyCodeKey,\n      verifyCode:$(\"#verifyCode\").val()\n    }\n\n    const username=$(\"#username\").val();\n    const password=$(\"#password\").val();\n    console.log(\"password\",password)\n\n    if(undefined==username||null==username||username.length==0){\n      MessageAlter(\"warning\",\"请求输人用户名\")\n      //alert(\"请求输人用户名\");\n      //e.preventDefault();\n      e.preventDefault();\n      return;\n      \n    }\n\n    if(undefined==password||null==password||password.length==0){\n      MessageAlter(\"warning\",\"请求输人密码\")\n      //alert(\"请求输人密码\");\n      e.preventDefault();\n      return;\n      \n    }\n\n    FetchDoPost(\"/block/v1/sys_user/login/\"+username+\"/\"+password,function(response) {\n      localStorage.setItem(\"user_token\",response.token)\n      MessageAlter(\"success\",\"登陆成功\")\n      // {<Redirect to={{\n      //   pathname:\"/\",\n      //   state:{\n      //     title:\"首页\"\n      //   }\n      // }}/>}\n      _this.props.history.push('/');\n      console.log(response);\n    },requestData);\n    /**\n     * 阻止提交我们的提交\n     */\n    e.preventDefault();\n  }\n\n  componentDidMount(){\n\n    //localStorage.setItem(\"user_token\",null)\n    /**\n     * 存储我们一些的基本的信息\n     */\n    const _this=this;\n    /**\n     * 获取我们的验证码\n     */\n    FetchDoGet(\"/block/v1/sys_user/isLogin\",function(response) {\n      if(response.respCode===300){\n        _this.setState({\n          isLogin:false\n        }) \n      }else if(response.respCode==200){\n        //跳转到首页\n        _this.props.history.push(\"/\")\n      }else{\n        MessageAlter(\"warning\",response.data);\n      }\n      console.log(\"sss\",response);\n     },{},false);\n\n    /**\n     * 获取我们的验证码\n     */\n    FetchDoGet(\"/block/v1/image/getVerifyCode\",function(response){\n      _this.setState({\n        src: response.verifyCode,\n        verifyCodeKey:response.verifyCodeKey,\n    })\n    console.log(\"response\",response);\n    },{'key1':'value',\"verifyCodeKey\":\"ssddd\"});\n  }\n\n  callBackExe(param){\n    this.setState({\n      open:false,\n      message:'',\n    })\n    console.log(param);\n  }\n\n  render(){\n\n    //return <Redirect to='/' />;\n\n    const {classes} = this.props;\n\n    let {src,open,message,severity} = this.state;\n\n    return(\n<Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n      <div className={classes.title}>光网络建设管理平台</div>\n        {/* <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar> */}\n        {/* <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography> */}\n        <form className={classes.form} noValidate onSubmit={this.preSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"用户名\"\n            name=\"username\"\n            autoComplete=\"username\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"密码\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n          <div>\n          <TextField id=\"verifyCode\"\n           label=\"验证码\"\n           required\n           fullWidth\n            variant=\"outlined\" />\n            <Tooltip placement=\"bottom\" title=\"点击我，更新验证码\">\n              <img id=\"\" \n              alt={\"点击我，更新验证码\"}\n              src={src} \n              style={{width:\"130px\",height:\"40px\"}}\n              className={classes.verifyCode} \n              onClick={this.refreshVerifyCode}/>\n            </Tooltip>\n          </div>\n          \n          {/* <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          /> */}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            登陆\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"#\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <CopyRight />\n      </Box>\n      <Dialog open={open} message={message} severity={severity} callBack={this.callBackExe}/>\n    </Container>\n    )\n  }\n}\n\nexport default withStyles(style)(withRouter(LoginMod));"]},"metadata":{},"sourceType":"module"}
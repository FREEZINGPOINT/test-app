{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/commons/LocalBackGround.js\";\nimport React from 'react'; //基本的公共导入模块 start\n\nimport './../commons/layoutcom.css';\nimport HeaderPrivate from './../components/HeaderPrivate';\nimport Bottom from './../components/Bottom';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { Layout, PageHeader, Divider, Breadcrumb } from 'antd';\nimport { MenuUnfoldOutlined, MenuFoldOutlined, ArrowLeft, LeftOutlined } from '@ant-design/icons';\nimport MenuComponent from './../components/MenuCom';\nimport { FetchDoGet, FetchDoPost } from './../commons/Utils'; //基本的公共导入模块 end \n//定义常量\n\nconst {\n  Header,\n  Sider,\n  Content\n} = Layout;\n/**\n * 我们后台的公共模板\n * 用于后台的所有的页面\n */\n\nclass LocalBackGround extends React.Component {\n  //构造函数\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        collapsed: !this.state.collapsed\n      });\n    };\n\n    this.state = {\n      collapsed: false,\n      user: {},\n      role: {},\n      other: {}\n    };\n  }\n\n  //初始化我们的数据\n  componentDidMount() {\n    const _this = this;\n\n    let user_info = localStorage.getItem(\"user_info\"); //console.log(\"user_info\",user_info)\n\n    if (\"null\" == user_info || null == user_info || undefined == user_info) {\n      //获取用户的登陆的信息\n      FetchDoGet(\"/block/v1/sys_user/isLogin\", function (response) {\n        localStorage.setItem(\"user_info\", JSON.stringify(response));\n\n        _this.setState({\n          user: response.tbSystemUser,\n          role: response.tbSystemRole,\n          other: response.userOtherMessageInfo\n        });\n      });\n    } else {\n      let userinfo = JSON.parse(user_info);\n\n      if (null != userinfo) {\n        _this.setState({\n          user: userinfo.tbSystemUser,\n          role: userinfo.tbSystemRole,\n          other: userinfo.userOtherMessageInfo\n        });\n      }\n    } //end else\n\n  } //执行渲染我们的组件\n\n\n  render() {\n    let {\n      user,\n      role,\n      other\n    } = this.state;\n    const breadcrumb = this.props.breadcrumb;\n    console.log(\"breadcrumb\", breadcrumb);\n    let data = this.props.location.state;\n\n    if (null == data || undefined == data) {\n      data = {};\n      console.log(\"this.props.location.query\", this.props.location.query); //window.location.href=\"/not_found\"\n      // {<Redirect to={<NotFound/>}/>}\n    }\n\n    console.log(\"setTitleCallBack\", data); //this.props.setTitleCallBack(this.props.location.state)\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(HeaderPrivate, {\n      name: \"zhaoligang\",\n      callback: this.toggle,\n      avatar: user.userPhoto,\n      collapsed: this.state.collapsed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(Layout, {\n      className: \"layout-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Sider, {\n      theme: \"light\",\n      trigger: null,\n      collapsible: true,\n      collapsed: this.state.collapsed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(MenuComponent, {\n      collapsed: this.state.collapsed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(Layout, {\n      className: \"site-layout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Content, {\n      className: \"site-layout-background\",\n      style: {\n        margin: '4px 5px 0px 3px',\n        padding: \"0px\",\n        minHeight: 680,\n        backgroundColor: \"inherit\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(PageHeader, {\n      title: data.title,\n      subTitle: data.subTitle // footer={<Bottom/>}\n      ,\n      backIcon: React.createElement(LeftOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }),\n      onBack: this.props.onBack,\n      breadcrumb: React.createElement(Breadcrumb, {\n        routes: breadcrumb,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.props.content), React.createElement(Bottom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }))))); //end return\n  } //end render\n\n\n}\n\nexport default withRouter(LocalBackGround);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/commons/LocalBackGround.js"],"names":["React","HeaderPrivate","Bottom","withRouter","Redirect","Layout","PageHeader","Divider","Breadcrumb","MenuUnfoldOutlined","MenuFoldOutlined","ArrowLeft","LeftOutlined","MenuComponent","FetchDoGet","FetchDoPost","Header","Sider","Content","LocalBackGround","Component","constructor","props","toggle","setState","collapsed","state","user","role","other","componentDidMount","_this","user_info","localStorage","getItem","undefined","response","setItem","JSON","stringify","tbSystemUser","tbSystemRole","userOtherMessageInfo","userinfo","parse","render","breadcrumb","console","log","data","location","query","userPhoto","margin","padding","minHeight","backgroundColor","title","subTitle","onBack","content"],"mappings":"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","sourcesContent":["import React from 'react'\n\n//基本的公共导入模块 start\nimport './../commons/layoutcom.css'\nimport HeaderPrivate from './../components/HeaderPrivate'\nimport Bottom from './../components/Bottom'\nimport { withRouter, Redirect } from 'react-router-dom'\nimport 'antd/dist/antd.css';\nimport {Layout,PageHeader,Divider,Breadcrumb} from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  ArrowLeft,\n  LeftOutlined\n} from '@ant-design/icons';\nimport MenuComponent from './../components/MenuCom'\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\n\n\n//基本的公共导入模块 end \n\n//定义常量\nconst { Header, Sider, Content} = Layout;\n/**\n * 我们后台的公共模板\n * 用于后台的所有的页面\n */\nclass LocalBackGround extends React.Component{\n    //构造函数\n    constructor(props){\n        super(props)\n        this.state={\n            collapsed: false,\n            user:{},\n            role:{},\n            other:{},\n        }\n    }\n    toggle = () => {\n        this.setState({\n          collapsed: !this.state.collapsed,\n        });\n    };\n\n    //初始化我们的数据\n    componentDidMount(){\n        const _this=this;\n        let user_info=localStorage.getItem(\"user_info\");\n        //console.log(\"user_info\",user_info)\n        if(\"null\"==user_info||null==user_info||undefined==user_info){\n            //获取用户的登陆的信息\n            FetchDoGet(\"/block/v1/sys_user/isLogin\",function(response){\n                localStorage.setItem(\"user_info\",JSON.stringify(response))\n                _this.setState({\n                    user:response.tbSystemUser,\n                    role:response.tbSystemRole,\n                    other:response.userOtherMessageInfo\n                })\n            });  \n         }else{\n            let userinfo=JSON.parse(user_info);\n            if(null!=userinfo){\n                _this.setState({\n                    user:userinfo.tbSystemUser,\n                    role:userinfo.tbSystemRole,\n                    other:userinfo.userOtherMessageInfo\n                })\n            }\n        \n         }//end else\n       \n    }\n    //执行渲染我们的组件\n    render(){\n\n        let {user,role,other}=this.state;\n        const breadcrumb=this.props.breadcrumb;\n        console.log(\"breadcrumb\",breadcrumb)\n\n        let data = this.props.location.state; \n        if(null==data||undefined==data){\n            data={}\n            console.log(\"this.props.location.query\",this.props.location.query)\n            \n            //window.location.href=\"/not_found\"\n            // {<Redirect to={<NotFound/>}/>}\n        }\n\n        console.log(\"setTitleCallBack\",data);\n        //this.props.setTitleCallBack(this.props.location.state)\n        return( \n            <div>\n                <HeaderPrivate name=\"zhaoligang\" \n                callback={this.toggle} \n                avatar={user.userPhoto}\n                collapsed={this.state.collapsed}\n                />\n                    <Layout className=\"layout-header\">\n                        <Sider theme=\"light\" trigger={null} collapsible collapsed={this.state.collapsed}>\n                        <div className=\"logo\" />\n                        <MenuComponent collapsed={this.state.collapsed}/>\n                        </Sider>\n                        <Layout className=\"site-layout\">\n                        {/* <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n                            {React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\n                            className: 'trigger',\n                            onClick: this.toggle,\n                            })}\n                        </Header> */}\n                        <Content\n                            className=\"site-layout-background\"\n                            style={{\n                                margin: '4px 5px 0px 3px',\n                                padding: \"0px\",\n                                minHeight: 680,\n                                backgroundColor: \"inherit\"\n                            }}\n                        >\n                            <PageHeader title={data.title}\n                            subTitle={data.subTitle}\n                            // footer={<Bottom/>}\n                            backIcon={<LeftOutlined />}\n                            onBack={this.props.onBack}\n                            breadcrumb={<Breadcrumb  routes={breadcrumb} />}\n                            >\n                                {/* //定义我们自己的组件 */}\n                                {this.props.content}\n                            </PageHeader>\n                            <Bottom/>\n                        </Content>\n                        </Layout>\n                    </Layout>\n            </div>\n        )//end return\n\n    }//end render\n}\n\nexport default withRouter(LocalBackGround)"]},"metadata":{},"sourceType":"module"}
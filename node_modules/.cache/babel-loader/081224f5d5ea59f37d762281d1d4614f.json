{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/router/ManageOptStream.js\";\nimport React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport LocalBackGround from './../commons/LocalBackGround';\nimport { FetchDoGet, FetchDoPost } from './../commons/Utils';\nimport { Layout, Card, Button, Divider, Tabs, Tag, Input } from 'antd';\nimport { MenuUnfoldOutlined, MenuFoldOutlined, PlusSquareOutlined, StopOutlined, FormOutlined, SearchOutlined } from '@ant-design/icons';\nimport TabbleUtils from '../components/TabbleUtils';\nimport LocalIconFont from '../components/LocalIconFont';\nimport ProjectTypeSelect from '../components/ProjectTypeSelect';\nimport SearchUserSelect from '../components/SearchUserSelect';\nimport $ from 'jquery';\nconst {\n  TabPane\n} = Tabs;\nconst optcolumns = [{\n  title: '操作流ID',\n  width: 50,\n  dataIndex: 'optId',\n  key: 'optId',\n  fixed: 'left',\n  ellipsis: true,\n  align: \"tenter\"\n}, {\n  title: '操作流名称',\n  width: 50,\n  dataIndex: 'optName',\n  align: \"tenter\"\n}, {\n  title: '创建者',\n  width: 50,\n  dataIndex: 'creatorName',\n  align: \"tenter\"\n}, {\n  title: '版本',\n  width: 50,\n  dataIndex: 'optVersion',\n  align: \"tenter\",\n  ellipsis: true\n}, {\n  title: '操作流类别',\n  width: 50,\n  dataIndex: 'optTypename',\n  align: \"tenter\"\n}, {\n  title: '创建时间',\n  width: 50,\n  dataIndex: 'gmtCreate',\n  align: \"tenter\"\n}, {\n  title: '修改时间',\n  width: 50,\n  dataIndex: 'gmtModified',\n  align: \"tenter\"\n}, {\n  title: '是否可用',\n  width: 50,\n  align: \"tenter\",\n  render: (text, record, index) => {\n    return record.optEnable == 0 ? React.createElement(Tag, {\n      color: \"green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u53EF\\u7528\") : React.createElement(Tag, {\n      color: \"red\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"\\u4E0D\\u53EF\\u7528\");\n  }\n}, {\n  title: '操作',\n  key: \"operation\",\n  width: 50,\n  fixed: 'right',\n  align: \"tenter\",\n  render: (text, record, index) => {\n    return React.createElement(Link, {\n      to: {\n        pathname: \"/opt_stream_detail\",\n        state: {\n          title: \"操作流详情\",\n          subTitle: \"ID:\" + record.optId,\n          optStreamRecord: record\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      ghost: false,\n      style: {\n        backgroundColor: \"#389e0d\",\n        border: \"none\",\n        float: \"left\"\n      },\n      icon: React.createElement(SearchOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"\\u67E5\\u770B\\u8BE6\\u60C5\")); //end return\n  }\n}];\n\nclass ManageOptStream extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requestUrl: \"/block/v1/opt_stream/selectOptStreams\",\n      queryData: {},\n      tableKey: Math.random(),\n      optName: \"\",\n      optTypeId: \"\",\n      optCreatorId: \"\"\n    };\n  }\n  /**\n   * 初始化我们的变量\n   */\n\n\n  componentDidMount() {\n    let opt_stream_queryData = localStorage.getItem(\"opt_stream_queryData\");\n    console.log(\"opt_stream_queryData\", opt_stream_queryData);\n\n    if (null != opt_stream_queryData && undefined != opt_stream_queryData) {// let queryData=JSON.parse(opt_stream_queryData)\n      // this.setState({\n      //     queryDa ta:queryData,\n      //     //tableKey:Math.random(),\n      // })\n    }\n  }\n\n  render() {\n    return React.createElement(LocalBackGround, {\n      content: React.createElement(Tabs, {\n        tabPosition: \"top\",\n        tabBarGutter: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        key: \"tabs1\",\n        tab: \"操作流的管理\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Card, {\n        key: \"card111\",\n        style: {\n          width: \"100%\"\n        },\n        bordered: false,\n        hoverable: false,\n        title: \"\\u64CD\\u4F5C\\u6D41\\u5217\\u8868\",\n        extra: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(Input, {\n          placeholder: \"\\u64CD\\u4F5C\\u6D41\\u540D\\u79F0\",\n          id: \"opt_name\",\n          style: {\n            width: 200,\n            marginRight: \"8px\"\n          },\n          onChange: e => {\n            console.log($(\"#opt_name\").val());\n            this.setState({\n              optName: $(\"#opt_name\").val()\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }), React.createElement(SearchUserSelect, {\n          placeholder: \"创建者\",\n          onChange: value => {\n            console.log(value);\n            this.setState({\n              optCreatorId: value.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(ProjectTypeSelect, {\n          onChange: value => {\n            console.log(value);\n            this.setState({\n              optTypeId: value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }), React.createElement(Button, {\n          type: \"primary\",\n          style: {\n            marginRight: \"10px\"\n          },\n          onClick: () => {\n            let queryData = {\n              optName: this.state.optName,\n              optTypeId: this.state.optTypeId,\n              optCreatorId: this.state.optCreatorId\n            };\n            localStorage.setItem(\"opt_stream_queryData\", JSON.stringify(queryData));\n            this.setState({\n              queryData: queryData,\n              tableKey: Math.random()\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(SearchOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }), \"\\u67E5\\u8BE2\"), React.createElement(Button, {\n          type: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(PlusSquareOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }), \"\\u65B0\\u5EFA\")),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(TabbleUtils, {\n        columns: optcolumns,\n        requestUrl: this.state.requestUrl,\n        currentPage: 1,\n        searchParams: this.state.queryData // 每一次都是更新的\n        ,\n        key: this.state.tableKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }))), React.createElement(TabPane, {\n        key: \"tabs2\",\n        tab: \"操作流类别的管理\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default withRouter(ManageOptStream);","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/router/ManageOptStream.js"],"names":["React","withRouter","Link","LocalBackGround","FetchDoGet","FetchDoPost","Layout","Card","Button","Divider","Tabs","Tag","Input","MenuUnfoldOutlined","MenuFoldOutlined","PlusSquareOutlined","StopOutlined","FormOutlined","SearchOutlined","TabbleUtils","LocalIconFont","ProjectTypeSelect","SearchUserSelect","$","TabPane","optcolumns","title","width","dataIndex","key","fixed","ellipsis","align","render","text","record","index","optEnable","pathname","state","subTitle","optId","optStreamRecord","backgroundColor","border","float","ManageOptStream","Component","constructor","props","requestUrl","queryData","tableKey","Math","random","optName","optTypeId","optCreatorId","componentDidMount","opt_stream_queryData","localStorage","getItem","console","log","undefined","marginRight","e","val","setState","value","setItem","JSON","stringify"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withRouter,Link } from 'react-router-dom'\nimport LocalBackGround from './../commons/LocalBackGround'\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\nimport { Layout,Card,Button,Divider,Tabs,Tag,Input} from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  PlusSquareOutlined,\n  StopOutlined,\n  FormOutlined,\n  SearchOutlined\n} from '@ant-design/icons';\nimport TabbleUtils from '../components/TabbleUtils';\nimport LocalIconFont from '../components/LocalIconFont';\nimport ProjectTypeSelect from '../components/ProjectTypeSelect';\nimport SearchUserSelect from '../components/SearchUserSelect';\nimport $ from 'jquery'\n\nconst { TabPane } = Tabs;\n\nconst optcolumns=[\n    {\n        title: '操作流ID',\n        width: 50,\n        dataIndex: 'optId',\n        key: 'optId',\n        fixed: 'left',\n        ellipsis:true,\n        align:\"tenter\"\n    },\n    {\n        title: '操作流名称',\n        width: 50,\n        dataIndex: 'optName',\n        align:\"tenter\"\n    },\n    {\n        title: '创建者',\n        width: 50,\n        dataIndex: 'creatorName',\n        align:\"tenter\"\n    },\n    {\n        title: '版本',\n        width: 50,\n        dataIndex: 'optVersion',\n        align:\"tenter\",\n        ellipsis:true\n    },\n    {\n        title: '操作流类别',\n        width: 50,\n        dataIndex: 'optTypename',\n        align:\"tenter\"\n    },\n    {\n        title: '创建时间',\n        width: 50,\n        dataIndex: 'gmtCreate',\n        align:\"tenter\"\n    },\n    {\n        title: '修改时间',\n        width: 50,\n        dataIndex: 'gmtModified',\n        align:\"tenter\"\n    },\n    {\n        title: '是否可用',\n        width: 50,\n        align:\"tenter\",\n        render: (text, record, index) => {\n            return (record.optEnable==0)?(\n                <Tag color=\"green\">可用</Tag>\n            ):(\n                <Tag color=\"red\">不可用</Tag>\n            )\n        }\n    },\n    {\n        title: '操作',\n        key:\"operation\",\n        width: 50,\n        fixed: 'right',\n        align:\"tenter\",\n        render: (text, record, index) => {\n\n            return(\n                <Link to={{\n                    pathname:\"/opt_stream_detail\",\n                    state:{\n                        title:\"操作流详情\",\n                        subTitle:\"ID:\"+record.optId,\n                        optStreamRecord:record\n                    },\n                }}>\n                    <Button type=\"primary\"\n                    ghost={false} \n                    style={{backgroundColor:\"#389e0d\",border:\"none\",float:\"left\"}}\n                    icon={<SearchOutlined />}\n                    >\n                    查看详情</Button>\n                </Link>\n                \n            )//end return\n        }\n    },\n];\n\n\nclass ManageOptStream extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            requestUrl:\"/block/v1/opt_stream/selectOptStreams\",\n            queryData:{},\n            tableKey:Math.random(),\n            optName:\"\",\n            optTypeId:\"\",\n            optCreatorId:\"\"\n        }\n    }\n\n    /**\n     * 初始化我们的变量\n     */\n    componentDidMount(){\n\n        let opt_stream_queryData=localStorage.getItem(\"opt_stream_queryData\")\n        console.log(\"opt_stream_queryData\",opt_stream_queryData)\n        if(null!=opt_stream_queryData&&undefined!=opt_stream_queryData){\n            // let queryData=JSON.parse(opt_stream_queryData)\n            // this.setState({\n            //     queryDa ta:queryData,\n            //     //tableKey:Math.random(),\n            // })\n        }\n    }\n\n    render(){\n\n\n        return(\n            <LocalBackGround content={\n                <Tabs tabPosition=\"top\"\n                tabBarGutter={18}\n                >\n                    <TabPane key=\"tabs1\" tab={\"操作流的管理\"}>\n                        <Card key={\"card111\"} style={{width:\"100%\"}} \n                        bordered={false}\n                        hoverable={false}\n                        title=\"操作流列表\"\n                        extra={\n                            <div>\n                                <Input placeholder=\"操作流名称\"\n                                id=\"opt_name\"\n                                style={{width:200,marginRight:\"8px\"}}\n                                onChange={(e)=>{\n                                    console.log($(\"#opt_name\").val())\n                                    this.setState({\n                                        optName:$(\"#opt_name\").val(),\n                                    })\n                                }}\n                                />\n                                <SearchUserSelect \n                                placeholder={\"创建者\"}\n                                onChange={(value)=>{\n                                    console.log(value)\n                                    this.setState({\n                                        optCreatorId:value.value\n                                    })\n\n                                }}\n                                />\n                                <ProjectTypeSelect\n                                onChange={(value)=>{\n                                    console.log(value)\n                                    this.setState({\n                                        optTypeId:value\n                                    })\n                                }}\n                                />\n                                <Button type=\"primary\"\n                                style={{marginRight:\"10px\"}}\n                                onClick={()=>{\n                                    let queryData={\n                                        optName:this.state.optName,\n                                        optTypeId:this.state.optTypeId,\n                                        optCreatorId:this.state.optCreatorId\n                                    };\n\n                                    localStorage.setItem(\"opt_stream_queryData\",JSON.stringify(queryData))\n                                    this.setState({\n                                        queryData:queryData,\n                                        tableKey:Math.random(),\n                                    })\n                                }}\n                                >\n                                <SearchOutlined />\n                                查询\n                                </Button>\n                                <Button type=\"primary\">\n                                <PlusSquareOutlined />\n                                新建\n                                </Button>\n                            </div>\n                        }\n                        >\n                            <TabbleUtils\n                            columns={optcolumns}\n                            requestUrl={this.state.requestUrl}\n                            currentPage={1}\n                            searchParams={this.state.queryData}\n                            // 每一次都是更新的\n                            key={this.state.tableKey}/>\n                        </Card>\n                    </TabPane>\n                    <TabPane key=\"tabs2\" tab={\"操作流类别的管理\"}>\n\n                    </TabPane>\n                </Tabs>\n            }/>\n        )\n    }\n\n}\n\nexport default withRouter(ManageOptStream)"]},"metadata":{},"sourceType":"module"}
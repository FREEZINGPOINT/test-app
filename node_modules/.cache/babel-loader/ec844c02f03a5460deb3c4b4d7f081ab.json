{"ast":null,"code":"var _jsxFileName = \"/Users/breakpoint/npm_work/test-app/src/components/MenuCom.js\";\nimport React from 'react';\nimport { Menu, Icon } from 'antd';\nimport 'antd/dist/antd.css'; //请求的基本操作\n\nimport { FetchDoGet, FetchDoPost } from './../commons/Utils';\nimport { MenuUnfoldOutlined, MenuFoldOutlined, UserOutlined, VideoCameraOutlined, UploadOutlined } from '@ant-design/icons';\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n/**\n * 我们的menu的组件\n */\n\nclass MenuComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: 1,\n      parentMenu: []\n    };\n    this.menuOnOpenHandle = this.menuOnOpenHandle.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.subMenuClick = this.subMenuClick.bind(this);\n  }\n\n  componentDidMount() {\n    const _this = this;\n\n    FetchDoGet(\"block/v1/menu/getMenuByLoginUser\", function (response) {\n      _this.setState({\n        parentMenu: response\n      });\n\n      console.log(response);\n    });\n  }\n\n  getInitialState() {\n    return {\n      current: '1'\n    };\n  }\n\n  handleClick(e) {\n    console.log('click ', e);\n    this.setState({\n      current: e.key\n    });\n  }\n\n  menuOnOpenHandle(e) {\n    console.log(\"menuOnOpenHandle\", e);\n  }\n\n  subMenuClick(e) {\n    console.log(\"subMenuClick\", e);\n\n    const _this = this;\n\n    let {\n      parentMenu\n    } = _this.state;\n    FetchDoGet(\"block/v1/menu/getMenuByLoginUser\", function (response) {\n      //item[item.menuId]=response\n      console.log(response);\n      console.log(\"parentMenu\", parentMenu);\n      parentMenu.forEach(item => {\n        if (item.menuId == e.key) {\n          item[\"childMenu\" + e.key] = response;\n        }\n      });\n\n      _this.setState({\n        parentMenu: parentMenu\n      });\n\n      console.log(\"parentMenu2\", parentMenu);\n    }, {\n      \"pMenuId\": e.key\n    });\n  }\n\n  render() {\n    let {\n      parentMenu\n    } = this.state;\n    console.log(parentMenu);\n    parentMenu.forEach(item => {// FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function (response) {\n      //     item[item.menuId]=response\n      //     console.log(response);\n      // },{\"pMenuId\":item.menuId});\n    });\n    console.log(\"parentMenu\", parentMenu);\n    return React.createElement(Menu, {\n      theme: \"dark\",\n      onClick: this.handleClick,\n      defaultOpenKeys: ['sub1'],\n      selectedKeys: [this.state.current],\n      mode: \"inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, parentMenu.map((item, index) => {\n      return item.menuUrl != null && item.menuUrl != \"#\" ? React.createElement(Menu.Item, {\n        key: item.menuId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(UserOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), \"\\u9009\\u98791\") : React.createElement(SubMenu, {\n        key: item.menuId,\n        title: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(UserOutlined, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, item.menuName)),\n        onTitleClick: this.subMenuClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, null != item[\"childMenu\" + item.menuId] && undefined != item[\"childMenu\" + item.menuId] ? item[\"childMenu\" + item.menuId].map(cItem => {\n        return React.createElement(Menu.Item, {\n          key: cItem.menuId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, item.menuName);\n      }) : \"\");\n    }));\n  }\n\n}\n\nexport default MenuComponent;","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/components/MenuCom.js"],"names":["React","Menu","Icon","FetchDoGet","FetchDoPost","MenuUnfoldOutlined","MenuFoldOutlined","UserOutlined","VideoCameraOutlined","UploadOutlined","SubMenu","MenuItemGroup","ItemGroup","MenuComponent","Component","constructor","props","state","current","parentMenu","menuOnOpenHandle","bind","handleClick","subMenuClick","componentDidMount","_this","response","setState","console","log","getInitialState","e","key","forEach","item","menuId","render","map","index","menuUrl","menuName","undefined","cItem"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport {Menu,Icon} from 'antd';\nimport 'antd/dist/antd.css'; \n//请求的基本操作\nimport {FetchDoGet,FetchDoPost} from './../commons/Utils'\n\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  UserOutlined,\n  VideoCameraOutlined,\n  UploadOutlined,\n} from '@ant-design/icons';\n\n\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n\n\n/**\n * 我们的menu的组件\n */\nclass MenuComponent extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            current:1,\n            parentMenu:[]\n        }\n        this.menuOnOpenHandle=this.menuOnOpenHandle.bind(this)\n        this.handleClick=this.handleClick.bind(this)\n        this.subMenuClick=this.subMenuClick.bind(this)\n    }\n    componentDidMount(){\n        const _this=this;\n        FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function (response) {\n            _this.setState({\n                parentMenu:response\n            })\n            console.log(response);\n            \n        });\n    }\n\n    getInitialState() {\n        return {\n          current: '1',\n        };\n      }\n      handleClick(e) {\n        console.log('click ', e);\n        this.setState({\n          current: e.key,\n        });\n      }\n\n      menuOnOpenHandle(e){\n          console.log(\"menuOnOpenHandle\",e)\n      }\n\n      subMenuClick(e){\n        console.log(\"subMenuClick\",e)\n        const _this=this;\n        let {parentMenu}=_this.state;\n        FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function (response) {\n                //item[item.menuId]=response\n                console.log(response);\n                \n                console.log(\"parentMenu\",parentMenu);\n\n                parentMenu.forEach((item)=>{\n                  if(item.menuId==e.key){\n                    item[\"childMenu\"+e.key]=response\n                  }\n                })\n                _this.setState({\n                  parentMenu:parentMenu\n                })\n\n                console.log(\"parentMenu2\",parentMenu);\n            },{\"pMenuId\":e.key});\n      }\n\n    render(){\n\n        let {parentMenu} =this.state;\n\n        console.log(parentMenu)\n\n        parentMenu.forEach((item)=>{\n            // FetchDoGet(\"block/v1/menu/getMenuByLoginUser\",function (response) {\n            //     item[item.menuId]=response\n            //     console.log(response);\n                \n            // },{\"pMenuId\":item.menuId});\n        });\n\n        console.log(\"parentMenu\",parentMenu);\n        return(\n            <Menu theme=\"dark\" onClick={this.handleClick}\n            defaultOpenKeys={['sub1']}\n            selectedKeys={[this.state.current]}\n            mode=\"inline\"\n            >\n                {parentMenu.map((item,index)=>{\n                    return (\n                      (item.menuUrl!=null&&item.menuUrl!=\"#\")?(\n                        <Menu.Item key={item.menuId}>\n                          <UserOutlined />\n                          选项1\n                          </Menu.Item>\n                      ):(\n                        <SubMenu key={item.menuId} title={<span><UserOutlined /><span>{item.menuName}</span></span>} \n                        onTitleClick={this.subMenuClick}>\n\n                          {(null!=item[\"childMenu\"+item.menuId]&&undefined!=item[\"childMenu\"+item.menuId])?(\n                            item[\"childMenu\"+item.menuId].map((cItem)=>{\n                            return <Menu.Item key={cItem.menuId}>{item.menuName}</Menu.Item>\n                            })\n                          ):(\"\")}\n                        \n                        {/* <Menu.Item key=\"1\">选项1</Menu.Item>\n                        <Menu.Item key=\"2\">选项2</Menu.Item> */}\n                            {/* <MenuItemGroup title=\"分组1\">\n                                <Menu.Item key=\"1\">选项1</Menu.Item>\n                                <Menu.Item key=\"2\">选项2</Menu.Item>\n                            </MenuItemGroup>\n                            <MenuItemGroup title=\"分组2\">\n                                <Menu.Item key=\"3\">选项3</Menu.Item>\n                                <Menu.Item key=\"4\">选项4</Menu.Item>\n                            </MenuItemGroup> */}\n                    </SubMenu>\n                      )\n                    )\n                })}\n            {/* <SubMenu key=\"sub1\" title={<span><span>导航一</span></span>}>\n              <MenuItemGroup title=\"分组1\">\n                <Menu.Item key=\"1\">选项1</Menu.Item>\n                <Menu.Item key=\"2\">选项2</Menu.Item>\n              </MenuItemGroup>\n              <MenuItemGroup title=\"分组2\">\n                <Menu.Item key=\"3\">选项3</Menu.Item>\n                <Menu.Item key=\"4\">选项4</Menu.Item>\n              </MenuItemGroup>\n            </SubMenu>\n            <SubMenu key=\"sub2\" title={<span><span>导航二</span></span>}>\n              <Menu.Item key=\"5\">选项5</Menu.Item>\n              <Menu.Item key=\"6\">选项6</Menu.Item>\n              <SubMenu key=\"sub3\" title=\"三级导航\">\n                <Menu.Item key=\"7\">选项7</Menu.Item>\n                <Menu.Item key=\"8\">选项8</Menu.Item>\n              </SubMenu>\n            </SubMenu>\n            <SubMenu key=\"sub4\" title={<span><span>导航三</span></span>}>\n              <Menu.Item key=\"9\">选项9</Menu.Item>\n              <Menu.Item key=\"10\">选项10</Menu.Item>\n              <Menu.Item key=\"11\">选项11</Menu.Item>\n              <Menu.Item key=\"12\">选项12</Menu.Item>\n            </SubMenu> */}\n          </Menu>\n        )\n    }\n}\n\nexport default MenuComponent"]},"metadata":{},"sourceType":"module"}
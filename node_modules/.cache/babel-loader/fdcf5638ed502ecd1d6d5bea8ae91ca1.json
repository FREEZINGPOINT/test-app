{"ast":null,"code":"import React from'react';import{fetch as fetchPolyfill}from'whatwg-fetch';import{BrowserRouter as Router,Route,Link,Redirect,withRouter}from\"react-router-dom\";import LoginMod from'./../login/Signin';import'antd/dist/antd.css';import{Button,notification,message,Modal}from'antd';import{ExclamationCircleOutlined}from'@ant-design/icons';import store from'./../store/store';var confirm=Modal.confirm;/**\n * 我们的基本的工具\n */var prefix=\"https://myblogadmin.breakpoint.vip/\";//const prefix=\"http://localhost:8084/\";\n//export const Prefix =\"http://localhost:8090/\";\nvar openNotificationWithIcon=function openNotificationWithIcon(type){notification[type]({message:'Notification Title',description:'This is the content of the notification. This is the content of the notification. This is the content of the notification.'});};/**\n * 我们的基本的提示操作\n * @param {string} type \n * @param {string} content \n */export function MessageAlter(type,content){if(\"success\"==type){message.success(content,2);}else if(\"error\"==type){message.error(content,2);}else{message.warning(content,2);}}var showConfirm=function showConfirm(title,content){confirm({title:title,icon:React.createElement(ExclamationCircleOutlined,null),content:content,cancelButtonProps:{disabled:true},onOk:function onOk(){console.log('OK');window.location.href=\"/login\";},onCancel:function onCancel(){console.log('Cancel');}});};function showDeleteConfirm(){confirm({title:'Are you sure delete this task?',icon:React.createElement(ExclamationCircleOutlined,null),content:'Some descriptions',okText:'Yes',okType:'danger',cancelText:'No',onOk:function onOk(){console.log('OK');},onCancel:function onCancel(){console.log('Cancel');}});}/**\n * \n * @param {string} url  请求的url\n * @param {function} callback  回掉函数\n * @param {{}} paramMap  请求参数\n *  * @param {boolean isAlert  是否直接返回\n */export function FetchDoGet(url,callback,paramMap,isAlert,isHaveToken){//let prex=prefix[1]\n//console.log(\"prefx\",prefix)\nvar moreStr=\"?\";if(null!=paramMap&&undefined!=paramMap){var keys=Object.keys(paramMap);for(var index in keys){{moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]];}}}if(undefined==isHaveToken||null==isHaveToken||isHaveToken){var token=localStorage.getItem(\"user_token\");moreStr=moreStr+\"&token=\"+token;}var request=null;if(url.indexOf(\"http\")>=0){request=url;}else{request=prefix+url;}fetch(request+moreStr,{method:\"GET\"}).then(function(response){return response.json();}).then(function(json){//console.log(isAlert);\n// if(store.getState().token==null){\n//     console.log(store.getState());\n//     store.setState({\n//         token:\"ceshi\"\n//     })\n// }\n//console.log(store.getState());\nif(undefined==isAlert||null==isAlert||isAlert){if(json.respCode===200){if(null!=callback&&undefined!=callback){callback(json.data);}}else if(json.respCode===300){localStorage.setItem(\"user_token\",null);store.setState({token:null});message.error(json.data);//alert(json.data)\n//openNotificationWithIcon('warning')\n//window.location.href=\"/login\"\n}else{//alert(json.data)\nmessage.warning(json.data);//openNotificationWithIcon('warning')\n}}else{callback(json);}//console.log(json)\n});}function getkey(obj){var arr=[];var str='';for(var key in obj){arr.push(key+\"=\"+obj[key]);}str=arr.join('&');}/**\n * post 的请求操作\n * @param {*} url  请求的路径\n * @param {*} callback  回掉的函数\n * @param {*} paramMap  请求的参数\n */export function FetchDoPost(url,callback,paramMap){//console.log(\"prefx\",prefix)\nvar data={};if(null!=paramMap&&undefined!=paramMap){data=paramMap;}var moreStr=\"\";if(null!=paramMap&&undefined!=paramMap){var keys=Object.keys(paramMap);console.log(keys);for(var index in keys){moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]];}}//debugger;\n//console.log(\"data\",data);\nvar token=localStorage.getItem(\"user_token\");moreStr=moreStr+\"&token=\"+token;var requestUrl=prefix+url+moreStr;console.log(\"requestUrl\",requestUrl);fetch(prefix+url,{method:\"POST\",mode:'cors',// credentials: 'include',\nheaders:{// 'Accept': 'application/json', \n// 'Content-Type': 'application/json',\n'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},// body:JSON.stringify(requestData)\nbody:moreStr}).then(function(response){return response.json();}).then(function(json){if(json.respCode==200){if(null!=callback&&undefined!=callback){callback(json.data);}}else if(json.respCode==300){localStorage.setItem(\"user_token\",null);store.setState({token:null});message.error(json.data);//showConfirm(\"系统提示\",\"您没有登陆\")\n//alert(json.data)\n//return <Redirect to=\"/login\" />;\n}else{message.warning(json.data);//alert(json.data)\n}//console.log(json)\n});}export var UploadFileUrl=\"/block/v1/oss/uploadFileToOss\";/**\n * \n * 上传我们的文件的操作\n * @param {string} postUrl 请求接口\n * @param {FormData} formData new FormData();\n * @param {function} callBack 回掉函数\n */export function FetchDoUploadFile(postUrl,formData,callBack){if(null==postUrl){postUrl=UploadFileUrl;}var token=localStorage.getItem(\"user_token\");var requestUrl=prefix+postUrl+\"?token=\"+token;/**\n     * 执行上传的操作\n     */fetch(requestUrl,{method:\"POST\",body:formData}).then(function(response){console.log(response);return response.json();}).then(function(json){if(json.respCode==200){message.success(\"文件上传成功\");if(null!=callBack&&undefined!=callBack){callBack(json.data);}}else if(json.respCode==300){localStorage.setItem(\"user_token\",null);store.setState({token:null});message.error(json.data);//MessageAlter(\"系统提示\",\"您没有登陆\")    \n}else{message.warning(json.data);//alert(json.data)\n}});}export function GetQueryVariable(variable){var query=window.location.search.substring(1);var vars=query.split(\"&\");for(var i=0;i<vars.length;i++){var pair=vars[i].split(\"=\");if(pair[0]==variable){return pair[1];}}return false;}","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/src/commons/Utils.js"],"names":["React","fetch","fetchPolyfill","BrowserRouter","Router","Route","Link","Redirect","withRouter","LoginMod","Button","notification","message","Modal","ExclamationCircleOutlined","store","confirm","prefix","openNotificationWithIcon","type","description","MessageAlter","content","success","error","warning","showConfirm","title","icon","cancelButtonProps","disabled","onOk","console","log","window","location","href","onCancel","showDeleteConfirm","okText","okType","cancelText","FetchDoGet","url","callback","paramMap","isAlert","isHaveToken","moreStr","undefined","keys","Object","index","token","localStorage","getItem","request","indexOf","method","then","response","json","respCode","data","setItem","setState","getkey","obj","arr","str","key","push","join","FetchDoPost","requestUrl","mode","headers","body","UploadFileUrl","FetchDoUploadFile","postUrl","formData","callBack","GetQueryVariable","variable","query","search","substring","vars","split","i","length","pair"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {fetch as fetchPolyfill} from 'whatwg-fetch'\nimport { BrowserRouter as Router,Route,Link,Redirect, withRouter} from \"react-router-dom\";\nimport LoginMod from './../login/Signin'\n\nimport 'antd/dist/antd.css';\nimport { Button, notification,message,Modal } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\n\nimport store from './../store/store';\n\n\nconst { confirm } = Modal;\n\n/**\n * 我们的基本的工具\n */\nconst prefix=\"https://myblogadmin.breakpoint.vip/\";\n//const prefix=\"http://localhost:8084/\";\n\n//export const Prefix =\"http://localhost:8090/\";\n\n\n\nconst openNotificationWithIcon = type => {\n    notification[type]({\n      message: 'Notification Title',\n      description:\n        'This is the content of the notification. This is the content of the notification. This is the content of the notification.',\n    });\n};\n\n/**\n * 我们的基本的提示操作\n * @param {string} type \n * @param {string} content \n */\nexport function MessageAlter(type,content){\n    if(\"success\"==type){\n        message.success(content,2);\n    }else if(\"error\"==type){\n        message.error(content,2)\n    }else{\n        message.warning(content,2);\n    }\n}\n\n\nconst  showConfirm=function(title,content) {\n    confirm({\n      title: title,\n      icon: <ExclamationCircleOutlined />,\n      content: content,\n      cancelButtonProps: {\n        disabled: true,\n      },\n      onOk() {\n        console.log('OK');\n        window.location.href=\"/login\"\n      },\n      onCancel() {\n        console.log('Cancel');\n      },\n    });\n  }\n  \n  function showDeleteConfirm() {\n    confirm({\n      title: 'Are you sure delete this task?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Some descriptions',\n      okText: 'Yes',\n      okType: 'danger',\n      cancelText: 'No',\n      onOk() {\n        console.log('OK');\n      },\n      onCancel() {\n        console.log('Cancel');\n      },\n    });\n  }\n\n\n\n/**\n * \n * @param {string} url  请求的url\n * @param {function} callback  回掉函数\n * @param {{}} paramMap  请求参数\n *  * @param {boolean isAlert  是否直接返回\n */\nexport function FetchDoGet(url,callback,paramMap,isAlert,isHaveToken){\n    //let prex=prefix[1]\n    //console.log(\"prefx\",prefix)\n    let moreStr=\"?\"\n    if(null!=paramMap&&undefined!=paramMap){\n        const keys=Object.keys(paramMap);\n        for(var index in keys){\n            {moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]]}\n        }\n    }\n\n    if(undefined==isHaveToken||null==isHaveToken||isHaveToken){\n        const token=localStorage.getItem(\"user_token\");\n        moreStr=moreStr+\"&token=\"+token\n    }\n    let request=null;\n    if(url.indexOf(\"http\")>=0){\n        request=url;\n    }else{\n        request=prefix+url\n    }\n\n    fetch(request+moreStr,{\n        method:\"GET\",\n    }).then(function(response){\n        return response.json()\n    }).then(function(json){\n        //console.log(isAlert);\n        // if(store.getState().token==null){\n        //     console.log(store.getState());\n        //     store.setState({\n        //         token:\"ceshi\"\n        //     })\n        // }\n        //console.log(store.getState());\n        \n        if(undefined==isAlert||null==isAlert||isAlert){\n            if(json.respCode===200){\n                if(null!=callback&&undefined!=callback){\n                    callback(json.data) \n                }\n            }else if(json.respCode===300){\n                localStorage.setItem(\"user_token\",null)\n                store.setState({\n                    token:null\n                })\n                message.error(json.data);\n                //alert(json.data)\n                //openNotificationWithIcon('warning')\n                 //window.location.href=\"/login\"\n            }else{\n                //alert(json.data)\n                message.warning(json.data);\n                //openNotificationWithIcon('warning')\n            }\n        }else{\n            callback(json) \n        }\n       //console.log(json)\n    });\n}\n\nfunction getkey(obj) {\n    var arr = []\n    var str = ''\n    for (const key in obj) {\n        arr.push(key + \"=\" + obj[key])\n    }\n    str = arr.join('&')\n}\n\n/**\n * post 的请求操作\n * @param {*} url  请求的路径\n * @param {*} callback  回掉的函数\n * @param {*} paramMap  请求的参数\n */\nexport function FetchDoPost(url,callback,paramMap){\n    //console.log(\"prefx\",prefix)\n    let data={}\n    if(null!=paramMap&&undefined!=paramMap){\n        data=paramMap\n    }\n\n    let moreStr=\"\"\n    if(null!=paramMap&&undefined!=paramMap){\n        const keys=Object.keys(paramMap);\n        console.log(keys)\n        for(var index in keys){\n            moreStr=moreStr+\"&\"+keys[index]+\"=\"+paramMap[keys[index]]\n        }\n    }\n    //debugger;\n    //console.log(\"data\",data);\n    const token=localStorage.getItem(\"user_token\");\n    moreStr=moreStr+\"&token=\"+token\n    let requestUrl=prefix+url+moreStr;\n    console.log(\"requestUrl\",requestUrl);\n    fetch(prefix+url,{\n        method:\"POST\",\n        mode: 'cors',\n        // credentials: 'include',\n        headers: {\n            // 'Accept': 'application/json', \n            // 'Content-Type': 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n          },\n        // body:JSON.stringify(requestData)\n        body:moreStr\n    }).then(function(response){\n        return response.json()\n    }).then(function(json){\n        if(json.respCode==200){\n            if(null!=callback&&undefined!=callback){\n                callback(json.data)   \n            }\n        }else if(json.respCode==300){\n            localStorage.setItem(\"user_token\",null)\n            store.setState({\n                token:null\n            })\n            message.error(json.data);\n            //showConfirm(\"系统提示\",\"您没有登陆\")\n            //alert(json.data)\n            //return <Redirect to=\"/login\" />;\n            \n        }else{\n            message.warning(json.data);\n            //alert(json.data)\n        }\n       //console.log(json)\n    });\n\n}\n\nexport const UploadFileUrl=\"/block/v1/oss/uploadFileToOss\"\n/**\n * \n * 上传我们的文件的操作\n * @param {string} postUrl 请求接口\n * @param {FormData} formData new FormData();\n * @param {function} callBack 回掉函数\n */\nexport function FetchDoUploadFile(postUrl,formData,callBack){\n    if(null==postUrl){\n        postUrl=UploadFileUrl\n    }\n    const token=localStorage.getItem(\"user_token\");\n    let requestUrl=prefix+postUrl+ \"?token=\"+token;\n    /**\n     * 执行上传的操作\n     */\n     fetch(requestUrl,{\n         method:\"POST\",\n         body:formData\n     }).then(function(response){\n         console.log(response)\n         return response.json()\n     }).then((json)=>{\n        if(json.respCode==200){\n            message.success(\"文件上传成功\")\n            if(null!=callBack&&undefined!=callBack){\n                callBack(json.data)\n            }\n        }else if(json.respCode==300){\n            localStorage.setItem(\"user_token\",null)\n            store.setState({\n                token:null\n            })\n            message.error(json.data);\n            //MessageAlter(\"系统提示\",\"您没有登陆\")    \n        }else{\n            message.warning(json.data);\n            //alert(json.data)\n        }\n     })\n}\n\nexport function GetQueryVariable(variable)\n{\n       var query = window.location.search.substring(1);\n       var vars = query.split(\"&\");\n       for (var i=0;i<vars.length;i++) {\n               var pair = vars[i].split(\"=\");\n               if(pair[0] == variable){return pair[1];}\n       }\n       return(false);\n}"]},"metadata":{},"sourceType":"module"}